{"version":3,"sources":["node_modules/ngx-progressbar/fesm2022/ngx-progressbar.mjs","src/app/core/layout/progress-bar/progress-bar.component.ts"],"sourcesContent":["import * as i0 from '@angular/core';\nimport { InjectionToken, numberAttribute, inject, input, computed, signal, output, effect, untracked, Directive, booleanAttribute, Component, ChangeDetectionStrategy } from '@angular/core';\nimport { outputToObservable } from '@angular/core/rxjs-interop';\nimport { BehaviorSubject, filter, switchMap, timer, tap, EMPTY, of, delay, finalize, takeUntil } from 'rxjs';\nfunction NgProgressbar_Conditional_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵdomElement(0, \"div\", 3);\n  }\n}\nfunction NgProgressbar_Conditional_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵdomElementStart(0, \"div\", 4);\n    i0.ɵɵdomElement(1, \"div\", 5);\n    i0.ɵɵdomElementEnd();\n  }\n}\nconst defaultOptions = {\n  min: 8,\n  max: 100,\n  speed: 200,\n  debounceTime: 0,\n  trickleSpeed: 300,\n  fadeOutSpeed: 50,\n  relative: false,\n  flat: false,\n  spinner: false,\n  direction: 'ltr+',\n  spinnerPosition: 'right',\n  trickleFunc: n => {\n    if (n >= 0 && n < 20) {\n      return 10;\n    }\n    if (n >= 20 && n < 50) {\n      return 4;\n    }\n    if (n >= 50 && n < 80) {\n      return 2;\n    }\n    if (n >= 80 && n < 99) {\n      return 0.5;\n    }\n    return 0;\n  }\n};\nconst NG_PROGRESS_OPTIONS = new InjectionToken('NG_PROGRESS_OPTIONS', {\n  providedIn: 'root',\n  factory: () => defaultOptions\n});\nfunction provideNgProgressOptions(options) {\n  return {\n    provide: NG_PROGRESS_OPTIONS,\n    useValue: {\n      ...defaultOptions,\n      ...options\n    }\n  };\n}\nvar TriggerType;\n(function (TriggerType) {\n  TriggerType[\"START\"] = \"START\";\n  TriggerType[\"COMPLETE\"] = \"COMPLETE\";\n})(TriggerType || (TriggerType = {}));\nfunction minAttribute(value) {\n  const min = numberAttribute(value) || 0;\n  return min < 100 && min >= 0 ? min : 0;\n}\nfunction maxAttribute(value) {\n  const max = numberAttribute(value) || 100;\n  return max > 0 && max <= 100 ? max : 100;\n}\nclass NgProgressRef {\n  constructor() {\n    this.defaultOptions = inject(NG_PROGRESS_OPTIONS);\n    this.min = input(this.defaultOptions.min, {\n      transform: minAttribute\n    });\n    this.max = input(this.defaultOptions.max, {\n      transform: maxAttribute\n    });\n    this.speed = input(this.defaultOptions.speed, {\n      transform: numberAttribute\n    });\n    this.trickleSpeed = input(this.defaultOptions.trickleSpeed, {\n      transform: numberAttribute\n    });\n    this.fadeOutSpeed = input(this.defaultOptions.fadeOutSpeed, {\n      transform: numberAttribute\n    });\n    this.debounceTime = input(this.defaultOptions.debounceTime, {\n      transform: numberAttribute\n    });\n    this.trickleFunc = input(this.defaultOptions.trickleFunc);\n    this.config = computed(() => {\n      return {\n        max: this.max(),\n        min: this.min(),\n        speed: this.speed(),\n        trickleSpeed: this.trickleSpeed(),\n        fadeOutSpeed: this.fadeOutSpeed(),\n        trickleFunc: this.trickleFunc(),\n        debounceTime: this.debounceTime()\n      };\n    });\n    this._progress = signal(0);\n    this._active = signal(false);\n    this.active = computed(() => this._active());\n    this.progress = computed(() => this._progress());\n    // Progress start source event (used to cancel onComplete delays)\n    this.started = output();\n    // Progress ended source event\n    this.completed = output();\n    this._trigger = new BehaviorSubject(null);\n    let sub$;\n    effect(onCleanup => {\n      const config = this.config();\n      untracked(() => {\n        sub$ = this._trigger.pipe(filter(trigger => !!trigger), switchMap(trigger => {\n          if (trigger === TriggerType.START) {\n            return timer(config.debounceTime).pipe(switchMap(() => this.onTrickling(config)));\n          }\n          return this.onComplete(config);\n        })).subscribe();\n        onCleanup(() => sub$?.unsubscribe());\n      });\n    });\n  }\n  /**\n   * Start the progress\n   */\n  start() {\n    this.started.emit();\n    this._trigger.next(TriggerType.START);\n    this._active.set(true);\n  }\n  /**\n   * Complete the progress\n   */\n  complete() {\n    this._trigger.next(TriggerType.COMPLETE);\n  }\n  /**\n   * Increment the progress\n   */\n  inc(amount) {\n    const n = this.progress();\n    if (!this.active()) {\n      this.start();\n    } else {\n      if (typeof amount !== 'number') {\n        amount = this.config().trickleFunc(n);\n      }\n      this.set(n + amount);\n    }\n  }\n  /**\n   * Set the progress\n   */\n  set(n) {\n    this._active.set(true);\n    this._progress.set(this.clamp(n));\n  }\n  /**\n   * Clamps a value to be between min and max\n   */\n  clamp(n) {\n    return Math.max(this.config().min, Math.min(this.config().max, n));\n  }\n  /**\n   * Keeps incrementing the progress\n   */\n  onTrickling(config) {\n    if (!this.active()) {\n      this.set(config.min);\n    }\n    return timer(0, config.trickleSpeed).pipe(tap(() => this.inc()));\n  }\n  /**\n   * Completes then resets the progress\n   */\n  onComplete(config) {\n    // If it's not active no need to complete\n    if (!this.active()) {\n      return EMPTY;\n    }\n    // Emit completed\n    this.completed.emit();\n    return of({}).pipe(\n    // Complete the progress\n    tap(() => this._progress.set(100)),\n    // Deactivate the progress after a tiny delay\n    delay(config.speed + 140), tap(() => this._active.set(false)),\n    // Use a tiny delay before resetting\n    delay(config.fadeOutSpeed),\n    // Force the progress to reset even it got cancelled\n    finalize(() => this._progress.set(0)),\n    // Cancel any of the finalizing delays if the progress has started again\n    takeUntil(outputToObservable(this.started)));\n  }\n  static {\n    this.ɵfac = function NgProgressRef_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || NgProgressRef)();\n    };\n  }\n  static {\n    this.ɵdir = /* @__PURE__ */i0.ɵɵdefineDirective({\n      type: NgProgressRef,\n      selectors: [[\"\", \"ngProgressRef\", \"\"]],\n      inputs: {\n        min: [1, \"min\"],\n        max: [1, \"max\"],\n        speed: [1, \"speed\"],\n        trickleSpeed: [1, \"trickleSpeed\"],\n        fadeOutSpeed: [1, \"fadeOutSpeed\"],\n        debounceTime: [1, \"debounceTime\"],\n        trickleFunc: [1, \"trickleFunc\"]\n      },\n      outputs: {\n        started: \"started\",\n        completed: \"completed\"\n      },\n      exportAs: [\"ngProgressRef\"]\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgProgressRef, [{\n    type: Directive,\n    args: [{\n      standalone: true,\n      selector: '[ngProgressRef]',\n      exportAs: 'ngProgressRef'\n    }]\n  }], () => [], null);\n})();\nclass NgProgressbar {\n  constructor() {\n    this.config = inject(NG_PROGRESS_OPTIONS);\n    /** Progress bar worker */\n    this.progressRef = inject(NgProgressRef, {\n      host: true,\n      self: true\n    });\n    this.flat = input(this.config.flat, {\n      transform: booleanAttribute\n    });\n    this.spinner = input(this.config.spinner, {\n      transform: booleanAttribute\n    });\n    this.relative = input(this.config.relative, {\n      transform: booleanAttribute\n    });\n    this.spinnerPosition = input(this.config.spinnerPosition);\n    this.direction = input(this.config.direction);\n    this.progressTransform = computed(() => {\n      return `translate3d(${this.progressRef.progress()}%,0,0)`;\n    });\n  }\n  static {\n    this.ɵfac = function NgProgressbar_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || NgProgressbar)();\n    };\n  }\n  static {\n    this.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n      type: NgProgressbar,\n      selectors: [[\"ng-progress\"]],\n      hostAttrs: [\"role\", \"progressbar\"],\n      hostVars: 12,\n      hostBindings: function NgProgressbar_HostBindings(rf, ctx) {\n        if (rf & 2) {\n          i0.ɵɵattribute(\"spinnerPosition\", ctx.spinnerPosition())(\"direction\", ctx.direction());\n          i0.ɵɵstyleProp(\"--_ng-progress-speed\", ctx.progressRef.speed() + \"ms\")(\"--_ng-progress-fade-out-speed\", ctx.progressRef.fadeOutSpeed() + \"ms\");\n          i0.ɵɵclassProp(\"ng-progress-bar\", true)(\"ng-progress-bar-active\", ctx.progressRef.active())(\"ng-progress-bar-relative\", ctx.relative());\n        }\n      },\n      inputs: {\n        flat: [1, \"flat\"],\n        spinner: [1, \"spinner\"],\n        relative: [1, \"relative\"],\n        spinnerPosition: [1, \"spinnerPosition\"],\n        direction: [1, \"direction\"]\n      },\n      exportAs: [\"ngProgress\"],\n      features: [i0.ɵɵHostDirectivesFeature([{\n        directive: NgProgressRef,\n        inputs: [\"min\", \"min\", \"max\", \"max\", \"speed\", \"speed\", \"trickleSpeed\", \"trickleSpeed\", \"fadeOutSpeed\", \"fadeOutSpeed\", \"debounceTime\", \"debounceTime\"],\n        outputs: [\"started\", \"started\", \"completed\", \"completed\"]\n      }])],\n      decls: 5,\n      vars: 4,\n      consts: [[1, \"ng-progress-bar-wrapper\"], [1, \"ng-bar-placeholder\"], [1, \"ng-bar\"], [1, \"ng-meteor\"], [1, \"ng-spinner\"], [1, \"ng-spinner-icon\"]],\n      template: function NgProgressbar_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵdomElementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n          i0.ɵɵconditionalCreate(3, NgProgressbar_Conditional_3_Template, 1, 0, \"div\", 3);\n          i0.ɵɵdomElementEnd()();\n          i0.ɵɵconditionalCreate(4, NgProgressbar_Conditional_4_Template, 2, 0, \"div\", 4);\n          i0.ɵɵdomElementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(2);\n          i0.ɵɵstyleProp(\"transform\", ctx.progressTransform());\n          i0.ɵɵadvance();\n          i0.ɵɵconditional(!ctx.flat() ? 3 : -1);\n          i0.ɵɵadvance();\n          i0.ɵɵconditional(ctx.spinner() ? 4 : -1);\n        }\n      },\n      styles: [\"[_nghost-%COMP%]{--_ng-progress-thickness: var(--ng-progress-thickness, 2);--_ng-progress-thickness-px: calc(var(--_ng-progress-thickness) * 1px);--_ng-progress-thickness-add-one: calc(var(--_ng-progress-thickness) + 1);--_ng-progress-meteor-position-px: calc(var(--_ng-progress-thickness-add-one) * -1px);--_ng-progress-color: var(--ng-progress-color, #1B95E0);--_ng-progress-holder-color: var(--ng-progress-holder-color, transparent);--_ng-progress-ease: var(--ng-progress-ease, linear);--_ng-progress-spinner-thickness: var(--ng-progress-spinner-thickness, 2);--_ng-progress-spinner-thickness-px: calc(var(--_ng-progress-spinner-thickness) * 1px);--_ng-progress-spinner-spacing: var(--ng-progress-spinner-spacing, 15);--_ng-progress-spinner-spacing-px: calc(var(--_ng-progress-spinner-spacing) * 1px);--_ng-progress-spinner-size: var(--ng-progress-spinner-size, 18);--_ng-progress-spinner-size-px: calc(var(--_ng-progress-spinner-size) * 1px);--_ng-progress-spinner-speed: var(--ng-progress-spinner-speed, .25s);z-index:999999;pointer-events:none}.ng-progress-bar-active[_nghost-%COMP%]   .ng-progress-bar-wrapper[_ngcontent-%COMP%]{filter:alpha(opacity=100);opacity:1;transition:none}.ng-progress-bar-active[_nghost-%COMP%]   .ng-bar[_ngcontent-%COMP%]{transition:all var(--_ng-progress-speed) var(--_ng-progress-ease)}.ng-progress-bar-relative[_nghost-%COMP%]   .ng-progress-bar-wrapper[_ngcontent-%COMP%]{position:relative}[direction=\\\"ltr+\\\"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction=ltr-][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{rotate:calc(var(--_ng-progress-thickness-add-one) * 1deg)}[direction=\\\"ltr+\\\"][_nghost-%COMP%]   .ng-bar[_ngcontent-%COMP%], [direction=\\\"rtl+\\\"][_nghost-%COMP%]   .ng-bar[_ngcontent-%COMP%]{margin-left:-100%}[direction=\\\"ltr+\\\"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction=\\\"rtl+\\\"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{right:0}[direction=\\\"ltr+\\\"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction=rtl-][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{top:var(--_ng-progress-meteor-position-px)}[direction=ltr-][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction=\\\"rtl+\\\"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{bottom:var(--_ng-progress-meteor-position-px)}[direction=ltr-][_nghost-%COMP%]   .ng-bar-placeholder[_ngcontent-%COMP%], [direction=\\\"rtl+\\\"][_nghost-%COMP%]   .ng-bar-placeholder[_ngcontent-%COMP%]{transform:rotate(180deg)}[direction=ltr-][_nghost-%COMP%]   .ng-spinner-icon[_ngcontent-%COMP%], [direction=\\\"rtl+\\\"][_nghost-%COMP%]   .ng-spinner-icon[_ngcontent-%COMP%]{animation-direction:reverse}[direction=\\\"rtl+\\\"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction=rtl-][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{rotate:calc(var(--_ng-progress-thickness-add-one) * -1deg)}[_nghost-%COMP%]   .ng-spinner[_ngcontent-%COMP%]{top:var(--_ng-progress-spinner-spacing-px)}[spinnerPosition=left][_nghost-%COMP%]   .ng-spinner[_ngcontent-%COMP%]{left:var(--_ng-progress-spinner-spacing-px)}[spinnerPosition=right][_nghost-%COMP%]   .ng-spinner[_ngcontent-%COMP%]{right:var(--_ng-progress-spinner-spacing-px)}.ng-progress-bar-wrapper[_ngcontent-%COMP%]{position:fixed;z-index:999999;top:0;left:0;width:100%;transform:scale(1);filter:alpha(opacity=0);opacity:0;transition:opacity var(--_ng-progress-fade-out-speed) linear}.ng-bar-placeholder[_ngcontent-%COMP%]{position:absolute;height:var(--_ng-progress-thickness-px);width:100%}.ng-bar[_ngcontent-%COMP%]{width:100%;height:100%;transform:translate(-100%,0,0);background:var(--_ng-progress-color)}.ng-meteor[_ngcontent-%COMP%]{display:block;position:absolute;width:100px;height:100%;opacity:1;box-shadow:0 0 10px var(--_ng-progress-color),0 0 5px var(--_ng-progress-color)}.ng-spinner[_ngcontent-%COMP%]{position:absolute;display:block;z-index:1031;top:10px}.ng-spinner-icon[_ngcontent-%COMP%]{box-sizing:border-box;animation:_ngcontent-%COMP%_spinner-animation var(--_ng-progress-spinner-speed) linear infinite;border-style:solid;border-color:transparent;border-radius:50%;border-top-color:var(--_ng-progress-color);border-left-color:var(--_ng-progress-color);width:var(--_ng-progress-spinner-size-px);height:var(--_ng-progress-spinner-size-px);border-width:var(--_ng-progress-spinner-thickness-px)}@keyframes _ngcontent-%COMP%_spinner-animation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\"],\n      changeDetection: 0\n    });\n  }\n}\n(() => {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(NgProgressbar, [{\n    type: Component,\n    args: [{\n      standalone: true,\n      selector: 'ng-progress',\n      exportAs: 'ngProgress',\n      host: {\n        'role': 'progressbar',\n        '[class.ng-progress-bar]': 'true',\n        '[class.ng-progress-bar-active]': 'progressRef.active()',\n        '[class.ng-progress-bar-relative]': 'relative()',\n        '[attr.spinnerPosition]': 'spinnerPosition()',\n        '[attr.direction]': 'direction()',\n        '[style.--_ng-progress-speed]': 'progressRef.speed() + \"ms\"',\n        '[style.--_ng-progress-fade-out-speed]': 'progressRef.fadeOutSpeed() + \"ms\"'\n      },\n      hostDirectives: [{\n        directive: NgProgressRef,\n        inputs: ['min', 'max', 'speed', 'trickleSpeed', 'fadeOutSpeed', 'debounceTime'],\n        outputs: ['started', 'completed']\n      }],\n      template: `\n    <div class=\"ng-progress-bar-wrapper\">\n      <div class=\"ng-bar-placeholder\">\n        <div class=\"ng-bar\" [style.transform]=\"progressTransform()\">\n          @if (!flat()) {\n            <div class=\"ng-meteor\"></div>\n          }\n        </div>\n      </div>\n      @if (spinner()) {\n        <div class=\"ng-spinner\">\n          <div class=\"ng-spinner-icon\"></div>\n        </div>\n      }\n    </div>\n  `,\n      changeDetection: ChangeDetectionStrategy.OnPush,\n      styles: [\":host{--_ng-progress-thickness: var(--ng-progress-thickness, 2);--_ng-progress-thickness-px: calc(var(--_ng-progress-thickness) * 1px);--_ng-progress-thickness-add-one: calc(var(--_ng-progress-thickness) + 1);--_ng-progress-meteor-position-px: calc(var(--_ng-progress-thickness-add-one) * -1px);--_ng-progress-color: var(--ng-progress-color, #1B95E0);--_ng-progress-holder-color: var(--ng-progress-holder-color, transparent);--_ng-progress-ease: var(--ng-progress-ease, linear);--_ng-progress-spinner-thickness: var(--ng-progress-spinner-thickness, 2);--_ng-progress-spinner-thickness-px: calc(var(--_ng-progress-spinner-thickness) * 1px);--_ng-progress-spinner-spacing: var(--ng-progress-spinner-spacing, 15);--_ng-progress-spinner-spacing-px: calc(var(--_ng-progress-spinner-spacing) * 1px);--_ng-progress-spinner-size: var(--ng-progress-spinner-size, 18);--_ng-progress-spinner-size-px: calc(var(--_ng-progress-spinner-size) * 1px);--_ng-progress-spinner-speed: var(--ng-progress-spinner-speed, .25s);z-index:999999;pointer-events:none}:host.ng-progress-bar-active .ng-progress-bar-wrapper{filter:alpha(opacity=100);opacity:1;transition:none}:host.ng-progress-bar-active .ng-bar{transition:all var(--_ng-progress-speed) var(--_ng-progress-ease)}:host.ng-progress-bar-relative .ng-progress-bar-wrapper{position:relative}:host[direction=\\\"ltr+\\\"] .ng-meteor,:host[direction=ltr-] .ng-meteor{rotate:calc(var(--_ng-progress-thickness-add-one) * 1deg)}:host[direction=\\\"ltr+\\\"] .ng-bar,:host[direction=\\\"rtl+\\\"] .ng-bar{margin-left:-100%}:host[direction=\\\"ltr+\\\"] .ng-meteor,:host[direction=\\\"rtl+\\\"] .ng-meteor{right:0}:host[direction=\\\"ltr+\\\"] .ng-meteor,:host[direction=rtl-] .ng-meteor{top:var(--_ng-progress-meteor-position-px)}:host[direction=ltr-] .ng-meteor,:host[direction=\\\"rtl+\\\"] .ng-meteor{bottom:var(--_ng-progress-meteor-position-px)}:host[direction=ltr-] .ng-bar-placeholder,:host[direction=\\\"rtl+\\\"] .ng-bar-placeholder{transform:rotate(180deg)}:host[direction=ltr-] .ng-spinner-icon,:host[direction=\\\"rtl+\\\"] .ng-spinner-icon{animation-direction:reverse}:host[direction=\\\"rtl+\\\"] .ng-meteor,:host[direction=rtl-] .ng-meteor{rotate:calc(var(--_ng-progress-thickness-add-one) * -1deg)}:host .ng-spinner{top:var(--_ng-progress-spinner-spacing-px)}:host[spinnerPosition=left] .ng-spinner{left:var(--_ng-progress-spinner-spacing-px)}:host[spinnerPosition=right] .ng-spinner{right:var(--_ng-progress-spinner-spacing-px)}.ng-progress-bar-wrapper{position:fixed;z-index:999999;top:0;left:0;width:100%;transform:scale(1);filter:alpha(opacity=0);opacity:0;transition:opacity var(--_ng-progress-fade-out-speed) linear}.ng-bar-placeholder{position:absolute;height:var(--_ng-progress-thickness-px);width:100%}.ng-bar{width:100%;height:100%;transform:translate(-100%,0,0);background:var(--_ng-progress-color)}.ng-meteor{display:block;position:absolute;width:100px;height:100%;opacity:1;box-shadow:0 0 10px var(--_ng-progress-color),0 0 5px var(--_ng-progress-color)}.ng-spinner{position:absolute;display:block;z-index:1031;top:10px}.ng-spinner-icon{box-sizing:border-box;animation:spinner-animation var(--_ng-progress-spinner-speed) linear infinite;border-style:solid;border-color:transparent;border-radius:50%;border-top-color:var(--_ng-progress-color);border-left-color:var(--_ng-progress-color);width:var(--_ng-progress-spinner-size-px);height:var(--_ng-progress-spinner-size-px);border-width:var(--_ng-progress-spinner-thickness-px)}@keyframes spinner-animation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\\n\"]\n    }]\n  }], null, null);\n})();\n\n/*\n * Public API Surface of ngx-progressbar\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { NG_PROGRESS_OPTIONS, NgProgressRef, NgProgressbar, provideNgProgressOptions };\n","/*!\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.dev/license\n */\n\nimport {ChangeDetectionStrategy, Component, inject, PLATFORM_ID, viewChild} from '@angular/core';\nimport {isPlatformServer} from '@angular/common';\nimport {NgProgressbar, NgProgressRef} from 'ngx-progressbar';\nimport {\n  NavigationCancel,\n  NavigationEnd,\n  NavigationError,\n  NavigationSkipped,\n  NavigationStart,\n  Router,\n} from '@angular/router';\nimport {filter, map, switchMap, take} from 'rxjs/operators';\n\n/** Time to wait after navigation starts before showing the progress bar. This delay allows a small amount of time to skip showing the progress bar when a navigation is effectively immediate. 30ms is approximately the amount of time we can wait before a delay is perceptible.*/\nexport const PROGRESS_BAR_DELAY = 30;\n\n@Component({\n  selector: 'adev-progress-bar',\n  imports: [NgProgressbar],\n  template: `<ng-progress aria-label=\"页面加载进度\" />`,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class ProgressBarComponent {\n  private readonly router = inject(Router);\n\n  readonly progressBar = viewChild.required(NgProgressRef);\n\n  isServer = isPlatformServer(inject(PLATFORM_ID));\n\n  constructor() {\n    this.setupPageNavigationDimming();\n  }\n\n  /**\n   * Dims the main router-outlet content when navigating to a new page.\n   */\n  private setupPageNavigationDimming() {\n    if (this.isServer) {\n      return;\n    }\n    this.router.events\n      .pipe(\n        filter((e) => e instanceof NavigationStart),\n        map(() => {\n          // Only apply set the property if the navigation is not \"immediate\"\n          return setTimeout(() => {\n            this.progressBar().start();\n          }, PROGRESS_BAR_DELAY);\n        }),\n        switchMap((timeoutId) => {\n          return this.router.events.pipe(\n            filter((e) => {\n              return (\n                e instanceof NavigationEnd ||\n                e instanceof NavigationCancel ||\n                e instanceof NavigationSkipped ||\n                e instanceof NavigationError\n              );\n            }),\n            take(1),\n            map(() => timeoutId),\n          );\n        }),\n      )\n      .subscribe((timeoutId) => {\n        // When the navigation finishes, prevent the navigating class from being applied in the timeout.\n        clearTimeout(timeoutId);\n        this.progressBar().complete();\n      });\n  }\n}\n"],"mappings":"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","names":["TriggerType"],"x_google_ignoreList":[0]}