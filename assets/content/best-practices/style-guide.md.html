<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1">Angular 编码风格指南</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/best-practices/style-guide.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    
  <h2 id="introduction">
    <a href="#introduction" class="docs-anchor" tabindex="-1" aria-label="Link to Introduction">简介</a>
  </h2>
  <p>本指南涵盖了 Angular 应用代码的一系列风格约定。这些建议并非 Angular 正常工作所必需的，而是建立了一套编码实践，以促进整个 Angular 生态系统的一致性。一套一致的实践使得共享代码和在项目之间迁移更加容易。</p>
<p>本指南<em>不</em>涵盖 TypeScript 或与 Angular 无关的一般编码实践。有关 TypeScript，请查看<a href="https://google.github.io/styleguide/tsguide.html" target="_blank">Google 的 TypeScript 风格指南</a>。</p>

  <h3 id="when-in-doubt-prefer-consistency">
    <a href="#when-in-doubt-prefer-consistency" class="docs-anchor" tabindex="-1" aria-label="Link to When in doubt, prefer consistency">如有疑问，优先保持一致性</a>
  </h3>
  <p>每当你遇到这些规则与特定文件的风格相冲突的情况时，请优先在文件内保持一致性。
在一个文件中混合不同的风格约定会比偏离本指南的建议造成更多的混乱。</p>

  <h2 id="naming">
    <a href="#naming" class="docs-anchor" tabindex="-1" aria-label="Link to Naming">命名</a>
  </h2>
  
  <h3 id="separate-words-in-file-names-with-hyphens">
    <a href="#separate-words-in-file-names-with-hyphens" class="docs-anchor" tabindex="-1" aria-label="Link to Separate words in file names with hyphens">在文件名中使用连字符分隔单词</a>
  </h3>
  <p>在文件名中使用连字符（<code>-</code>）分隔单词。例如，名为 <code>UserProfile</code> 的组件的文件名为 <code>user-profile.ts</code>。</p>

  <h3 id="use-the-same-name-for-a-files-tests-with-spec-at-the-end">
    <a href="#use-the-same-name-for-a-files-tests-with-spec-at-the-end" class="docs-anchor" tabindex="-1" aria-label="Link to Use the same name for a file's tests with <code>.spec</code> at the end">为文件的测试使用相同的名称，并在末尾加上 <code>.spec</code></a>
  </h3>
  <p>对于单元测试，文件名的末尾应为 <code>.spec.ts</code>。例如，<code>UserProfile</code> 组件的单元测试文件的文件名为 <code>user-profile.spec.ts</code>。</p>

  <h3 id="match-file-names-to-the-typescript-identifier-within">
    <a href="#match-file-names-to-the-typescript-identifier-within" class="docs-anchor" tabindex="-1" aria-label="Link to Match file names to the TypeScript identifier within">文件名与内部的 TypeScript 标识符匹配</a>
  </h3>
  <p>文件名通常应描述文件中代码的内容。当文件包含一个 TypeScript 类时，文件名应反映该类名。例如，包含名为 <code>UserProfile</code> 的组件的文件名为 <code>user-profile.ts</code>。</p>
<p>如果文件包含多个主要的命名标识符，请选择一个描述其中代码的共同主题的名称。
如果文件中的代码不适合通用主题或功能区域，请考虑将代码分解到不同的文件中。
避免使用过于通用的文件名，如 <code>helpers.ts</code>、<code>utils.ts</code> 或 <code>common.ts</code>。</p>

  <h3 id="use-the-same-file-name-for-a-components-typescript-template-and-styles">
    <a href="#use-the-same-file-name-for-a-components-typescript-template-and-styles" class="docs-anchor" tabindex="-1" aria-label="Link to Use the same file name for a component's TypeScript, template, and styles">为组件的 TypeScript、模板和样式使用相同的文件名</a>
  </h3>
  <p>组件通常由一个 TypeScript 文件、一个模板文件和一个样式文件组成。这些文件应共享相同的名称，但具有不同的文件扩展名。例如，一个 <code>UserProfile</code> 组件可以拥有 <code>user-profile.ts</code>、<code>user-profile.html</code> 和 <code>user-profile.css</code> 文件。</p>
<p>如果一个组件有多个样式文件，请在名称后附加描述该文件特有样式的其他单词。例如，<code>UserProfile</code> 可能有样式文件 <code>user-profile-settings.css</code> 和 <code>user-profile-subscription.css</code>。</p>

  <h2 id="project-structure">
    <a href="#project-structure" class="docs-anchor" tabindex="-1" aria-label="Link to Project structure">项目结构</a>
  </h2>
  
  <h3 id="all-the-applications-code-goes-in-a-directory-named-src">
    <a href="#all-the-applications-code-goes-in-a-directory-named-src" class="docs-anchor" tabindex="-1" aria-label="Link to All the application's code goes in a directory named <code>src</code>">所有应用程序的代码都放在一个名为 <code>src</code> 的目录中</a>
  </h3>
  <p>您所有的 Angular UI 代码（TypeScript、HTML 和样式）都应放在一个名为 <code>src</code> 的目录中。
与 UI 无关的代码，例如配置文件或脚本，应放在 <code>src</code> 目录之外。</p>
<p>这使得根应用程序目录在不同的 Angular 项目之间保持一致，并创建了 UI 代码与项目中其他代码之间的清晰分离。</p>

  <h3 id="bootstrap-your-application-in-a-file-named-maints-directly-inside-src">
    <a href="#bootstrap-your-application-in-a-file-named-maints-directly-inside-src" class="docs-anchor" tabindex="-1" aria-label="Link to Bootstrap your application in a file named <code>main.ts</code> directly inside <code>src</code>">在 <code>src</code> 内部直接命名为 <code>main.ts</code> 的文件中引导（Bootstrap）您的应用程序</a>
  </h3>
  <p>用于启动或<strong>引导</strong> Angular 应用程序的代码应始终放在一个名为 <code>main.ts</code> 的文件中。这代表了应用程序的主要入口点。</p>

  <h3 id="group-closely-related-files-together-in-the-same-directory">
    <a href="#group-closely-related-files-together-in-the-same-directory" class="docs-anchor" tabindex="-1" aria-label="Link to Group closely related files together in the same directory">将紧密相关的文件的放在同一个目录中</a>
  </h3>
  <p>Angular 组件由一个 TypeScript 文件以及可选的模板和一或多个样式文件组成。您应该将它们分组在同一个目录中。</p>
<p>单元测试应与被测代码位于同一目录中。避免将不相关的测试收集到一个单独的 <code>tests</code> 目录中。</p>

  <h3 id="organize-your-project-by-feature-areas">
    <a href="#organize-your-project-by-feature-areas" class="docs-anchor" tabindex="-1" aria-label="Link to Organize your project by feature areas">按功能区域组织您的项目</a>
  </h3>
  <p>根据应用的特性或目录中代码的通用主题来组织项目到子目录中。例如，电影院网站 MovieReel 的项目结构可能如下所示：</p>

      <div class="docs-code" role="group">
        <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span>src/</span></span><span class="line"><span>├─ movie-reel/</span></span><span class="line"><span>│ ├─ show-times/</span></span><span class="line"><span>│ │ ├─ film-calendar/</span></span><span class="line"><span>│ │ ├─ film-details/</span></span><span class="line"><span>│ ├─ reserve-tickets/</span></span><span class="line"><span>│ │ ├─ payment-info/</span></span><span class="line"><span>│ │ ├─ purchase-confirmation/</span></span></code></pre>
      </div>
    <p>避免根据代码所在的目录类型来创建子目录。例如，避免创建像 <code>components</code>、<code>directives</code> 和 <code>services</code> 这样的目录。</p>
<p>避免将过多文件放入一个目录中，使其难以阅读或导航。随着目录中文件数量的增长，考虑进一步拆分到额外的子目录中。</p>

  <h3 id="one-concept-per-file">
    <a href="#one-concept-per-file" class="docs-anchor" tabindex="-1" aria-label="Link to One concept per file">每个文件一个概念</a>
  </h3>
  <p>倾向于将源文件集中于单个<em>概念</em>。对于 Angular 类来说，这通常意味着每个文件包含一个组件、指令或服务。但是，如果你的类相对较小并且它们作为单个概念的一部分联系在一起，那么一个文件包含多个组件或指令也是可以的。</p>
<p>如有疑问，请选择能产生更小文件的方案。</p>

  <h2 id="dependency-injection">
    <a href="#dependency-injection" class="docs-anchor" tabindex="-1" aria-label="Link to Dependency injection">依赖注入</a>
  </h2>
  
  <h3 id="prefer-the-inject-function-over-constructor-parameter-injection">
    <a href="#prefer-the-inject-function-over-constructor-parameter-injection" class="docs-anchor" tabindex="-1" aria-label="Link to Prefer the <code>inject</code> function over constructor parameter injection">优先使用 <code>inject</code> 函数而非构造函数参数注入</a>
  </h3>
  <p>优先使用 <code>inject</code> 函数而非注入构造函数参数。<code>inject</code> 函数的工作方式与构造函数参数注入相同，但提供了几个样式上的优势：</p>

  <ul class="docs-list">
    <li><code>inject</code> 通常更具可读性，尤其是在一个类注入了许多依赖项时。</li>
<li>在注入的依赖项中添加注释在语法上更直接</li>
<li><code>inject</code> 提供了更好的类型推断。</li>
<li>当使用 <a href="https://www.typescript.org/tsconfig/#useDefineForClassFields" target="_blank"><code>useDefineForClassFields</code></a> 目标为 ES2022+ 时，在读取注入依赖项的字段时，可以避免字段声明和初始化的分离。</li>

  </ul>
  <p><a href="reference/migrations/inject-function">您可以使用自动工具将现有代码重构为 <code>inject</code></a>。</p>

  <h2 id="components-and-directives">
    <a href="#components-and-directives" class="docs-anchor" tabindex="-1" aria-label="Link to Components and directives">组件和指令</a>
  </h2>
  
  <h3 id="choosing-component-selectors">
    <a href="#choosing-component-selectors" class="docs-anchor" tabindex="-1" aria-label="Link to Choosing component selectors">选择组件选择器</a>
  </h3>
  <p>请参阅 <a href="guide/components/selectors#choosing-a-selector">组件指南以了解选择组件选择器的详细信息</a>。</p>

  <h3 id="naming-component-and-directive-members">
    <a href="#naming-component-and-directive-members" class="docs-anchor" tabindex="-1" aria-label="Link to Naming component and directive members">命名组件和指令成员</a>
  </h3>
  <p>请参阅组件指南以了解有关 <a href="guide/components/inputs#choosing-input-names">命名输入属性</a> 和 <a href="guide/components/outputs#choosing-event-names">命名输出属性</a> 的详细信息。</p>

  <h3 id="choosing-directive-selectors">
    <a href="#choosing-directive-selectors" class="docs-anchor" tabindex="-1" aria-label="Link to Choosing directive selectors">选择指令选择器</a>
  </h3>
  <p>指令应使用与您的组件相同的 <a href="guide/components/selectors#selector-prefixes">特定于应用的 prefix</a>。</p>
<p>当为指令使用属性选择器时，请使用 camelCase 属性名称。例如，如果您的应用程序名为“MovieReel”，并且您构建了一个向元素添加工具提示的指令，则可以使用选择器 <code>[mrTooltip]</code>。</p>

  <h3 id="group-angular-specific-properties-before-methods">
    <a href="#group-angular-specific-properties-before-methods" class="docs-anchor" tabindex="-1" aria-label="Link to Group Angular-specific properties before methods">在方法之前对 Angular 特定的属性进行分组</a>
  </h3>
  <p>组件和指令应将 Angular 特定的属性分组在一起，通常在类声明的顶部附近。这包括注入的依赖项、输入、输出和查询。在类的这些方法和其他属性之前定义它们。</p>
<p>这种做法使得查找类的模板 API 和依赖项更加容易。</p>

  <h3 id="keep-components-and-directives-focused-on-presentation">
    <a href="#keep-components-and-directives-focused-on-presentation" class="docs-anchor" tabindex="-1" aria-label="Link to Keep components and directives focused on presentation">保持组件和指令专注于表示</a>
  </h3>
  <p>组件和指令中的代码通常应与页面上显示的 UI 相关。对于有意义的、与 UI 分离的代码，请优先重构到其他文件中。例如，可以将表单验证规则或数据转换分解到单独的函数或类中。</p>

  <h3 id="avoid-overly-complex-logic-in-templates">
    <a href="#avoid-overly-complex-logic-in-templates" class="docs-anchor" tabindex="-1" aria-label="Link to Avoid overly complex logic in templates">避免在模板中使用过于复杂的逻辑</a>
  </h3>
  <p>Angular 模板旨在支持<a href="guide/templates/expression-syntax">类似 JavaScript 的表达式</a>。您应该利用这些表达式将相对直接的逻辑直接包含在模板表达式中。</p>
<p>但是，当模板中的代码变得过于复杂时，请将逻辑重构到 TypeScript 代码中（通常使用<a href="guide/signals#computed-signals">计算信号</a>）。</p>
<p>对于什么构成“复杂”，没有一成不变的规则。请自行判断。</p>

  <h3 id="use-protected-on-class-members-that-are-only-used-by-a-components-template">
    <a href="#use-protected-on-class-members-that-are-only-used-by-a-components-template" class="docs-anchor" tabindex="-1" aria-label="Link to Use <code>protected</code> on class members that are only used by a component's template">对于仅被组件模板使用的类成员，请使用 <code>protected</code>。</a>
  </h3>
  <p>组件类的公共成员本身就定义了一个可以通过依赖注入和<a href="guide/components/queries">查询</a>访问的公共 API。对于旨在从组件模板读取的任何成员，请优先使用 <code>protected</code> 访问。</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  ...</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  template: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">`&lt;p&gt;{{ fullName() }}&lt;/p&gt;`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> UserProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  firstName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/core/input">input</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  lastName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/core/input">input</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// `fullName` is not part of the component's public API, but is used in the template.</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  protected</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> fullName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/core/computed">computed</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> `${</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">this</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">firstName</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">()</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">} ${</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">this</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">lastName</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">()</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div>
  <h3 id="use-readonly-for-properties-that-shouldnt-change">
    <a href="#use-readonly-for-properties-that-shouldnt-change" class="docs-anchor" tabindex="-1" aria-label="Link to Use <code>readonly</code> for properties that shouldn't change">对于不应更改的属性，请使用 <code>readonly</code>。</a>
  </h3>
  <p>将由 Angular 初始化（例如通过<a href="/api/core/input"><code>input</code></a>、<a href="/api/core/model"><code>model</code></a>、<a href="/api/core/output"><code>output</code></a> 和查询）的组件和指令属性标记为 <code>readonly</code>。<code>readonly</code> 访问修饰符可确保由 Angular 设置的值不会被覆盖。</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">/* ... */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> UserProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> userId</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/core/input">input</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> userSaved</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/core/output">output</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> userName</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/core/model">model</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>对于使用基于装饰器的<a href="/api/core/Input"><code>@Input</code></a>、<a href="/api/core/Output"><code>@Output</code></a> 和查询 API 的组件和指令，此建议适用于输出属性和查询，但不适用于输入属性。</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">/* ... */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> UserProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Output">Output</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> userSaved</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/core/EventEmitter">EventEmitter</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;();</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/ViewChildren">ViewChildren</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(PaymentMethod) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> paymentMethods</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/core/QueryList">QueryList</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">PaymentMethod</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div>
  <h3 id="prefer-class-and-style-over-ngclass-and-ngstyle">
    <a href="#prefer-class-and-style-over-ngclass-and-ngstyle" class="docs-anchor" tabindex="-1" aria-label="Link to Prefer <code>class</code> and <code>style</code> over <code>ngClass</code> and <code>ngStyle</code>">优先使用 <code>class</code> 和 <code>style</code> 而非 <code>ngClass</code> 和 <code>ngStyle</code></a>
  </h3>
  <p>优先使用 <code>class</code> 和 <a href="/api/animations/style"><code>style</code></a> 绑定，而不是使用 <a href="/api/common/NgClass"><code>NgClass</code></a> 和 <a href="/api/common/NgStyle"><code>NgStyle</code></a> 指令。</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- PREFER --&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> [class.admin]</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"isAdmin"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> [class.dense]</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"density === 'high'"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- OR --&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> [class]</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"{admin: isAdmin, dense: density === 'high'}"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"></span><span class="line"></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- AVOID --&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> [ngClass]</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"{admin: isAdmin, dense: density === 'high'}"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p><code>class</code> 和 <a href="/api/animations/style"><code>style</code></a> 绑定都使用了更直接的语法，与标准 HTML 属性非常相似。这使得您的模板更易于阅读和理解，特别是对于熟悉基本 HTML 的开发人员而言。</p>
<p>此外，与内置的 <code>class</code> 和 <a href="/api/animations/style"><code>style</code></a> 绑定语法相比，<a href="/api/common/NgClass"><code>NgClass</code></a> 和 <a href="/api/common/NgStyle"><code>NgStyle</code></a> 指令会产生额外的性能开销。</p>
<p>有关更多详细信息，请参阅<a href="/guide/templates/binding#css-class-and-style-property-bindings">绑定指南</a>。</p>

  <h3 id="name-event-handlers-for-what-they-do-not-for-the-triggering-event">
    <a href="#name-event-handlers-for-what-they-do-not-for-the-triggering-event" class="docs-anchor" tabindex="-1" aria-label="Link to Name event handlers for what they <em>do</em>, not for the triggering event">为事件处理程序命名时，请说明它们<em>执行</em>的操作，而不是触发事件的名称。</a>
  </h3>
  <p>优先为事件处理程序命名以说明其执行的操作，而不是以触发事件命名：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- PREFER --&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> (click)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"saveUserData()"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Save&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- AVOID --&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> (click)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"handleClick()"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Save&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">button</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>使用有意义的名称，可以更容易地从模板中了解事件的作用。</p>
<p>对于键盘事件，您可以使用 Angular 的按键事件修饰符和特定的处理程序名称：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">textarea</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> (keydown.control.enter)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"commitNotes()"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> (keydown.control.space)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"showSuggestions()"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>有时，事件处理逻辑会特别长或复杂，导致无法声明一个命名良好的单个处理程序。在这种情况下，可以回退到像 'handleKeydown' 这样的名称，然后根据事件详细信息委托给更具体的行为：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">/* ... */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> RichText</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  handleKeydown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">event</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> KeyboardEvent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (event.ctrlKey) {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (event.key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 'B'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">activateBold</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">else</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (event.key </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 'I'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">activateItalic</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// ...</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div>
  <h3 id="keep-lifecycle-methods-simple">
    <a href="#keep-lifecycle-methods-simple" class="docs-anchor" tabindex="-1" aria-label="Link to Keep lifecycle methods simple">保持生命周期方法简单</a>
  </h3>
  <p>避免在像 <code>ngOnInit</code> 这样的生命周期钩子中放入冗长或复杂的逻辑。相反，请优先创建命名良好的方法来包含该逻辑，然后在生命周期钩子中<em>调用这些方法</em>。生命周期钩子名称描述了它们<em>何时</em>运行，这意味着其中的代码没有描述其功能的有意义的名称。</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// PREFER</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">ngOnInit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() {</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">startLogging</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">runBackgroundTask</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// AVOID</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">ngOnInit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() {</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.logger.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">setMode</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'info'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">  this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.logger.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">monitorErrors</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // ...and all the rest of the code that would be unrolled from these methods.</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div>
  <h3 id="use-lifecycle-hook-interfaces">
    <a href="#use-lifecycle-hook-interfaces" class="docs-anchor" tabindex="-1" aria-label="Link to Use lifecycle hook interfaces">使用生命周期钩子接口</a>
  </h3>
  <p>Angular 为每个生命周期方法提供了一个 TypeScript 接口。在类中添加生命周期钩子时，请导入并<code>实现</code>这些接口，以确保方法命名正确。</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {<a href="/api/core/Component">Component</a>, OnInit} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/core'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">/* ... */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> UserProfile</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/core/OnInit">OnInit</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // The `OnInit` interface ensures this method is named correctly.</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  ngOnInit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() { </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">/* ... */</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div>