
    <header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1">Profiling with the Chrome DevTools</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/best-practices/runtime-performance/profiling-with-chrome-devtools.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    <p>Angular integrates with the <a href="https://developer.chrome.com/docs/devtools/performance/extension" target="_blank">Chrome DevTools extensibility API</a> to present framework-specific data and insights directly in the <a href="https://developer.chrome.com/docs/devtools/performance/overview" target="_blank">Chrome DevTools performance panel</a>.</p>
<p>With the integration enabled, you can <a href="https://developer.chrome.com/docs/devtools/performance#record" target="_blank">record a performance profile</a> containing two sets of data:</p>

  <ul class="docs-list">
    <li>Standard performance entries based on Chrome's understanding of your code executing in a browser, and</li>
<li>Angular-specific entries contributed by the framework's runtime.</li>

  </ul>
  <p>Both sets of data are presented together on the same tab, but on separate tracks:</p>
<img alt="Angular custom track in Chrome DevTools profiler" src="assets/images/best-practices/runtime-performance/angular-perf-in-chrome.png">

<p>Angular-specific data are expressed in terms of framework concepts (components, change detection, lifecycle hooks, etc.) alongside lower-level function and method calls captured by a browser. These two data sets are correlated, and you can switch between the different views and level of details.</p>
<p>You can use the Angular track to better understand how your code runs in the browser, including:</p>

  <ul class="docs-list">
    <li>Determining whether a given code block is part of the Angular application, or whether it belongs to another script running on the same page.</li>
<li>Identifying performance bottlenecks and attribute those to specific components or services.</li>
<li>Gaining deeper insight into Angular's inner working with a visual breakdown of each change detection cycle.</li>

  </ul>
  
  <h2 id="recording-a-profile">
    <a href="#recording-a-profile" class="docs-anchor" tabindex="-1" aria-label="Link to Recording a profile">Recording a profile</a>
  </h2>
  
  <h3 id="enable-integration">
    <a href="#enable-integration" class="docs-anchor" tabindex="-1" aria-label="Link to Enable integration">Enable integration</a>
  </h3>
  <p>You can enable Angular profiling in one of two ways:</p>

    <ol class="docs-ordered-list">
      <li>Run <code>ng.enableProfiling()</code> in Chrome's console panel, or</li>
<li>Include a call to <code>enableProfiling()</code> in your application startup code (imported from <code>@angular/core</code>).</li>

    </ol>
    <p>NOTE:
Angular profiling works exclusively in development mode.</p>
<p>Here is an example of how you can enable the integration in the application bootstrap to capture all possible events:</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { enableProfiling } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/core'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { <a href="/api/platform-browser/bootstrapApplication">bootstrapApplication</a> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/platform-browser'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { MyApp } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> './my-app'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// Turn on profiling *before* bootstrapping your application</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// in order to capture all of the code run on start-up.</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">enableProfiling</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/platform-browser/bootstrapApplication">bootstrapApplication</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(MyApp);</span></span></code></pre>
  </div>
  <h3 id="record-a-profile">
    <a href="#record-a-profile" class="docs-anchor" tabindex="-1" aria-label="Link to Record a profile">Record a profile</a>
  </h3>
  <p>Use the <strong>Record</strong> button in the Chrome DevTools performance panel:</p>
<img alt="Recording a profile" src="assets/images/best-practices/runtime-performance/recording-profile-in-chrome.png">

<p>See the <a href="https://developer.chrome.com/docs/devtools/performance#record" target="_blank">Chrome DevTools documentation</a> for more details on recording profiles.</p>

  <h2 id="interpreting-a-recorded-profile">
    <a href="#interpreting-a-recorded-profile" class="docs-anchor" tabindex="-1" aria-label="Link to Interpreting a recorded profile">Interpreting a recorded profile</a>
  </h2>
  <p>You can use the "Angular" custom track to quickly identify and diagnose performance issues. The following sections describe some common profiling scenarios.</p>

  <h3 id="differentiating-between-your-angular-application-and-other-tasks-on-the-same-page">
    <a href="#differentiating-between-your-angular-application-and-other-tasks-on-the-same-page" class="docs-anchor" tabindex="-1" aria-label="Link to Differentiating between your Angular application and other tasks on the same page">Differentiating between your Angular application and other tasks on the same page</a>
  </h3>
  <p>As Angular and Chrome data are presented on the separate but correlated tracks, you can see when Angular's application code is executed as opposed to some other browser processing (typically layout and paint) or other scripts running on the same page (in this case the custom Angular track does not have any data):</p>
<img alt="Profile data: Angular vs. 3rd party scripts execution" src="assets/images/best-practices/runtime-performance/profile-angular-vs-3rd-party.png">

<p>This allows you to determine whether further investigations should focus on the Angular application code or on other parts of your codebase or dependencies.</p>

  <h3 id="color-coding">
    <a href="#color-coding" class="docs-anchor" tabindex="-1" aria-label="Link to Color-coding">Color-coding</a>
  </h3>
  <p>Angular uses colors in the flame chart graph to distinguish tasks types:</p>

  <ul class="docs-list">
    <li><span class="docs-emoji">ðŸŸ¦ Blue represents TypeScript code written by the application developer (for example: services, component constructors and lifecycle hooks, etc.).</span></li>
<li><span class="docs-emoji">ðŸŸª Purple represents templates code written by the application developer and transformed by the Angular compiler.</span></li>
<li><span class="docs-emoji"><span class="docs-emoji">ðŸŸ© Green represents entry points to the application code and identifies </span><em>reasons</em> for executing code.</span></li>

  </ul>
  <p>The following examples illustrate the described color-coding in various, real-life recordings.</p>

  <h4 id="example-application-bootstrapping">
    <a href="#example-application-bootstrapping" class="docs-anchor" tabindex="-1" aria-label="Link to Example: Application bootstrapping">Example: Application bootstrapping</a>
  </h4>
  <p>The application bootstrap process usually consists of:</p>

  <ul class="docs-list">
    <li>Triggers marked in blue, such as the call to the <a href="/api/platform-browser/bootstrapApplication"><code>bootstrapApplication</code></a>, instantiation of the root component, and initial change detection</li>
<li>Various DI services instantiated during bootstrap, marked in green.</li>

  </ul>
  <img alt="Profile data: bootstrap application" src="assets/images/best-practices/runtime-performance/profile-bootstrap-application.png">


  <h4 id="example-component-execution">
    <a href="#example-component-execution" class="docs-anchor" tabindex="-1" aria-label="Link to Example: Component execution">Example: Component execution</a>
  </h4>
  <p>One component processing is typically represented as an entry point (blue) followed by its template execution (purple). A template might, in turn, trigger instantiation of directives and execution of lifecycle hooks (green):</p>
<img alt="Profile data: component processing" src="assets/images/best-practices/runtime-performance/profile-component-processing.png">


  <h4 id="example-change-detection">
    <a href="#example-change-detection" class="docs-anchor" tabindex="-1" aria-label="Link to Example: Change detection">Example: Change detection</a>
  </h4>
  <p>A change detection cycle usually consists of one or more data synchronization passes (blue), where each pass traverses a subset of components.</p>
<img alt="Profile data: change detection" src="assets/images/best-practices/runtime-performance/profile-change-detection.png">

<p>With this data visualization, it is possible to immediately identify components that were involved in the change detection and which were skipped (typically the <code>OnPush</code> components that were not marked dirty).</p>
<p>Additionally, you can inspect the number of synchronization passes for one change detection. Having more than one synchronization pass suggest that state is updated during change detection. You should avoid this, as it slows down page updates and can even result in infinite loops in the worst cases.</p>
