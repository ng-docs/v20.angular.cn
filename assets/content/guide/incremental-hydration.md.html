
    <header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1">Incremental Hydration</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/guide/incremental-hydration.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    <p><strong>Incremental hydration</strong> is an advanced type of <a href="guide/hydration">hydration</a> that can leave sections of your application dehydrated and <em>incrementally</em> trigger hydration of those sections as they are needed.</p>

  <h2 id="why-use-incremental-hydration">
    <a href="#why-use-incremental-hydration" class="docs-anchor" tabindex="-1" aria-label="Link to Why use incremental hydration?">Why use incremental hydration?</a>
  </h2>
  <p>Incremental hydration is a performance improvement that builds on top of full application hydration. It can produce smaller initial bundles while still providing an end-user experience that is comparable to a full application hydration experience. Smaller bundles improve initial load times, reducing <a href="https://web.dev/fid" target="_blank">First Input Delay (FID)</a> and <a href="https://web.dev/cls" target="_blank">Cumulative Layout Shift (CLS)</a>.</p>
<p>Incremental hydration also lets you use deferrable views (<code>@defer</code>) for content that may not have been deferrable before. Specifically, you can now use deferrable views for content that is above the fold. Prior to incremental hydration, putting a <code>@defer</code> block above the fold would result in placeholder content rendering and then being replaced by the <code>@defer</code> block's main template content. This would result in a layout shift. Incremental hydration means the main template of the <code>@defer</code> block will render with no layout shift on hydration.</p>

  <h2 id="how-do-you-enable-incremental-hydration-in-angular">
    <a href="#how-do-you-enable-incremental-hydration-in-angular" class="docs-anchor" tabindex="-1" aria-label="Link to How do you enable incremental hydration in Angular?">How do you enable incremental hydration in Angular?</a>
  </h2>
  <p>You can enable incremental hydration for applications that already use server-side rendering (SSR) with hydration. Follow the <a href="guide/ssr">Angular SSR Guide</a> to enable server-side rendering and the <a href="guide/hydration">Angular Hydration Guide</a> to enable hydration first.</p>
<p>Enable incremental hydration by adding the <a href="/api/platform-browser/withIncrementalHydration"><code>withIncrementalHydration()</code></a> function to the <a href="/api/platform-browser/provideClientHydration"><code>provideClientHydration</code></a> provider.</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  <a href="/api/platform-browser/bootstrapApplication">bootstrapApplication</a>,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  <a href="/api/platform-browser/provideClientHydration">provideClientHydration</a>,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  <a href="/api/platform-browser/withIncrementalHydration">withIncrementalHydration</a>,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/platform-browser'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">...</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/platform-browser/bootstrapApplication">bootstrapApplication</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(AppComponent, {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providers: [</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/platform-browser/provideClientHydration">provideClientHydration</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/platform-browser/withIncrementalHydration">withIncrementalHydration</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">())]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">});</span></span></code></pre>
  </div><p>Incremental Hydration depends on and enables <a href="guide/hydration#capturing-and-replaying-events">event replay</a> automatically. If you already have <a href="/api/platform-browser/withEventReplay"><code>withEventReplay()</code></a> in your list, you can safely remove it after enabling incremental hydration.</p>

  <h2 id="how-does-incremental-hydration-work">
    <a href="#how-does-incremental-hydration-work" class="docs-anchor" tabindex="-1" aria-label="Link to How does incremental hydration work?">How does incremental hydration work?</a>
  </h2>
  <p>Incremental hydration builds on top of full-application <a href="guide/hydration">hydration</a>, <a href="guide/defer">deferrable views</a>, and <a href="guide/hydration#capturing-and-replaying-events">event replay</a>. With incremental hydration, you can add additional triggers to <code>@defer</code> blocks that define incremental hydration boundaries. Adding a <code>hydrate</code> trigger to a defer block tells Angular that it should load that defer block's dependencies during server-side rendering and render the main template rather than the <code>@placeholder</code>. When client-side rendering, the dependencies are still deferred, and the defer block content stays dehydrated until its <code>hydrate</code> trigger fires. That trigger tells the defer block to fetch its dependencies and hydrate the content. Any browser events, specifically those that match listeners registered in your component, that are triggered by the user prior to hydration are queued up and replayed once the hydration process is complete.</p>

  <h2 id="controlling-hydration-of-content-with-triggers">
    <a href="#controlling-hydration-of-content-with-triggers" class="docs-anchor" tabindex="-1" aria-label="Link to Controlling hydration of content with triggers">Controlling hydration of content with triggers</a>
  </h2>
  <p>You can specify <strong>hydrate triggers</strong> that control when Angular loads and hydrates deferred content. These are additional triggers that can be used alongside regular <code>@defer</code> triggers.</p>
<p>Each <code>@defer</code> block may have multiple hydrate event triggers, separated with a semicolon (<code>;</code>). Angular triggers hydration when <em>any</em> of the triggers fire.</p>
<p>There are three types of hydrate triggers: <code>hydrate on</code>, <code>hydrate when</code>, and <code>hydrate never</code>.</p>

  <h3 id="hydrate-on">
    <a href="#hydrate-on" class="docs-anchor" tabindex="-1" aria-label="Link to <code>hydrate on</code>"><code>hydrate on</code></a>
  </h3>
  <p><code>hydrate on</code> specifies a condition for when hydration is triggered for the <code>@defer</code> block.</p>
<p>The available triggers are as follows:</p>

  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th>Trigger</th>
<th>Description</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td><a href="#hydrate-on-idle"><code>hydrate on idle</code></a></td>
<td>Triggers when the browser is idle.</td>
</tr>
<tr>
<td><a href="#hydrate-on-viewport"><code>hydrate on viewport</code></a></td>
<td>Triggers when specified content enters the viewport</td>
</tr>
<tr>
<td><a href="#hydrate-on-interaction"><code>hydrate on interaction</code></a></td>
<td>Triggers when the user interacts with specified element</td>
</tr>
<tr>
<td><a href="#hydrate-on-hover"><code>hydrate on hover</code></a></td>
<td>Triggers when the mouse hovers over specified area</td>
</tr>
<tr>
<td><a href="#hydrate-on-immediate"><code>hydrate on immediate</code></a></td>
<td>Triggers immediately after non-deferred content has finished rendering</td>
</tr>
<tr>
<td><a href="#hydrate-on-timer"><code>hydrate on timer</code></a></td>
<td>Triggers after a specific duration</td>
</tr>

      </tbody>
    </table>
  </div>
  
  <h4 id="hydrate-on-idle">
    <a href="#hydrate-on-idle" class="docs-anchor" tabindex="-1" aria-label="Link to <code>hydrate on idle</code>"><code>hydrate on idle</code></a>
  </h4>
  <p>The <code>hydrate on idle</code> trigger loads the deferrable view's dependencies and hydrates the content once the browser has reached an idle state, based on <code>requestIdleCallback</code>.</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@defer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (hydrate on idle) {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">large-cmp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@placeholder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Large component placeholder&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div>
  <h4 id="hydrate-on-viewport">
    <a href="#hydrate-on-viewport" class="docs-anchor" tabindex="-1" aria-label="Link to <code>hydrate on viewport</code>"><code>hydrate on viewport</code></a>
  </h4>
  <p>The <code>hydrate on viewport</code> trigger loads the deferrable view's dependencies and hydrates the corresponding page of the app when the specified content enters the viewport using the
<a href="https://developer.mozilla.org/docs/Web/API/Intersection_Observer_API" target="_blank">Intersection Observer API</a>.</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@defer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (hydrate on viewport) {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">large-cmp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@placeholder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Large component placeholder&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div>
  <h4 id="hydrate-on-interaction">
    <a href="#hydrate-on-interaction" class="docs-anchor" tabindex="-1" aria-label="Link to <code>hydrate on interaction</code>"><code>hydrate on interaction</code></a>
  </h4>
  <p>The <code>hydrate on interaction</code> trigger loads the deferrable view's dependencies and hydrates the content when the user interacts with the specified element through
<code>click</code> or <code>keydown</code> events.</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@defer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (hydrate on interaction) {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">large-cmp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@placeholder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Large component placeholder&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div>
  <h4 id="hydrate-on-hover">
    <a href="#hydrate-on-hover" class="docs-anchor" tabindex="-1" aria-label="Link to <code>hydrate on hover</code>"><code>hydrate on hover</code></a>
  </h4>
  <p>The <code>hydrate on hover</code> trigger loads the deferrable view's dependencies and hydrates the content when the mouse has hovered over the triggered area through the
<code>mouseover</code> and <code>focusin</code> events.</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@defer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (hydrate on hover) {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">large-cmp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@placeholder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Large component placeholder&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div>
  <h4 id="hydrate-on-immediate">
    <a href="#hydrate-on-immediate" class="docs-anchor" tabindex="-1" aria-label="Link to <code>hydrate on immediate</code>"><code>hydrate on immediate</code></a>
  </h4>
  <p>The <code>hydrate on immediate</code> trigger loads the deferrable view's dependencies and hydrates the content immediately. This means that the deferred block loads as soon
as all other non-deferred content has finished rendering.</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@defer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (hydrate on immediate) {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">large-cmp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@placeholder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Large component placeholder&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div>
  <h4 id="hydrate-on-timer">
    <a href="#hydrate-on-timer" class="docs-anchor" tabindex="-1" aria-label="Link to <code>hydrate on timer</code>"><code>hydrate on timer</code></a>
  </h4>
  <p>The <code>hydrate on timer</code> trigger loads the deferrable view's dependencies and hydrates the content after a specified duration.</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@defer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (hydrate on </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">timer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(500ms)) {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">large-cmp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@placeholder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Large component placeholder&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>The duration parameter must be specified in milliseconds (<code>ms</code>) or seconds (<code>s</code>).</p>

  <h3 id="hydrate-when">
    <a href="#hydrate-when" class="docs-anchor" tabindex="-1" aria-label="Link to <code>hydrate when</code>"><code>hydrate when</code></a>
  </h3>
  <p>The <code>hydrate when</code> trigger accepts a custom conditional expression and loads the deferrable view's dependencies and hydrates the content when the
condition becomes truthy.</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@defer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (hydrate when condition) {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">large-cmp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@placeholder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Large component placeholder&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div>
    <div class="docs-alert docs-alert-note">
    <p><strong>NOTE:</strong> <code>hydrate when</code> conditions only trigger when they are the top-most dehydrated <code>@defer</code> block. The condition provided for the trigger is
specified in the parent component, which needs to exist before it can be triggered. If the parent block is dehydrated, that expression will not yet
be resolvable by Angular.</p>

    </div>
    
  <h3 id="hydrate-never">
    <a href="#hydrate-never" class="docs-anchor" tabindex="-1" aria-label="Link to <code>hydrate never</code>"><code>hydrate never</code></a>
  </h3>
  <p>The <code>hydrate never</code> allows users to specify that the content in the defer block should remain dehydrated indefinitely, effectively becoming static
content. Note that this applies to the initial render only. During a subsequent client-side render, a <code>@defer</code> block with <code>hydrate never</code> would
still fetch dependencies, as hydration only applies to initial load of server-side rendered content. In the example below, subsequent client-side
renders would load the <code>@defer</code> block dependencies on viewport.</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@defer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (on viewport; hydrate never) {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">large-cmp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@placeholder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Large component placeholder&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div>
    <div class="docs-alert docs-alert-note">
    <p><strong>NOTE:</strong> Using <code>hydrate never</code> prevents hydration of the entire nested subtree of a given <code>@defer</code> block. No other <code>hydrate</code> triggers fire for content nested underneath that block.</p>

    </div>
    
  <h2 id="hydrate-triggers-alongside-regular-triggers">
    <a href="#hydrate-triggers-alongside-regular-triggers" class="docs-anchor" tabindex="-1" aria-label="Link to Hydrate triggers alongside regular triggers">Hydrate triggers alongside regular triggers</a>
  </h2>
  <p>Hydrate triggers are additional triggers that are used alongside regular triggers on a <code>@defer</code> block. Hydration is an initial load optimization, and that means hydrate triggers only apply to that initial load. Any subsequent client side render will still use the regular trigger.</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@defer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (on idle; hydrate on interaction) {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">example-cmp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@placeholder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">{</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Example Placeholder&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>In this example, on the initial load, the <code>hydrate on interaction</code> applies. Hydration will be triggered on interaction with the <code>&lt;example-cmp /&gt;</code> component. On any subsequent page load that is client-side rendered, for example when a user clicks a routerLink that loads a page with this component, the <code>on idle</code> will apply.</p>

  <h2 id="how-does-incremental-hydration-work-with-nested-defer-blocks">
    <a href="#how-does-incremental-hydration-work-with-nested-defer-blocks" class="docs-anchor" tabindex="-1" aria-label="Link to How does incremental hydration work with nested <code>@defer</code> blocks?">How does incremental hydration work with nested <code>@defer</code> blocks?</a>
  </h2>
  <p>Angular's component and dependency system is hierarchical, which means hydrating any component requires all of its parents also be hydrated. So if hydration is triggered for a child <code>@defer</code> block of a nested set of dehydrated <code>@defer</code> blocks, hydration is triggered from the top-most dehydrated <code>@defer</code> block down to the triggered child and fire in that order.</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@defer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (hydrate on interaction) {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">parent-block-cmp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /&gt;</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  @defer</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (hydrate on hover) {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">child-block-cmp</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@placeholder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Child placeholder&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">@placeholder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">{</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Parent Placeholder&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>In the above example, hovering over the nested <code>@defer</code> block triggers hydration. The parent <code>@defer</code> block with the <code>&lt;parent-block-cmp /&gt;</code> hydrates first, then the child <code>@defer</code> block with <code>&lt;child-block-cmp /&gt;</code> hydrates after.</p>

  <h2 id="constraints">
    <a href="#constraints" class="docs-anchor" tabindex="-1" aria-label="Link to Constraints">Constraints</a>
  </h2>
  <p>Incremental hydration has the same constraints as full-application hydration, including limits on direct DOM manipulation and requiring valid HTML structure. Visit the <a href="guide/hydration#constraints">Hydration guide constraints</a> section for more details.</p>

  <h2 id="do-i-still-need-to-specify-placeholder-blocks">
    <a href="#do-i-still-need-to-specify-placeholder-blocks" class="docs-anchor" tabindex="-1" aria-label="Link to Do I still need to specify <code>@placeholder</code> blocks?">Do I still need to specify <code>@placeholder</code> blocks?</a>
  </h2>
  <p>Yes. <code>@placeholder</code> block content is not used for incremental hydration, but a <code>@placeholder</code> is still necessary for subsequent client-side rendering cases. If your content was not on the route that was part of the initial load, then any navigation to the route that has your <code>@defer</code> block content renders like a regular <code>@defer</code> block. So the <code>@placeholder</code> is rendered in those client-side rendering cases.</p>
