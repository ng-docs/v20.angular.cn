
    <header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1">Creating custom route matches</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/guide/routing/routing-with-urlmatcher.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    <p>The Angular Router supports a powerful matching strategy that you can use to help users navigate your application.
This matching strategy supports static routes, variable routes with parameters, wildcard routes, and so on.
Also, build your own custom pattern matching for situations in which the URLs are more complicated.</p>
<p>In this tutorial, you'll build a custom route matcher using Angular's <a href="/api/router/UrlMatcher"><code>UrlMatcher</code></a>.
This matcher looks for a Twitter handle in the URL.</p>

  <h2 id="objectives">
    <a href="#objectives" class="docs-anchor" tabindex="-1" aria-label="Link to Objectives">Objectives</a>
  </h2>
  <p>Implement Angular's <a href="/api/router/UrlMatcher"><code>UrlMatcher</code></a> to create a custom route matcher.</p>

  <h2 id="create-a-sample-application">
    <a href="#create-a-sample-application" class="docs-anchor" tabindex="-1" aria-label="Link to Create a sample application">Create a sample application</a>
  </h2>
  <p>Using the Angular CLI, create a new application, <em>angular-custom-route-match</em>.
In addition to the default Angular application framework, you will also create a <em>profile</em> component.</p>

    <ol class="docs-ordered-list">
      <li><p>Create a new Angular project, <em>angular-custom-route-match</em>.</p>

      <div class="docs-code" role="group">
        <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">ng</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> new</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> angular-custom-route-match</span></span></code></pre>
      </div>
    <p> When prompted with <code>Would you like to add Angular routing?</code>, select <code>Y</code>.</p>
<p> When prompted with <code>Which stylesheet format would you like to use?</code>, select <code>CSS</code>.</p>
<p> After a few moments, a new project, <code>angular-custom-route-match</code>, is ready.</p>
</li>
<li><p>From your terminal, navigate to the <code>angular-custom-route-match</code> directory.</p>
</li>
<li><p>Create a component, <em>profile</em>.</p>

      <div class="docs-code" role="group">
        <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">ng</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> generate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> component</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> profile</span></span></code></pre>
      </div>
    </li>
<li><p>In your code editor, locate the file, <code>profile.component.html</code> and replace the placeholder content with the following HTML.</p>
<div class="docs-code" path="adev/src/content/examples/routing-with-urlmatcher/src/app/profile/profile.component.html" header="src/app/profile/profile.component.html">
    <div class="docs-code-header"><h3>src/app/profile/profile.component.html</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    Hello {{ </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">username</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() }}!</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div></li>
<li><p>In your code editor, locate the file, <code>app.component.html</code> and replace the placeholder content with the following HTML.</p>
<div class="docs-code" path="adev/src/content/examples/routing-with-urlmatcher/src/app/app.component.html" header="src/app/app.component.html">
    <div class="docs-code-header"><h3>src/app/app.component.html</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Routing with Custom Matching&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">Navigate to &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">a</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> routerLink</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"/@Angular"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;my profile&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">a</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">router-outlet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">router-outlet</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div></li>

    </ol>
    
  <h2 id="configure-your-routes-for-your-application">
    <a href="#configure-your-routes-for-your-application" class="docs-anchor" tabindex="-1" aria-label="Link to Configure your routes for your application">Configure your routes for your application</a>
  </h2>
  <p>With your application framework in place, you next need to add routing capabilities to the <code>app.config.ts</code> file.
As a part of this process, you will create a custom URL matcher that looks for a Twitter handle in the URL.
This handle is identified by a preceding <code>@</code> symbol.</p>

    <ol class="docs-ordered-list">
      <li><p>In your code editor, open your <code>app.config.ts</code> file.</p>
</li>
<li><p>Add an <code>import</code> statement for Angular's <a href="/api/router/provideRouter"><code>provideRouter</code></a> and <a href="/api/router/withComponentInputBinding"><code>withComponentInputBinding</code></a> as well as the application routes.</p>

      <div class="docs-code" role="group">
        <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {provideRouter, withComponentInputBinding} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/router'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {routes} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> './app.routes'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span></code></pre>
      </div>
    </li>
<li><p>In the providers array, add a <code>provideRouter(routes, withComponentInputBinding())</code> statement.</p>
</li>
<li><p>Define the custom route matcher by adding the following code to the application routes.</p>
<div class="docs-code" path="adev/src/content/examples/routing-with-urlmatcher/src/app/app.routes.ts" visiblelines="5,6,7,8,9,10,11,12,13,14" header="src/app/app.routes.ts">
    <div class="docs-code-header"><h3>src/app/app.routes.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {<a href="/api/router/Routes">Routes</a>, UrlSegment} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/router'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {ProfileComponent} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> './profile/profile.component'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> const</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> routes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/router/Routes">Routes</a></span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> [</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  {</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">    matcher</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">url</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (url.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">length</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> 1</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> &amp;&amp;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> url[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">].path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">match</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">^</span><span style="--shiki-light:#032F62;--shiki-dark:#DBEDFF">@</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">[\w]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">+$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">/</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">gm</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)) {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        return</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {consumed: url, posParams: {username: </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">new</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/router/UrlSegment">UrlSegment</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(url[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">].path.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">slice</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">), {})}};</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      }</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">      return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    },</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    component: ProfileComponent,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  },</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">];</span></span><span class="line"></span></code></pre>
  </div></li>

    </ol>
    <p>This custom matcher is a function that performs the following tasks:</p>

  <ul class="docs-list">
    <li>The matcher verifies that the array contains only one segment</li>
<li>The matcher employs a regular expression to ensure that the format of the username is a match</li>
<li>If there is a match, the function returns the entire URL, defining a <code>username</code> route parameter as a substring of the path</li>
<li>If there isn't a match, the function returns null and the router continues to look for other routes that match the URL</li>

  </ul>
  
    <div class="docs-alert docs-alert-helpful">
    <p><strong>HELPFUL:</strong> A custom URL matcher behaves like any other route definition. Define child routes or lazy loaded routes as you would with any other route.</p>

    </div>
    
  <h2 id="reading-the-route-parameters">
    <a href="#reading-the-route-parameters" class="docs-anchor" tabindex="-1" aria-label="Link to Reading the route parameters">Reading the route parameters</a>
  </h2>
  <p>With the custom matcher in place, you can now bind the route parameter in the <code>profile</code> component.</p>
<p>In your code editor, open your <code>profile.component.ts</code> file and create an <a href="/api/core/Input"><code>Input</code></a> matching the <code>username</code> parameter.
We added the <a href="/api/router/withComponentInputBinding"><code>withComponentInputBinding</code></a> feature earlier
in <a href="/api/router/provideRouter"><code>provideRouter</code></a>. This allows the <a href="/api/router/Router"><code>Router</code></a> to bind information directly to the route components.</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Input">Input</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() username</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">!</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: string;</span></span></code></pre>
  </div>
  <h2 id="test-your-custom-url-matcher">
    <a href="#test-your-custom-url-matcher" class="docs-anchor" tabindex="-1" aria-label="Link to Test your custom URL matcher">Test your custom URL matcher</a>
  </h2>
  <p>With your code in place, you can now test your custom URL matcher.</p>

    <ol class="docs-ordered-list">
      <li><p>From a terminal window, run the <code>ng serve</code> command.</p>
<div class="docs-code shell">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">ng</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> serve</span></span></code></pre>
  </div></li>
<li><p>Open a browser to <code>http://localhost:4200</code>.</p>
<p> You should see a single web page, consisting of a sentence that reads <code>Navigate to my profile</code>.</p>
</li>
<li><p>Click the <strong>my profile</strong> hyperlink.</p>
<p> A new sentence, reading <code>Hello, Angular!</code> appears on the page.</p>
</li>

    </ol>
    
  <h2 id="next-steps">
    <a href="#next-steps" class="docs-anchor" tabindex="-1" aria-label="Link to Next steps">Next steps</a>
  </h2>
  <p>Pattern matching with the Angular Router provides you with a lot of flexibility when you have dynamic URLs in your application.
To learn more about the Angular Router, see the following topics:</p>

    <nav class="docs-pill-row">
      
    <a class="docs-pill" href="guide/routing/common-router-tasks">
      In-app Routing and Navigation
    </a>
    
    <a class="docs-pill" href="api/router/Router">
      Router API
    </a>
    

    </nav>
    
    <div class="docs-alert docs-alert-helpful">
    <p><strong>HELPFUL:</strong> This content is based on <a href="https://medium.com/@brandontroberts/custom-route-matching-with-the-angular-router-fbdd48665483" target="_blank">Custom Route Matching with the Angular Router</a>, by <a href="https://twitter.com/brandontroberts" target="_blank">Brandon Roberts</a>.</p>

    </div>
    