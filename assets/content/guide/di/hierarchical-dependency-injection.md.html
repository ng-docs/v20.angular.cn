<header class="docs-header">
      <docs-breadcrumb></docs-breadcrumb>

      
  <!-- Page title -->
  <div class="docs-page-title">
    <h1 tabindex="-1">分层注入器</h1>
    <a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/edit/main/adev/src/content/guide/di/hierarchical-dependency-injection.md" title="Edit this page" aria-label="Edit this page">
      <!-- Pencil -->
      <docs-icon role="presentation">edit</docs-icon>
    </a>
  </div>
    </header>
    <p>Angular 中的注入器有一些规则，你可以利用这些规则在你的应用中实现可注入对象的期望可见性。通过理解这些规则，你可以确定是在应用级别、组件中还是指令中声明提供者。</p>
<p>你使用 Angular 构建的应用可能会变得非常庞大，管理这种复杂性的一种方法是将应用拆分成一个定义良好的组件树。</p>
<p>你的页面中可能存在一些区域，它们以完全独立于应用其余部分的方式工作，并拥有自己本地的服务副本和所需的其他依赖项。这些应用区域使用的一些服务可能会与其他应用部分或组件树中更靠上的父组件共享，而其他依赖项则应该是私有的。</p>
<p>通过分层依赖注入，你可以隔离应用的各个部分，并为它们提供不与应用其余部分共享的私有依赖项，或者让父组件仅与其子组件共享某些依赖项，而不与组件树的其余部分共享，等等。分层依赖注入使你能够在应用的不同部分之间仅在需要时共享依赖项。</p>

  <h2 id="types-of-injector-hierarchies">
    <a href="#types-of-injector-hierarchies" class="docs-anchor" tabindex="-1" aria-label="Link to Types of injector hierarchies">注入器分层的类型</a>
  </h2>
  <p>Angular 有两个注入器分层：</p>

  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th align="left">注入器分层</th>
<th align="left">详情</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td align="left"><a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 层级</td>
<td align="left">使用 <a href="/api/core/Injectable"><code>@Injectable()</code></a> 或 <code>ApplicationConfig</code> 中的 <code>providers</code> 数组在此层级中配置一个 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a>。</td>
</tr>
<tr>
<td align="left"><code>ElementInjector</code> 分层结构</td>
<td align="left">在每个 DOM 元素上隐式创建。<code>ElementInjector</code> 默认是空的，除非您在 <a href="/api/core/Directive"><code>@Directive()</code></a> 或 <a href="/api/core/Component"><code>@Component()</code></a> 的 <code>providers</code> 属性中进行配置。</td>
</tr>

      </tbody>
    </table>
  </div>
  
    <div class="docs-callout docs-callout-helpful">
      <h3>基于 NgModule 的应用</h3>
      <p>对于基于 <a href="/api/core/NgModule"><code>NgModule</code></a> 的应用，您可以使用 <a href="/api/core/NgModule"><code>@NgModule()</code></a> 或 <a href="/api/core/Injectable"><code>@Injectable()</code></a> 注解通过 <code>ModuleInjector</code> 层级来提供依赖项。</p>

    </div>
    
  <h3 id="environmentinjector">
    <a href="#environmentinjector" class="docs-anchor" tabindex="-1" aria-label="Link to <code>EnvironmentInjector</code>"><code>EnvironmentInjector</code></a>
  </h3>
  <p>可以使用以下两种方式之一来配置 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a>：</p>

  <ul class="docs-list">
    <li>使用 <a href="/api/core/Injectable"><code>@Injectable()</code></a> 的 <code>providedIn</code> 属性来引用 <code>root</code> 或 <code>platform</code></li>
<li><code>ApplicationConfig</code> 的 <code>providers</code> 数组</li>

  </ul>
  
    <div class="docs-callout docs-callout-helpful">
      <h3>摇树优化和 @Injectable()</h3>
      <p>使用 <a href="/api/core/Injectable"><code>@Injectable()</code></a> 的 <code>providedIn</code> 属性比使用 <code>ApplicationConfig</code> 的 <code>providers</code> 数组更可取。通过 <a href="/api/core/Injectable"><code>@Injectable()</code></a> 的 <code>providedIn</code>，优化工具可以执行摇树优化，移除您的应用未使用的服务。这可以减小捆绑包的大小。</p>
<p>摇树优化对于库尤其有用，因为使用该库的应用可能不需要注入它。</p>

    </div>
    <p><a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 由 <code>ApplicationConfig.providers</code> 配置。</p>
<p>使用 <a href="/api/core/Injectable"><code>@Injectable()</code></a> 的 <code>providedIn</code> 来提供服务，如下所示：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { <a href="/api/core/Injectable">Injectable</a> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/core'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Injectable">Injectable</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providedIn: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'root'</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // &lt;--provides this service in the root EnvironmentInjector</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ItemService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  name</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 'telephone'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p><a href="/api/core/Injectable"><code>@Injectable()</code></a> 装饰器标识一个服务类。
<code>providedIn</code> 属性配置一个特定的 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a>，这里是 <code>root</code>，它使该服务在 <code>root</code> <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 中可用。</p>

  <h3 id="moduleinjector">
    <a href="#moduleinjector" class="docs-anchor" tabindex="-1" aria-label="Link to ModuleInjector">ModuleInjector</a>
  </h3>
  <p>对于基于 <a href="/api/core/NgModule"><code>NgModule</code></a> 的应用，可以通过以下两种方式之一来配置 ModuleInjector：</p>

  <ul class="docs-list">
    <li>使用 <a href="/api/core/Injectable"><code>@Injectable()</code></a> 的 <code>providedIn</code> 属性来引用 <code>root</code> 或 <code>platform</code></li>
<li> <a href="/api/core/NgModule"><code>@NgModule()</code></a> 的 <code>providers</code> 数组</li>

  </ul>
  <p><code>ModuleInjector</code> 由 <a href="/api/core/NgModule#providers"><code>@NgModule.providers</code></a> 和 <a href="/api/core/NgModule#imports"><code>NgModule.imports</code></a> 属性配置。<code>ModuleInjector</code> 是通过递归地遵循 <a href="/api/core/NgModule#imports"><code>NgModule.imports</code></a> 可以到达的所有提供者数组的展平。</p>
<p>当惰性加载其他 <code>@NgModules</code> 时，会创建子 <code>ModuleInjector</code> 分层结构。</p>

  <h3 id="platform-injector">
    <a href="#platform-injector" class="docs-anchor" tabindex="-1" aria-label="Link to Platform injector">平台注入器</a>
  </h3>
  <p>在 <code>root</code> 之上还有两个注入器，一个是额外的 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a>，另一个是 <code>NullInjector()</code>。</p>
<p>考虑 Angular 如何使用 <code>main.ts</code> 中的以下内容引导应用：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/platform-browser/bootstrapApplication">bootstrapApplication</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(AppComponent, appConfig);</span></span></code></pre>
  </div><p><a href="/api/platform-browser/bootstrapApplication"><code>bootstrapApplication()</code></a> 方法创建平台注入器的子注入器，该子注入器由 <code>ApplicationConfig</code> 实例配置。
这就是 <code>root</code> <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a>。</p>
<p><a href="/api/platform-browser-dynamic/platformBrowserDynamic"><code>platformBrowserDynamic()</code></a> 方法创建一个由 <code>PlatformModule</code> 配置的注入器，其中包含平台特定的依赖项。
这允许多个应用程序共享平台配置。
例如，无论运行多少个应用程序，浏览器只有一个 URL 栏。
您可以通过使用 <a href="/api/platform-browser/platformBrowser"><code>platformBrowser()</code></a> 函数提供 <code>extraProviders</code> 来在平台级别配置其他平台特定的提供者。</p>
<p>层级中的下一个父注入器是 <code>NullInjector()</code>，它是树的顶端。
如果您一直向上追溯到在 <code>NullInjector()</code> 中查找服务，您将收到一个错误，除非您使用了 <a href="/api/core/Optional"><code>@Optional()</code></a>，因为最终，所有内容都结束于 <code>NullInjector()</code>，它会返回一个错误，或者在 <a href="/api/core/Optional"><code>@Optional()</code></a> 的情况下，返回 <code>null</code>。
有关 <a href="/api/core/Optional"><code>@Optional()</code></a> 的更多信息，请参阅本指南的 <a href="#optional"></a><a href="/api/core/Optional"><code>@Optional()</code></a> 部分。</p>
<p>下图表示 <code>root</code> <code>EnvironmentInjector</code> 与其父注入器之间的关系，如前几段所述。</p>
<svg aria-roledescription="stateDiagram" role="graphics-document document" viewBox="0 0 232 500" style="max-width: 232px;" class="statediagram" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-generated-diagram .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:1px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram p{margin:0;}#mermaid-generated-diagram defs #statediagram-barbEnd{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram g.stateGroup text{fill:hsl(40.5882352941, 60%, 83.3333333333%);stroke:none;font-size:10px;}#mermaid-generated-diagram g.stateGroup text{fill:#333;stroke:none;font-size:10px;}#mermaid-generated-diagram g.stateGroup .state-title{font-weight:bolder;fill:#333;}#mermaid-generated-diagram g.stateGroup rect{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);}#mermaid-generated-diagram g.stateGroup line{stroke:#0b0b0b;stroke-width:1;}#mermaid-generated-diagram .transition{stroke:#0b0b0b;stroke-width:1;fill:none;}#mermaid-generated-diagram .stateGroup .composit{fill:#f4f4f4;border-bottom:1px;}#mermaid-generated-diagram .stateGroup .alt-composit{fill:#e0e0e0;border-bottom:1px;}#mermaid-generated-diagram .state-note{stroke:hsl(52.6829268293, 60%, 73.9215686275%);fill:#fff5ad;}#mermaid-generated-diagram .state-note text{fill:#333;stroke:none;font-size:10px;}#mermaid-generated-diagram .stateLabel .box{stroke:none;stroke-width:0;fill:#fff4dd;opacity:0.5;}#mermaid-generated-diagram .edgeLabel .label rect{fill:#fff4dd;opacity:0.5;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .edgeLabel .label text{fill:#333;}#mermaid-generated-diagram .label div .edgeLabel{color:#333;}#mermaid-generated-diagram .stateLabel text{fill:#333;font-size:10px;font-weight:bold;}#mermaid-generated-diagram .node circle.state-start{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .node .fork-join{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .node circle.state-end{fill:hsl(40.5882352941, 60%, 83.3333333333%);stroke:#f4f4f4;stroke-width:1.5;}#mermaid-generated-diagram .end-state-inner{fill:#f4f4f4;stroke-width:1.5;}#mermaid-generated-diagram .node rect{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .node polygon{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram #statediagram-barbEnd{fill:#0b0b0b;}#mermaid-generated-diagram .statediagram-cluster rect{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster-label,#mermaid-generated-diagram .nodeLabel{color:#333;}#mermaid-generated-diagram .statediagram-cluster rect.outer{rx:5px;ry:5px;}#mermaid-generated-diagram .statediagram-state .divider{stroke:hsl(40.5882352941, 60%, 83.3333333333%);}#mermaid-generated-diagram .statediagram-state .title-state{rx:5px;ry:5px;}#mermaid-generated-diagram .statediagram-cluster.statediagram-cluster .inner{fill:#f4f4f4;}#mermaid-generated-diagram .statediagram-cluster.statediagram-cluster-alt .inner{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .statediagram-cluster .inner{rx:0;ry:0;}#mermaid-generated-diagram .statediagram-state rect.basic{rx:5px;ry:5px;}#mermaid-generated-diagram .statediagram-state rect.divider{stroke-dasharray:10,10;fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .note-edge{stroke-dasharray:5;}#mermaid-generated-diagram .statediagram-note rect{fill:#fff5ad;stroke:hsl(52.6829268293, 60%, 73.9215686275%);stroke-width:1px;rx:0;ry:0;}#mermaid-generated-diagram .statediagram-note rect{fill:#fff5ad;stroke:hsl(52.6829268293, 60%, 73.9215686275%);stroke-width:1px;rx:0;ry:0;}#mermaid-generated-diagram .statediagram-note text{fill:#333;}#mermaid-generated-diagram .statediagram-note .nodeLabel{color:#333;}#mermaid-generated-diagram .statediagram .edgeLabel{color:red;}#mermaid-generated-diagram #dependencyStart,#mermaid-generated-diagram #dependencyEnd{fill:#0b0b0b;stroke:#0b0b0b;stroke-width:1;}#mermaid-generated-diagram .statediagramTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><defs><marker orient="auto" markerUnits="userSpaceOnUse" markerHeight="14" markerWidth="20" refY="7" refX="19" id="mermaid-generated-diagram_stateDiagram-barbEnd"><path d="M 19,7 L9,13 L14,7 L9,1 Z"></path></marker></defs><g class="root"><g class="clusters"></g><g class="edgePaths"><path marker-end="url(#mermaid-generated-diagram_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge0" d="M116.5,356.5L116.417,352.25C116.333,348,116.167,339.5,116.167,331.167C116.167,322.833,116.333,314.667,116.417,310.583L116.5,306.5"></path><path marker-end="url(#mermaid-generated-diagram_stateDiagram-barbEnd)" style="fill:none;" class="edge-thickness-normal edge-pattern-solid transition" id="edge1" d="M116.5,170.5L116.417,166.25C116.333,162,116.167,153.5,116.167,145.167C116.167,136.833,116.333,128.667,116.417,124.583L116.5,120.5"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(116, 238)" id="state-elementInjector-1" class="node  statediagram-state"><g class="basic label-container outer-path"><path style="" fill="#fff4dd" stroke-width="0" stroke="none" d="M-103 -68 C-32.26062589714694 -68, 38.478748205706125 -68, 103 -68 C103 -68, 103 -68, 103 -68 C103.11180647169726 -67.99537565012416, 103.22361294339454 -67.99075130024833, 103.41289672736166 -67.98292246503335 C103.53474261468456 -67.96773439101769, 103.65658850200747 -67.95254631700202, 103.82297295140367 -67.93180651701361 C103.95515305418974 -67.90409126397164, 104.08733315697582 -67.87637601092965, 104.227427435704 -67.84700132969665 C104.34101960994718 -67.81318347420313, 104.45461178419036 -67.7793656187096, 104.62349734602341 -67.72908620850318 C104.7427802756808 -67.68254186491852, 104.86206320533819 -67.63599752133386, 105.00847712326485 -67.57886663327528 C105.12653696936835 -67.52115069140407, 105.24459681547184 -67.46343474953287, 105.37973696518537 -67.39736875603245 C105.50986710705232 -67.31982802216031, 105.63999724891927 -67.24228728828818, 105.73474079061214 -67.18583239131264 C105.86197107892335 -67.09499171148393, 105.98920136723456 -67.00415103165521, 106.07106356344833 -66.94570254698196 C106.18925884782242 -66.84559624756736, 106.30745413219651 -66.74548994815275, 106.3864078581287 -66.67861955336566 C106.45127977851563 -66.61374763297874, 106.51615169890255 -66.54887571259182, 106.67861955336566 -66.3864078581287 C106.7534891934231 -66.29800944115271, 106.82835883348056 -66.20961102417672, 106.94570254698196 -66.07106356344833 C107.00163301032137 -65.99272807554281, 107.05756347366076 -65.91439258763728, 107.18583239131264 -65.73474079061214 C107.25959497967297 -65.6109511950219, 107.33335756803328 -65.48716159943166, 107.39736875603245 -65.37973696518537 C107.4555169975329 -65.26079283605637, 107.51366523903334 -65.14184870692735, 107.57886663327528 -65.00847712326485 C107.61216772491986 -64.92313373959612, 107.64546881656445 -64.8377903559274, 107.72908620850318 -64.62349734602341 C107.75986013188655 -64.52012955950659, 107.79063405526993 -64.41676177298977, 107.84700132969665 -64.227427435704 C107.86530943736892 -64.14011206642799, 107.88361754504119 -64.05279669715198, 107.93180651701361 -63.82297295140367 C107.94741223437396 -63.6977765323502, 107.96301795173429 -63.57258011329672, 107.98292246503335 -63.41289672736166 C107.98822794648095 -63.28462201259364, 107.99353342792853 -63.15634729782561, 108 -63 C108 -63, 108 -63, 108 -63 C108 -23.295456656975006, 108 16.40908668604999, 108 63 C108 63, 108 63, 108 63 C107.99531897432553 63.113176766170234, 107.99063794865106 63.22635353234047, 107.98292246503335 63.41289672736166 C107.97079802247804 63.51016471933506, 107.95867357992273 63.60743271130845, 107.93180651701361 63.82297295140367 C107.90543285584695 63.94875470914457, 107.8790591946803 64.07453646688548, 107.84700132969665 64.227427435704 C107.80042947550264 64.38385953641624, 107.75385762130861 64.54029163712846, 107.72908620850318 64.62349734602341 C107.68548634395447 64.73523422263392, 107.64188647940574 64.84697109924443, 107.57886663327528 65.00847712326485 C107.5233172036154 65.12210529780658, 107.46776777395552 65.23573347234831, 107.39736875603245 65.37973696518537 C107.32224356899945 65.50581329640124, 107.24711838196646 65.63188962761711, 107.18583239131264 65.73474079061214 C107.09348307226479 65.86408405961846, 107.00113375321693 65.99342732862478, 106.94570254698196 66.07106356344833 C106.88525415855864 66.14243484079482, 106.82480577013531 66.2138061181413, 106.67861955336566 66.3864078581287 C106.60286683194283 66.46216057955154, 106.52711411052 66.53791330097437, 106.3864078581287 66.67861955336566 C106.27599541774194 66.77213412016913, 106.16558297735519 66.86564868697259, 106.07106356344833 66.94570254698196 C105.96956567720792 67.01817064486683, 105.8680677909675 67.09063874275171, 105.73474079061214 67.18583239131264 C105.64847034009989 67.23723842183122, 105.56219988958766 67.2886444523498, 105.37973696518537 67.39736875603245 C105.2684194944726 67.45178855142399, 105.15710202375982 67.50620834681553, 105.00847712326485 67.57886663327528 C104.90947701282485 67.6174965962421, 104.81047690238485 67.65612655920893, 104.62349734602341 67.72908620850318 C104.53186887356925 67.75636518666512, 104.44024040111509 67.78364416482707, 104.227427435704 67.84700132969665 C104.08852489637229 67.87612612945553, 103.94962235704057 67.9052509292144, 103.82297295140367 67.93180651701361 C103.69649186034272 67.9475723685727, 103.57001076928175 67.96333822013176, 103.41289672736166 67.98292246503335 C103.28712915966886 67.98812425011087, 103.16136159197609 67.99332603518837, 103 68 C103 68, 103 68, 103 68 C40.6267572789663 68, -21.746485442067396 68, -103 68 C-103 68, -103 68, -103 68 C-103.14960473780154 67.99381230227397, -103.29920947560308 67.98762460454793, -103.41289672736166 67.98292246503335 C-103.5059551309509 67.97132274712291, -103.59901353454015 67.95972302921247, -103.82297295140367 67.93180651701361 C-103.9247074212055 67.91047504189581, -104.02644189100731 67.88914356677802, -104.227427435704 67.84700132969665 C-104.33918690930122 67.81372909282537, -104.45094638289845 67.78045685595409, -104.62349734602341 67.72908620850318 C-104.74834209034927 67.68037163810043, -104.87318683467512 67.63165706769766, -105.00847712326485 67.57886663327528 C-105.13651294819167 67.51627373253213, -105.26454877311848 67.45368083178897, -105.37973696518537 67.39736875603245 C-105.51049456995344 67.3194541354256, -105.6412521747215 67.24153951481875, -105.73474079061214 67.18583239131264 C-105.84660968400802 67.10595953664371, -105.9584785774039 67.02608668197477, -106.07106356344833 66.94570254698196 C-106.19544921372528 66.84035327509312, -106.31983486400222 66.7350040032043, -106.3864078581287 66.67861955336566 C-106.46137235784376 66.60365505365061, -106.53633685755881 66.52869055393556, -106.67861955336566 66.3864078581287 C-106.7464196109182 66.3063564814435, -106.81421966847073 66.22630510475828, -106.94570254698196 66.07106356344833 C-107.02160688745829 65.964752920011, -107.09751122793463 65.85844227657365, -107.18583239131264 65.73474079061214 C-107.25390884017578 65.62049376835714, -107.32198528903892 65.50624674610215, -107.39736875603245 65.37973696518537 C-107.46690738631567 65.23749342339576, -107.53644601659889 65.09524988160615, -107.57886663327528 65.00847712326485 C-107.62225951867373 64.8972706887558, -107.66565240407219 64.78606425424672, -107.72908620850318 64.62349734602341 C-107.7625918718584 64.51095380668782, -107.79609753521363 64.39841026735223, -107.84700132969665 64.227427435704 C-107.87707610843925 64.08399423884869, -107.90715088718186 63.94056104199336, -107.93180651701361 63.82297295140367 C-107.949505316274 63.680984842957066, -107.96720411553439 63.53899673451046, -107.98292246503335 63.41289672736166 C-107.98725211952559 63.30821533312391, -107.99158177401783 63.20353393888616, -108 63 C-108 63, -108 63, -108 63 C-108 28.578103974341467, -108 -5.843792051317067, -108 -63 C-108 -63, -108 -63, -108 -63 C-107.99470292943533 -63.12807135836809, -107.98940585887065 -63.25614271673618, -107.98292246503335 -63.41289672736166 C-107.96719556614093 -63.53906532177377, -107.95146866724852 -63.66523391618588, -107.93180651701361 -63.82297295140367 C-107.91013245764604 -63.92634128041212, -107.88845839827849 -64.02970960942056, -107.84700132969665 -64.22742743570399 C-107.80753150841713 -64.36000422836874, -107.76806168713759 -64.49258102103349, -107.72908620850318 -64.62349734602341 C-107.69696839122084 -64.70580825739482, -107.66485057393851 -64.78811916876624, -107.57886663327528 -65.00847712326484 C-107.50875840832607 -65.15188578956646, -107.43865018337688 -65.29529445586809, -107.39736875603245 -65.37973696518537 C-107.32019796392127 -65.5092462646714, -107.24302717181008 -65.63875556415742, -107.18583239131264 -65.73474079061214 C-107.13435618790115 -65.80683769932705, -107.08287998448965 -65.87893460804194, -106.94570254698196 -66.07106356344833 C-106.86806350488209 -66.16273180723708, -106.7904244627822 -66.25440005102583, -106.67861955336566 -66.3864078581287 C-106.5929937451276 -66.47203366636677, -106.50736793688955 -66.55765947460482, -106.3864078581287 -66.67861955336566 C-106.30198534935253 -66.75012177095103, -106.21756284057636 -66.82162398853639, -106.07106356344833 -66.94570254698196 C-105.97562804757507 -67.0138421956207, -105.88019253170182 -67.08198184425943, -105.73474079061214 -67.18583239131264 C-105.62069226668794 -67.25379056084387, -105.50664374276374 -67.32174873037509, -105.37973696518537 -67.39736875603245 C-105.2323928184747 -67.46940092011948, -105.08504867176403 -67.54143308420652, -105.00847712326485 -67.57886663327528 C-104.86008857622829 -67.63676802400349, -104.71170002919173 -67.6946694147317, -104.62349734602341 -67.72908620850318 C-104.4741191972877 -67.77355801020511, -104.324741048552 -67.81802981190704, -104.227427435704 -67.84700132969665 C-104.07866316936854 -67.87819391616154, -103.92989890303308 -67.90938650262642, -103.82297295140367 -67.93180651701361 C-103.66785285932671 -67.95114221632646, -103.51273276724974 -67.97047791563931, -103.41289672736167 -67.98292246503335 C-103.2790549865497 -67.98845820038132, -103.14521324573772 -67.99399393572928, -103 -68 C-103 -68, -103 -68, -103 -68"></path><path style="" stroke-dasharray="0 0" fill="none" stroke-width="1.3" stroke="hsl(40.5882352941, 60%, 83.3333333333%)" d="M-103 -68 C-22.594139346205836 -68, 57.81172130758833 -68, 103 -68 M-103 -68 C-32.82717697435007 -68, 37.345646051299866 -68, 103 -68 M103 -68 C103 -68, 103 -68, 103 -68 M103 -68 C103 -68, 103 -68, 103 -68 M103 -68 C103.11640626112214 -67.99518540142628, 103.23281252224429 -67.99037080285255, 103.41289672736166 -67.98292246503335 M103 -68 C103.13288249214001 -67.99450393947059, 103.26576498428001 -67.98900787894118, 103.41289672736166 -67.98292246503335 M103.41289672736166 -67.98292246503335 C103.50646159799535 -67.97125961607165, 103.60002646862905 -67.95959676710996, 103.82297295140367 -67.93180651701361 M103.41289672736166 -67.98292246503335 C103.54481769867039 -67.96647853310854, 103.67673866997912 -67.95003460118373, 103.82297295140367 -67.93180651701361 M103.82297295140367 -67.93180651701361 C103.91373302324246 -67.91277613116809, 104.00449309508126 -67.89374574532256, 104.227427435704 -67.84700132969665 M103.82297295140367 -67.93180651701361 C103.98219641266802 -67.89842086799271, 104.14141987393235 -67.86503521897183, 104.227427435704 -67.84700132969665 M104.227427435704 -67.84700132969665 C104.32819460974817 -67.81700164219158, 104.42896178379235 -67.78700195468652, 104.62349734602341 -67.72908620850318 M104.227427435704 -67.84700132969665 C104.33134998187481 -67.81606224720845, 104.43527252804562 -67.78512316472026, 104.62349734602341 -67.72908620850318 M104.62349734602341 -67.72908620850318 C104.72715573161773 -67.68863858093073, 104.83081411721204 -67.64819095335827, 105.00847712326485 -67.57886663327528 M104.62349734602341 -67.72908620850318 C104.76556763665116 -67.67365020907607, 104.90763792727888 -67.61821420964897, 105.00847712326485 -67.57886663327528 M105.00847712326485 -67.57886663327528 C105.15246194210694 -67.50847674451207, 105.29644676094904 -67.43808685574885, 105.37973696518537 -67.39736875603245 M105.00847712326485 -67.57886663327528 C105.12819052683088 -67.52034231641852, 105.24790393039689 -67.46181799956176, 105.37973696518537 -67.39736875603245 M105.37973696518537 -67.39736875603245 C105.52098013458979 -67.31320609507691, 105.66222330399422 -67.22904343412135, 105.73474079061214 -67.18583239131264 M105.37973696518537 -67.39736875603245 C105.47434251016749 -67.3409960872484, 105.56894805514962 -67.28462341846435, 105.73474079061214 -67.18583239131264 M105.73474079061214 -67.18583239131264 C105.84045351879405 -67.11035495412328, 105.94616624697596 -67.03487751693393, 106.07106356344833 -66.94570254698196 M105.73474079061214 -67.18583239131264 C105.8046110717423 -67.13594596943987, 105.87448135287246 -67.08605954756709, 106.07106356344833 -66.94570254698196 M106.07106356344833 -66.94570254698196 C106.17939349049989 -66.85395177900155, 106.28772341755145 -66.76220101102113, 106.3864078581287 -66.67861955336566 M106.07106356344833 -66.94570254698196 C106.19171633770408 -66.84351485980976, 106.31236911195982 -66.74132717263757, 106.3864078581287 -66.67861955336566 M106.3864078581287 -66.67861955336566 C106.44779960874406 -66.6172278027503, 106.50919135935942 -66.55583605213495, 106.67861955336566 -66.3864078581287 M106.3864078581287 -66.67861955336566 C106.49701365291038 -66.56801375858399, 106.60761944769206 -66.45740796380231, 106.67861955336566 -66.3864078581287 M106.67861955336566 -66.3864078581287 C106.74980562353639 -66.30235862389965, 106.82099169370711 -66.2183093896706, 106.94570254698196 -66.07106356344833 M106.67861955336566 -66.3864078581287 C106.73883496846062 -66.31531165187124, 106.79905038355558 -66.24421544561378, 106.94570254698196 -66.07106356344833 M106.94570254698196 -66.07106356344833 C106.99943858793137 -65.99580155533053, 107.05317462888077 -65.92053954721273, 107.18583239131264 -65.73474079061214 M106.94570254698196 -66.07106356344833 C107.03274049166504 -65.94915933709376, 107.11977843634811 -65.82725511073919, 107.18583239131264 -65.73474079061214 M107.18583239131264 -65.73474079061214 C107.2588757409324 -65.6121582333703, 107.33191909055215 -65.48957567612845, 107.39736875603245 -65.37973696518537 M107.18583239131264 -65.73474079061214 C107.26780089382046 -65.59717989419926, 107.34976939632828 -65.45961899778638, 107.39736875603245 -65.37973696518537 M107.39736875603245 -65.37973696518537 C107.46353351920487 -65.2443947788785, 107.5296982823773 -65.10905259257163, 107.57886663327528 -65.00847712326485 M107.39736875603245 -65.37973696518537 C107.45767509907883 -65.25637836878566, 107.5179814421252 -65.13301977238595, 107.57886663327528 -65.00847712326485 M107.57886663327528 -65.00847712326485 C107.63650396328009 -64.86076530586435, 107.69414129328491 -64.71305348846384, 107.72908620850318 -64.62349734602341 M107.57886663327528 -65.00847712326485 C107.63488738080805 -64.86490825167574, 107.69090812834082 -64.72133938008663, 107.72908620850318 -64.62349734602341 M107.72908620850318 -64.62349734602341 C107.75459796610046 -64.5378048628086, 107.78010972369773 -64.45211237959377, 107.84700132969665 -64.227427435704 M107.72908620850318 -64.62349734602341 C107.76136839213723 -64.51506340262888, 107.79365057577128 -64.40662945923435, 107.84700132969665 -64.227427435704 M107.84700132969665 -64.227427435704 C107.87149935010976 -64.11059101889937, 107.89599737052285 -63.99375460209474, 107.93180651701361 -63.82297295140367 M107.84700132969665 -64.227427435704 C107.87774576428527 -64.08080050367248, 107.90849019887389 -63.93417357164096, 107.93180651701361 -63.82297295140367 M107.93180651701361 -63.82297295140367 C107.94617229416333 -63.70772391705711, 107.96053807131304 -63.59247488271055, 107.98292246503335 -63.41289672736166 M107.93180651701361 -63.82297295140367 C107.94880374177792 -63.68661320419032, 107.96580096654223 -63.550253456976975, 107.98292246503335 -63.41289672736166 M107.98292246503335 -63.41289672736166 C107.98929848044347 -63.258738887744485, 107.99567449585359 -63.104581048127315, 108 -63 M107.98292246503335 -63.41289672736166 C107.98913998431966 -63.26257097070894, 107.99535750360597 -63.11224521405622, 108 -63 M108 -63 C108 -63, 108 -63, 108 -63 M108 -63 C108 -63, 108 -63, 108 -63 M108 -63 C108 -14.828654913137719, 108 33.34269017372456, 108 63 M108 -63 C108 -35.004927622660745, 108 -7.009855245321482, 108 63 M108 63 C108 63, 108 63, 108 63 M108 63 C108 63, 108 63, 108 63 M108 63 C107.99387015422649 63.148206006549486, 107.98774030845297 63.29641201309897, 107.98292246503335 63.41289672736166 M108 63 C107.99365638755012 63.153374408269386, 107.98731277510022 63.30674881653877, 107.98292246503335 63.41289672736166 M107.98292246503335 63.41289672736166 C107.97215421457813 63.499284707185794, 107.96138596412288 63.58567268700993, 107.93180651701361 63.82297295140367 M107.98292246503335 63.41289672736166 C107.9681550101949 63.53136820942287, 107.95338755535646 63.64983969148408, 107.93180651701361 63.82297295140367 M107.93180651701361 63.82297295140367 C107.9120719425749 63.91709145264185, 107.8923373681362 64.01120995388003, 107.84700132969665 64.227427435704 M107.93180651701361 63.82297295140367 C107.903942352979 63.955863243278856, 107.87607818894438 64.08875353515404, 107.84700132969665 64.227427435704 M107.84700132969665 64.227427435704 C107.80706854205545 64.36155930496533, 107.76713575441424 64.49569117422664, 107.72908620850318 64.62349734602341 M107.84700132969665 64.227427435704 C107.8113695900969 64.34711233925967, 107.77573785049717 64.46679724281532, 107.72908620850318 64.62349734602341 M107.72908620850318 64.62349734602341 C107.691018134993 64.72105745719882, 107.65295006148284 64.81861756837422, 107.57886663327528 65.00847712326485 M107.72908620850318 64.62349734602341 C107.67993523889703 64.74946048565732, 107.63078426929087 64.87542362529122, 107.57886663327528 65.00847712326485 M107.57886663327528 65.00847712326485 C107.52429384831085 65.12010753915094, 107.46972106334641 65.231737955037, 107.39736875603245 65.37973696518537 M107.57886663327528 65.00847712326485 C107.53395526958535 65.10034478605658, 107.48904390589541 65.19221244884831, 107.39736875603245 65.37973696518537 M107.39736875603245 65.37973696518537 C107.34342880215333 65.47025988778451, 107.28948884827419 65.56078281038364, 107.18583239131264 65.73474079061214 M107.39736875603245 65.37973696518537 C107.34325756112493 65.47054726731014, 107.28914636621742 65.56135756943492, 107.18583239131264 65.73474079061214 M107.18583239131264 65.73474079061214 C107.11043815318556 65.84033699125705, 107.03504391505847 65.94593319190197, 106.94570254698196 66.07106356344833 M107.18583239131264 65.73474079061214 C107.11453260501172 65.83460235466802, 107.04323281871078 65.9344639187239, 106.94570254698196 66.07106356344833 M106.94570254698196 66.07106356344833 C106.8677004339707 66.1631604842521, 106.78969832095943 66.25525740505589, 106.67861955336566 66.3864078581287 M106.94570254698196 66.07106356344833 C106.88872211236105 66.13834023547757, 106.83174167774014 66.20561690750682, 106.67861955336566 66.3864078581287 M106.67861955336566 66.3864078581287 C106.60188938199143 66.46313802950294, 106.52515921061718 66.5398682008772, 106.3864078581287 66.67861955336566 M106.67861955336566 66.3864078581287 C106.61335460788034 66.45167280361403, 106.54808966239503 66.51693774909934, 106.3864078581287 66.67861955336566 M106.3864078581287 66.67861955336566 C106.2995511308584 66.7521834488488, 106.21269440358809 66.82574734433192, 106.07106356344833 66.94570254698196 M106.3864078581287 66.67861955336566 C106.26470296406121 66.78169834056315, 106.14299806999374 66.88477712776063, 106.07106356344833 66.94570254698196 M106.07106356344833 66.94570254698196 C105.99208451969108 67.00209250036777, 105.91310547593382 67.05848245375356, 105.73474079061214 67.18583239131264 M106.07106356344833 66.94570254698196 C105.97906910091906 67.01138533075586, 105.88707463838979 67.07706811452977, 105.73474079061214 67.18583239131264 M105.73474079061214 67.18583239131264 C105.63537150762991 67.24504363181576, 105.53600222464769 67.3042548723189, 105.37973696518537 67.39736875603245 M105.73474079061214 67.18583239131264 C105.60677849876866 67.26208136695465, 105.47881620692519 67.33833034259665, 105.37973696518537 67.39736875603245 M105.37973696518537 67.39736875603245 C105.27260690749182 67.44974144993789, 105.16547684979827 67.50211414384331, 105.00847712326485 67.57886663327528 M105.37973696518537 67.39736875603245 C105.23945518337659 67.46594834029997, 105.09917340156782 67.5345279245675, 105.00847712326485 67.57886663327528 M105.00847712326485 67.57886663327528 C104.93088502808247 67.60914316276693, 104.85329293290009 67.63941969225858, 104.62349734602341 67.72908620850318 M105.00847712326485 67.57886663327528 C104.86715991955361 67.6340087772757, 104.72584271584236 67.68915092127612, 104.62349734602341 67.72908620850318 M104.62349734602341 67.72908620850318 C104.49789605053533 67.76647933429653, 104.37229475504724 67.80387246008988, 104.227427435704 67.84700132969665 M104.62349734602341 67.72908620850318 C104.49654983233441 67.76688012081976, 104.3696023186454 67.80467403313635, 104.227427435704 67.84700132969665 M104.227427435704 67.84700132969665 C104.10635967399091 67.87238656983779, 103.98529191227782 67.89777180997893, 103.82297295140367 67.93180651701361 M104.227427435704 67.84700132969665 C104.11763629572289 67.87002211090507, 104.00784515574176 67.89304289211348, 103.82297295140367 67.93180651701361 M103.82297295140367 67.93180651701361 C103.71067069111962 67.94580497915949, 103.59836843083558 67.95980344130538, 103.41289672736166 67.98292246503335 M103.82297295140367 67.93180651701361 C103.6589710517882 67.95224933248156, 103.49496915217273 67.9726921479495, 103.41289672736166 67.98292246503335 M103.41289672736166 67.98292246503335 C103.31155646828054 67.98711392915332, 103.21021620919943 67.99130539327328, 103 68 M103.41289672736166 67.98292246503335 C103.29798792805227 67.98767512812836, 103.18307912874286 67.99242779122338, 103 68 M103 68 C103 68, 103 68, 103 68 M103 68 C103 68, 103 68, 103 68 M103 68 C51.931497901505715 68, 0.8629958030114295 68, -103 68 M103 68 C42.108071649679076 68, -18.78385670064185 68, -103 68 M-103 68 C-103 68, -103 68, -103 68 M-103 68 C-103 68, -103 68, -103 68 M-103 68 C-103.12817227413242 67.99469875552845, -103.25634454826486 67.98939751105688, -103.41289672736166 67.98292246503335 M-103 68 C-103.13359362117485 67.99447452695614, -103.2671872423497 67.98894905391228, -103.41289672736166 67.98292246503335 M-103.41289672736166 67.98292246503335 C-103.51220329030131 67.9705439148721, -103.61150985324097 67.95816536471084, -103.82297295140367 67.93180651701361 M-103.41289672736166 67.98292246503335 C-103.55175136721206 67.96561425222615, -103.69060600706248 67.94830603941895, -103.82297295140367 67.93180651701361 M-103.82297295140367 67.93180651701361 C-103.91492846703909 67.91252547296293, -104.00688398267451 67.89324442891225, -104.227427435704 67.84700132969665 M-103.82297295140367 67.93180651701361 C-103.91165830311328 67.91321115423251, -104.00034365482291 67.89461579145143, -104.227427435704 67.84700132969665 M-104.227427435704 67.84700132969665 C-104.32159522070707 67.8189663654344, -104.41576300571015 67.79093140117214, -104.62349734602341 67.72908620850318 M-104.227427435704 67.84700132969665 C-104.31275164730565 67.82159921130894, -104.39807585890729 67.79619709292122, -104.62349734602341 67.72908620850318 M-104.62349734602341 67.72908620850318 C-104.72121111671258 67.69095817686468, -104.81892488740174 67.65283014522619, -105.00847712326485 67.57886663327528 M-104.62349734602341 67.72908620850318 C-104.76560932375341 67.6736339427183, -104.9077213014834 67.61818167693342, -105.00847712326485 67.57886663327528 M-105.00847712326485 67.57886663327528 C-105.12224146181039 67.52325063709013, -105.23600580035593 67.46763464090499, -105.37973696518537 67.39736875603245 M-105.00847712326485 67.57886663327528 C-105.09478715211017 67.5366722312652, -105.18109718095548 67.49447782925513, -105.37973696518537 67.39736875603245 M-105.37973696518537 67.39736875603245 C-105.47886296645906 67.33830247996222, -105.57798896773274 67.27923620389198, -105.73474079061214 67.18583239131264 M-105.37973696518537 67.39736875603245 C-105.49888618850494 67.32637122937224, -105.61803541182452 67.25537370271205, -105.73474079061214 67.18583239131264 M-105.73474079061214 67.18583239131264 C-105.83358794983708 67.11525687613997, -105.93243510906204 67.04468136096729, -106.07106356344833 66.94570254698196 M-105.73474079061214 67.18583239131264 C-105.86496659773796 67.09285295215884, -105.9951924048638 66.99987351300503, -106.07106356344833 66.94570254698196 M-106.07106356344833 66.94570254698196 C-106.156087660556 66.87369081007054, -106.24111175766366 66.80167907315914, -106.3864078581287 66.67861955336566 M-106.07106356344833 66.94570254698196 C-106.15596452711681 66.87379509877375, -106.24086549078528 66.80188765056553, -106.3864078581287 66.67861955336566 M-106.3864078581287 66.67861955336566 C-106.48153463501419 66.58349277648018, -106.57666141189966 66.4883659995947, -106.67861955336566 66.3864078581287 M-106.3864078581287 66.67861955336566 C-106.45301366044102 66.61201375105335, -106.51961946275331 66.54540794874106, -106.67861955336566 66.3864078581287 M-106.67861955336566 66.3864078581287 C-106.76720630638357 66.28181367648423, -106.85579305940146 66.17721949483975, -106.94570254698196 66.07106356344833 M-106.67861955336566 66.3864078581287 C-106.77623044346258 66.27115889796856, -106.8738413335595 66.15590993780842, -106.94570254698196 66.07106356344833 M-106.94570254698196 66.07106356344833 C-107.01647323432353 65.97194304859278, -107.0872439216651 65.87282253373724, -107.18583239131264 65.73474079061214 M-106.94570254698196 66.07106356344833 C-107.0093460302963 65.98192531892528, -107.07298951361062 65.89278707440224, -107.18583239131264 65.73474079061214 M-107.18583239131264 65.73474079061214 C-107.26721926427433 65.59815599452192, -107.34860613723602 65.4615711984317, -107.39736875603245 65.37973696518537 M-107.18583239131264 65.73474079061214 C-107.25526870554515 65.61821161980632, -107.32470501977765 65.50168244900051, -107.39736875603245 65.37973696518537 M-107.39736875603245 65.37973696518537 C-107.45485431384037 65.26214837721568, -107.5123398716483 65.14455978924599, -107.57886663327528 65.00847712326485 M-107.39736875603245 65.37973696518537 C-107.45154388407624 65.26891996953174, -107.50571901212004 65.1581029738781, -107.57886663327528 65.00847712326485 M-107.57886663327528 65.00847712326485 C-107.62993086065018 64.87761072419555, -107.68099508802507 64.74674432512626, -107.72908620850318 64.62349734602341 M-107.57886663327528 65.00847712326485 C-107.62133516637529 64.89963960067294, -107.66380369947531 64.79080207808103, -107.72908620850318 64.62349734602341 M-107.72908620850318 64.62349734602341 C-107.75932275550115 64.52193457496708, -107.7895593024991 64.42037180391075, -107.84700132969665 64.227427435704 M-107.72908620850318 64.62349734602341 C-107.75475906189001 64.53726375158998, -107.78043191527685 64.45103015715652, -107.84700132969665 64.227427435704 M-107.84700132969665 64.227427435704 C-107.8659838477272 64.13689565594309, -107.88496636575772 64.04636387618218, -107.93180651701361 63.82297295140367 M-107.84700132969665 64.227427435704 C-107.8794796062115 64.07253143235364, -107.91195788272634 63.91763542900329, -107.93180651701361 63.82297295140367 M-107.93180651701361 63.82297295140367 C-107.94474482828542 63.71917572104071, -107.95768313955725 63.61537849067775, -107.98292246503335 63.41289672736166 M-107.93180651701361 63.82297295140367 C-107.9497494953623 63.67902592323834, -107.96769247371098 63.535078895073006, -107.98292246503335 63.41289672736166 M-107.98292246503335 63.41289672736166 C-107.98951688267069 63.25345840873849, -107.99611130030802 63.09402009011532, -108 63 M-107.98292246503335 63.41289672736166 C-107.98841081449771 63.280200671585824, -107.99389916396206 63.14750461580999, -108 63 M-108 63 C-108 63, -108 63, -108 63 M-108 63 C-108 63, -108 63, -108 63 M-108 63 C-108 24.916103526754647, -108 -13.167792946490707, -108 -63 M-108 63 C-108 26.74697261189732, -108 -9.50605477620536, -108 -63 M-108 -63 C-108 -63, -108 -63, -108 -63 M-108 -63 C-108 -63, -108 -63, -108 -63 M-108 -63 C-107.99332904636665 -63.161288788397776, -107.98665809273331 -63.32257757679555, -107.98292246503335 -63.41289672736166 M-108 -63 C-107.99455479547474 -63.131652907324366, -107.9891095909495 -63.26330581464873, -107.98292246503335 -63.41289672736166 M-107.98292246503335 -63.41289672736166 C-107.96297984046393 -63.57288585986798, -107.9430372158945 -63.732874992374306, -107.93180651701361 -63.82297295140367 M-107.98292246503335 -63.41289672736166 C-107.97106984267418 -63.507984049622955, -107.95921722031501 -63.60307137188424, -107.93180651701361 -63.82297295140367 M-107.93180651701361 -63.82297295140367 C-107.90182003432633 -63.96598504506172, -107.87183355163907 -64.10899713871977, -107.84700132969665 -64.22742743570399 M-107.93180651701361 -63.82297295140367 C-107.9148117897694 -63.90402452219606, -107.89781706252519 -63.98507609298844, -107.84700132969665 -64.22742743570399 M-107.84700132969665 -64.22742743570399 C-107.81287575568456 -64.34205321823102, -107.77875018167245 -64.45667900075804, -107.72908620850318 -64.62349734602341 M-107.84700132969665 -64.22742743570399 C-107.81060216358561 -64.34969007947169, -107.77420299747457 -64.47195272323937, -107.72908620850318 -64.62349734602341 M-107.72908620850318 -64.62349734602341 C-107.67891996190096 -64.75206241760388, -107.62875371529873 -64.88062748918436, -107.57886663327528 -65.00847712326484 M-107.72908620850318 -64.62349734602341 C-107.67274863132013 -64.76787818241806, -107.61641105413709 -64.91225901881269, -107.57886663327528 -65.00847712326484 M-107.57886663327528 -65.00847712326484 C-107.52324050763505 -65.12226218194195, -107.4676143819948 -65.23604724061904, -107.39736875603245 -65.37973696518537 M-107.57886663327528 -65.00847712326484 C-107.53985474246029 -65.08827722140934, -107.50084285164529 -65.16807731955383, -107.39736875603245 -65.37973696518537 M-107.39736875603245 -65.37973696518537 C-107.33679988545234 -65.48138464541378, -107.27623101487222 -65.5830323256422, -107.18583239131264 -65.73474079061214 M-107.39736875603245 -65.37973696518537 C-107.32639788437301 -65.49884145564188, -107.25542701271355 -65.6179459460984, -107.18583239131264 -65.73474079061214 M-107.18583239131264 -65.73474079061214 C-107.10978374157419 -65.84125355174675, -107.03373509183574 -65.94776631288136, -106.94570254698196 -66.07106356344833 M-107.18583239131264 -65.73474079061214 C-107.10092432691722 -65.85366193401777, -107.0160162625218 -65.97258307742341, -106.94570254698196 -66.07106356344833 M-106.94570254698196 -66.07106356344833 C-106.85888098054775 -66.17357359323172, -106.77205941411354 -66.2760836230151, -106.67861955336566 -66.3864078581287 M-106.94570254698196 -66.07106356344833 C-106.8884650327809 -66.1386437687643, -106.83122751857985 -66.20622397408025, -106.67861955336566 -66.3864078581287 M-106.67861955336566 -66.3864078581287 C-106.57743617541301 -66.48759123608136, -106.47625279746035 -66.58877461403402, -106.3864078581287 -66.67861955336566 M-106.67861955336566 -66.3864078581287 C-106.56766548434126 -66.49736192715311, -106.45671141531685 -66.60831599617752, -106.3864078581287 -66.67861955336566 M-106.3864078581287 -66.67861955336566 C-106.28141367643687 -66.76754508914227, -106.17641949474505 -66.85647062491887, -106.07106356344833 -66.94570254698196 M-106.3864078581287 -66.67861955336566 C-106.28435591356869 -66.76505314140658, -106.18230396900866 -66.85148672944749, -106.07106356344833 -66.94570254698196 M-106.07106356344833 -66.94570254698196 C-105.99362056587023 -67.00099578447553, -105.91617756829214 -67.05628902196912, -105.73474079061214 -67.18583239131264 M-106.07106356344833 -66.94570254698196 C-105.96041279698792 -67.02470567573575, -105.84976203052751 -67.10370880448954, -105.73474079061214 -67.18583239131264 M-105.73474079061214 -67.18583239131264 C-105.62833723145772 -67.24923515062014, -105.5219336723033 -67.31263790992764, -105.37973696518537 -67.39736875603245 M-105.73474079061214 -67.18583239131264 C-105.59868335522053 -67.26690502550537, -105.46262591982892 -67.34797765969809, -105.37973696518537 -67.39736875603245 M-105.37973696518537 -67.39736875603245 C-105.29774537616476 -67.43745200145439, -105.21575378714414 -67.47753524687631, -105.00847712326485 -67.57886663327528 M-105.37973696518537 -67.39736875603245 C-105.26596158645584 -67.45299014943467, -105.15218620772633 -67.50861154283689, -105.00847712326485 -67.57886663327528 M-105.00847712326485 -67.57886663327528 C-104.92242255871473 -67.61244522856092, -104.8363679941646 -67.64602382384653, -104.62349734602341 -67.72908620850318 M-105.00847712326485 -67.57886663327528 C-104.87204836143059 -67.63210130133619, -104.73561959959632 -67.6853359693971, -104.62349734602341 -67.72908620850318 M-104.62349734602341 -67.72908620850318 C-104.48463304415887 -67.77042790237384, -104.34576874229433 -67.8117695962445, -104.227427435704 -67.84700132969665 M-104.62349734602341 -67.72908620850318 C-104.47994370621502 -67.77182397876732, -104.33639006640664 -67.81456174903145, -104.227427435704 -67.84700132969665 M-104.227427435704 -67.84700132969665 C-104.10831371176937 -67.87197685120131, -103.98919998783475 -67.89695237270597, -103.82297295140367 -67.93180651701361 M-104.227427435704 -67.84700132969665 C-104.13288274581183 -67.86682526649884, -104.03833805591965 -67.88664920330102, -103.82297295140367 -67.93180651701361 M-103.82297295140367 -67.93180651701361 C-103.67351591382621 -67.95043631731926, -103.52405887624874 -67.96906611762489, -103.41289672736167 -67.98292246503335 M-103.82297295140367 -67.93180651701361 C-103.68642404515462 -67.94882732042713, -103.54987513890559 -67.96584812384066, -103.41289672736167 -67.98292246503335 M-103.41289672736167 -67.98292246503335 C-103.31046191961399 -67.98715920002104, -103.20802711186629 -67.99139593500873, -103 -68 M-103.41289672736167 -67.98292246503335 C-103.28021692321778 -67.98841014232524, -103.14753711907389 -67.99389781961712, -103 -68 M-103 -68 C-103 -68, -103 -68, -103 -68 M-103 -68 C-103 -68, -103 -68, -103 -68"></path></g><g transform="translate(-100, -60)" style="" class="label"><rect></rect><foreignObject height="120" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>EnvironmentInjector<br>(configured by Angular)<br>has special things like DomSanitizer =&gt; providedIn 'platform'</p></span></div></foreignObject></g></g><g transform="translate(116, 424)" id="state-rootInjector-0" class="node  statediagram-state"><g class="basic label-container outer-path"><path style="" fill="#fff4dd" stroke-width="0" stroke="none" d="M-103 -68 C-44.72293966626139 -68, 13.554120667477221 -68, 103 -68 C103 -68, 103 -68, 103 -68 C103.15027885367554 -67.99378442063518, 103.30055770735109 -67.98756884127036, 103.41289672736166 -67.98292246503335 C103.52184832392292 -67.96934166268495, 103.6307999204842 -67.95576086033655, 103.82297295140367 -67.93180651701361 C103.90848835143278 -67.9138758232039, 103.9940037514619 -67.89594512939419, 104.227427435704 -67.84700132969665 C104.36905885802766 -67.80483582837233, 104.51069028035131 -67.762670327048, 104.62349734602341 -67.72908620850318 C104.71484398141389 -67.6934426407678, 104.80619061680439 -67.65779907303242, 105.00847712326485 -67.57886663327528 C105.09804032323804 -67.53508185280961, 105.18760352321121 -67.49129707234395, 105.37973696518537 -67.39736875603245 C105.45179883177853 -67.35442920382984, 105.52386069837169 -67.31148965162723, 105.73474079061214 -67.18583239131264 C105.81582058319091 -67.12794253209758, 105.89690037576969 -67.07005267288253, 106.07106356344833 -66.94570254698196 C106.14032330258051 -66.88704254020031, 106.20958304171269 -66.82838253341866, 106.3864078581287 -66.67861955336566 C106.44651785957207 -66.6185095519223, 106.50662786101543 -66.55839955047894, 106.67861955336566 -66.3864078581287 C106.76394159720122 -66.285668311332, 106.84926364103679 -66.1849287645353, 106.94570254698196 -66.07106356344833 C107.01499760048306 -65.97400980237884, 107.08429265398416 -65.87695604130937, 107.18583239131264 -65.73474079061214 C107.26690618015179 -65.5986814174738, 107.34797996899094 -65.46262204433545, 107.39736875603245 -65.37973696518537 C107.43853190639948 -65.29553639529239, 107.4796950567665 -65.2113358253994, 107.57886663327528 -65.00847712326485 C107.61908151388481 -64.90541521701621, 107.65929639449435 -64.80235331076756, 107.72908620850318 -64.62349734602341 C107.76871809471182 -64.49037618685766, 107.80834998092045 -64.3572550276919, 107.84700132969665 -64.227427435704 C107.87885653606452 -64.07550299014335, 107.91071174243238 -63.92357854458271, 107.93180651701361 -63.82297295140367 C107.94252912668702 -63.73695112344013, 107.95325173636043 -63.65092929547658, 107.98292246503335 -63.41289672736166 C107.98765360310063 -63.29850835524089, 107.99238474116788 -63.18411998312013, 108 -63 C108 -63, 108 -63, 108 -63 C108 -28.179966001848214, 108 6.640067996303571, 108 63 C108 63, 108 63, 108 63 C107.99570402512693 63.10386709612278, 107.99140805025385 63.207734192245546, 107.98292246503335 63.41289672736166 C107.96638095267794 63.54560053487074, 107.9498394403225 63.67830434237981, 107.93180651701361 63.82297295140367 C107.89904110764408 63.979238354130935, 107.86627569827453 64.1355037568582, 107.84700132969665 64.227427435704 C107.80096360582806 64.38206542427905, 107.75492588195947 64.5367034128541, 107.72908620850318 64.62349734602341 C107.67112912859925 64.77202861218582, 107.61317204869532 64.92055987834824, 107.57886663327528 65.00847712326485 C107.53956294954241 65.08887409336295, 107.50025926580955 65.16927106346104, 107.39736875603245 65.37973696518537 C107.35172264519512 65.45634102323739, 107.30607653435779 65.53294508128938, 107.18583239131264 65.73474079061214 C107.12786009573136 65.81593604250563, 107.06988780015008 65.89713129439912, 106.94570254698196 66.07106356344833 C106.85707146705639 66.1757100817738, 106.76844038713081 66.28035660009928, 106.67861955336566 66.3864078581287 C106.58012509254978 66.48490231894459, 106.48163063173389 66.58339677976048, 106.3864078581287 66.67861955336566 C106.2874454749723 66.76243641637758, 106.18848309181588 66.84625327938952, 106.07106356344833 66.94570254698196 C105.94258558977602 67.0374340570361, 105.8141076161037 67.12916556709021, 105.73474079061214 67.18583239131264 C105.64712473669711 67.23804022742257, 105.55950868278208 67.2902480635325, 105.37973696518537 67.39736875603245 C105.2490102252618 67.46127716495776, 105.11828348533822 67.52518557388308, 105.00847712326485 67.57886663327528 C104.89257718078638 67.62409093116648, 104.77667723830788 67.66931522905769, 104.62349734602341 67.72908620850318 C104.5415307923107 67.75348870882705, 104.45956423859799 67.77789120915092, 104.227427435704 67.84700132969665 C104.08619068411446 67.87661556229766, 103.94495393252491 67.90622979489866, 103.82297295140367 67.93180651701361 C103.72610077672822 67.94388162099419, 103.62922860205276 67.95595672497477, 103.41289672736166 67.98292246503335 C103.26818703421655 67.98890770221479, 103.12347734107144 67.99489293939622, 103 68 C103 68, 103 68, 103 68 C27.300584719116543 68, -48.398830561766914 68, -103 68 C-103 68, -103 68, -103 68 C-103.09508715116752 67.99606716633645, -103.19017430233504 67.99213433267288, -103.41289672736166 67.98292246503335 C-103.53615817499733 67.9675579416087, -103.65941962263301 67.95219341818407, -103.82297295140367 67.93180651701361 C-103.97210117754594 67.90053761620239, -104.12122940368822 67.86926871539117, -104.227427435704 67.84700132969665 C-104.32950406682215 67.81661179993002, -104.43158069794032 67.78622227016339, -104.62349734602341 67.72908620850318 C-104.72462267009821 67.68962698460277, -104.82574799417303 67.65016776070236, -105.00847712326485 67.57886663327528 C-105.1534114637306 67.50801255167559, -105.29834580419634 67.43715847007591, -105.37973696518537 67.39736875603245 C-105.45081548089642 67.35501515377163, -105.52189399660747 67.3126615515108, -105.73474079061214 67.18583239131264 C-105.83779366168311 67.11225405559836, -105.94084653275407 67.03867571988407, -106.07106356344833 66.94570254698196 C-106.15790993343137 66.87214742367368, -106.24475630341442 66.79859230036539, -106.3864078581287 66.67861955336566 C-106.45835989286742 66.60666751862695, -106.53031192760615 66.53471548388822, -106.67861955336566 66.3864078581287 C-106.7642033864131 66.28535921739362, -106.84978721946054 66.18431057665852, -106.94570254698196 66.07106356344833 C-107.02316526153155 65.9625702813186, -107.10062797608113 65.85407699918889, -107.18583239131264 65.73474079061214 C-107.2343558942133 65.65330784561634, -107.28287939711396 65.57187490062053, -107.39736875603245 65.37973696518537 C-107.46740341638105 65.23647877767947, -107.53743807672964 65.09322059017357, -107.57886663327528 65.00847712326485 C-107.62263980543084 64.89629609732312, -107.66641297758639 64.78411507138138, -107.72908620850318 64.62349734602341 C-107.77498492157586 64.46932628648096, -107.82088363464855 64.31515522693851, -107.84700132969665 64.227427435704 C-107.87622896097841 64.08803447035152, -107.90545659226017 63.948641504999024, -107.93180651701361 63.82297295140367 C-107.94505424850466 63.71669340622391, -107.95830197999571 63.61041386104415, -107.98292246503335 63.41289672736166 C-107.98672883273383 63.32086724127189, -107.9905352004343 63.22883775518212, -108 63 C-108 63, -108 63, -108 63 C-108 18.192948549950735, -108 -26.61410290009853, -108 -63 C-108 -63, -108 -63, -108 -63 C-107.99365997908859 -63.15328757287516, -107.98731995817717 -63.306575145750315, -107.98292246503335 -63.41289672736166 C-107.96800658705521 -63.532558929795705, -107.95309070907707 -63.652221132229755, -107.93180651701361 -63.82297295140367 C-107.90036981747261 -63.97290144638408, -107.86893311793159 -64.12282994136449, -107.84700132969665 -64.22742743570399 C-107.80188340434565 -64.3789758755199, -107.75676547899462 -64.5305243153358, -107.72908620850318 -64.62349734602341 C-107.67423783458258 -64.76406168154341, -107.61938946066198 -64.9046260170634, -107.57886663327528 -65.00847712326484 C-107.50800468821627 -65.15342754869373, -107.43714274315727 -65.2983779741226, -107.39736875603245 -65.37973696518537 C-107.3237526210929 -65.503280780223, -107.25013648615334 -65.62682459526062, -107.18583239131264 -65.73474079061214 C-107.13559376857829 -65.80510435974111, -107.08535514584393 -65.87546792887007, -106.94570254698196 -66.07106356344833 C-106.85992623096666 -66.17233946839414, -106.77414991495137 -66.27361537333995, -106.67861955336566 -66.3864078581287 C-106.59937617741194 -66.46565123408243, -106.52013280145822 -66.54489461003615, -106.3864078581287 -66.67861955336566 C-106.28871709347075 -66.76135941044777, -106.19102632881281 -66.84409926752987, -106.07106356344833 -66.94570254698196 C-105.98402948563994 -67.00784368413824, -105.89699540783154 -67.06998482129453, -105.73474079061214 -67.18583239131264 C-105.63111547975338 -67.24757967396705, -105.5274901688946 -67.30932695662146, -105.37973696518537 -67.39736875603245 C-105.25928861628196 -67.45625236577135, -105.13884026737855 -67.51513597551025, -105.00847712326485 -67.57886663327528 C-104.88948465139882 -67.62529763987806, -104.77049217953277 -67.67172864648084, -104.62349734602341 -67.72908620850318 C-104.51184974021915 -67.76232514088952, -104.40020213441487 -67.79556407327587, -104.227427435704 -67.84700132969665 C-104.08216199359937 -67.87746028986784, -103.93689655149474 -67.90791925003904, -103.82297295140367 -67.93180651701361 C-103.70067849873152 -67.94705050464175, -103.57838404605937 -67.9622944922699, -103.41289672736167 -67.98292246503335 C-103.31908510632009 -67.98680254238067, -103.2252734852785 -67.99068261972798, -103 -68 C-103 -68, -103 -68, -103 -68"></path><path style="" stroke-dasharray="0 0" fill="none" stroke-width="1.3" stroke="hsl(40.5882352941, 60%, 83.3333333333%)" d="M-103 -68 C-61.67220943521744 -68, -20.34441887043488 -68, 103 -68 M-103 -68 C-51.693050295032535 -68, -0.3861005900650696 -68, 103 -68 M103 -68 C103 -68, 103 -68, 103 -68 M103 -68 C103 -68, 103 -68, 103 -68 M103 -68 C103.09940207932772 -67.99588869958761, 103.19880415865543 -67.99177739917522, 103.41289672736166 -67.98292246503335 M103 -68 C103.13528852509226 -67.99440442521157, 103.27057705018453 -67.98880885042314, 103.41289672736166 -67.98292246503335 M103.41289672736166 -67.98292246503335 C103.50931417698884 -67.97090404247093, 103.60573162661602 -67.95888561990851, 103.82297295140367 -67.93180651701361 M103.41289672736166 -67.98292246503335 C103.56683028370209 -67.96373466724583, 103.72076384004252 -67.94454686945829, 103.82297295140367 -67.93180651701361 M103.82297295140367 -67.93180651701361 C103.96637860621821 -67.90173751322968, 104.10978426103277 -67.87166850944573, 104.227427435704 -67.84700132969665 M103.82297295140367 -67.93180651701361 C103.96006256846182 -67.90306184708137, 104.09715218551999 -67.87431717714914, 104.227427435704 -67.84700132969665 M104.227427435704 -67.84700132969665 C104.3341395808744 -67.81523174760333, 104.44085172604481 -67.78346216551003, 104.62349734602341 -67.72908620850318 M104.227427435704 -67.84700132969665 C104.3180412820919 -67.82002441880226, 104.40865512847978 -67.79304750790787, 104.62349734602341 -67.72908620850318 M104.62349734602341 -67.72908620850318 C104.70735726061939 -67.69636396828703, 104.79121717521537 -67.66364172807087, 105.00847712326485 -67.57886663327528 M104.62349734602341 -67.72908620850318 C104.73883726084117 -67.6840804340833, 104.85417717565892 -67.63907465966342, 105.00847712326485 -67.57886663327528 M105.00847712326485 -67.57886663327528 C105.14687023679042 -67.51121036266981, 105.28526335031599 -67.44355409206436, 105.37973696518537 -67.39736875603245 M105.00847712326485 -67.57886663327528 C105.1105205070231 -67.52898066272972, 105.21256389078134 -67.47909469218416, 105.37973696518537 -67.39736875603245 M105.37973696518537 -67.39736875603245 C105.50220330884903 -67.32439465467455, 105.6246696525127 -67.25142055331663, 105.73474079061214 -67.18583239131264 M105.37973696518537 -67.39736875603245 C105.48623203350346 -67.33391146909896, 105.59272710182152 -67.27045418216547, 105.73474079061214 -67.18583239131264 M105.73474079061214 -67.18583239131264 C105.83223661318425 -67.11622171196524, 105.92973243575635 -67.04661103261782, 106.07106356344833 -66.94570254698196 M105.73474079061214 -67.18583239131264 C105.82249707554985 -67.12317560817714, 105.91025336048756 -67.06051882504163, 106.07106356344833 -66.94570254698196 M106.07106356344833 -66.94570254698196 C106.179487868763 -66.85387184469016, 106.28791217407768 -66.76204114239837, 106.3864078581287 -66.67861955336566 M106.07106356344833 -66.94570254698196 C106.1970165301112 -66.8390258258278, 106.32296949677406 -66.73234910467365, 106.3864078581287 -66.67861955336566 M106.3864078581287 -66.67861955336566 C106.50047739546395 -66.56455001603042, 106.6145469327992 -66.45048047869517, 106.67861955336566 -66.3864078581287 M106.3864078581287 -66.67861955336566 C106.47920424078242 -66.58582317071195, 106.57200062343614 -66.49302678805823, 106.67861955336566 -66.3864078581287 M106.67861955336566 -66.3864078581287 C106.7798187033673 -66.26692224750474, 106.88101785336895 -66.14743663688077, 106.94570254698196 -66.07106356344833 M106.67861955336566 -66.3864078581287 C106.74560862521878 -66.30731401044943, 106.8125976970719 -66.22822016277014, 106.94570254698196 -66.07106356344833 M106.94570254698196 -66.07106356344833 C107.01880644388784 -65.968675185273, 107.0919103407937 -65.86628680709767, 107.18583239131264 -65.73474079061214 M106.94570254698196 -66.07106356344833 C107.00865269632044 -65.9828963935783, 107.0716028456589 -65.89472922370828, 107.18583239131264 -65.73474079061214 M107.18583239131264 -65.73474079061214 C107.26019187343744 -65.60994947803559, 107.33455135556224 -65.48515816545904, 107.39736875603245 -65.37973696518537 M107.18583239131264 -65.73474079061214 C107.23201717875055 -65.65723271658099, 107.27820196618848 -65.57972464254985, 107.39736875603245 -65.37973696518537 M107.39736875603245 -65.37973696518537 C107.44115499813857 -65.29017077537884, 107.48494124024471 -65.20060458557231, 107.57886663327528 -65.00847712326485 M107.39736875603245 -65.37973696518537 C107.4402715662672 -65.2919778641553, 107.48317437650194 -65.20421876312523, 107.57886663327528 -65.00847712326485 M107.57886663327528 -65.00847712326485 C107.60902537112837 -64.93118690218049, 107.63918410898145 -64.85389668109612, 107.72908620850318 -64.62349734602341 M107.57886663327528 -65.00847712326485 C107.61314499892343 -64.9206292009724, 107.64742336457158 -64.83278127867995, 107.72908620850318 -64.62349734602341 M107.72908620850318 -64.62349734602341 C107.76195695991048 -64.51308643832772, 107.79482771131777 -64.40267553063202, 107.84700132969665 -64.227427435704 M107.72908620850318 -64.62349734602341 C107.77282841810322 -64.47656985395874, 107.81657062770326 -64.32964236189406, 107.84700132969665 -64.227427435704 M107.84700132969665 -64.227427435704 C107.87125963050167 -64.11173429413445, 107.89551793130667 -63.9960411525649, 107.93180651701361 -63.82297295140367 M107.84700132969665 -64.227427435704 C107.86631927641784 -64.13529592316269, 107.88563722313903 -64.04316441062139, 107.93180651701361 -63.82297295140367 M107.93180651701361 -63.82297295140367 C107.95023673757508 -63.675117036588404, 107.96866695813655 -63.52726112177314, 107.98292246503335 -63.41289672736166 M107.93180651701361 -63.82297295140367 C107.9510693389911 -63.66843751565523, 107.97033216096861 -63.513902079906785, 107.98292246503335 -63.41289672736166 M107.98292246503335 -63.41289672736166 C107.98765411582752 -63.29849595864743, 107.99238576662168 -63.184095189933196, 108 -63 M107.98292246503335 -63.41289672736166 C107.9866331706759 -63.32318013658892, 107.99034387631845 -63.23346354581618, 108 -63 M108 -63 C108 -63, 108 -63, 108 -63 M108 -63 C108 -63, 108 -63, 108 -63 M108 -63 C108 -28.69734374918223, 108 5.605312501635538, 108 63 M108 -63 C108 -34.31713226201519, 108 -5.634264524030378, 108 63 M108 63 C108 63, 108 63, 108 63 M108 63 C108 63, 108 63, 108 63 M108 63 C107.99413967664522 63.14168955526634, 107.98827935329044 63.283379110532685, 107.98292246503335 63.41289672736166 M108 63 C107.99328081111128 63.16245500934985, 107.98656162222255 63.3249100186997, 107.98292246503335 63.41289672736166 M107.98292246503335 63.41289672736166 C107.97172734409111 63.502709263400675, 107.96053222314886 63.592521799439695, 107.93180651701361 63.82297295140367 M107.98292246503335 63.41289672736166 C107.96778257648 63.534356048197814, 107.95264268792666 63.65581536903397, 107.93180651701361 63.82297295140367 M107.93180651701361 63.82297295140367 C107.91102247057033 63.922096614139896, 107.89023842412706 64.02122027687612, 107.84700132969665 64.227427435704 M107.93180651701361 63.82297295140367 C107.90594503761433 63.946312002287286, 107.88008355821505 64.0696510531709, 107.84700132969665 64.227427435704 M107.84700132969665 64.227427435704 C107.81434761685168 64.33710932371976, 107.78169390400669 64.4467912117355, 107.72908620850318 64.62349734602341 M107.84700132969665 64.227427435704 C107.81278929419277 64.34234363726254, 107.77857725868887 64.45725983882109, 107.72908620850318 64.62349734602341 M107.72908620850318 64.62349734602341 C107.67066325119347 64.77322255365202, 107.61224029388376 64.92294776128062, 107.57886663327528 65.00847712326485 M107.72908620850318 64.62349734602341 C107.67431786981305 64.76385656882657, 107.61954953112293 64.90421579162972, 107.57886663327528 65.00847712326485 M107.57886663327528 65.00847712326485 C107.52065687990459 65.12754707693557, 107.46244712653389 65.24661703060629, 107.39736875603245 65.37973696518537 M107.57886663327528 65.00847712326485 C107.54085065474509 65.08624005026974, 107.50283467621489 65.1640029772746, 107.39736875603245 65.37973696518537 M107.39736875603245 65.37973696518537 C107.31686512576537 65.51483948877942, 107.23636149549829 65.64994201237346, 107.18583239131264 65.73474079061214 M107.39736875603245 65.37973696518537 C107.35324535237226 65.45378559087186, 107.30912194871208 65.52783421655833, 107.18583239131264 65.73474079061214 M107.18583239131264 65.73474079061214 C107.1112755436287 65.83916415296797, 107.03671869594474 65.9435875153238, 106.94570254698196 66.07106356344833 M107.18583239131264 65.73474079061214 C107.13320483162333 65.80845027412781, 107.08057727193402 65.88215975764348, 106.94570254698196 66.07106356344833 M106.94570254698196 66.07106356344833 C106.88472269933882 66.14306233350993, 106.82374285169568 66.21506110357153, 106.67861955336566 66.3864078581287 M106.94570254698196 66.07106356344833 C106.88944893302408 66.13748207994233, 106.83319531906619 66.20390059643633, 106.67861955336566 66.3864078581287 M106.67861955336566 66.3864078581287 C106.61568454378906 66.44934286770531, 106.55274953421245 66.51227787728192, 106.3864078581287 66.67861955336566 M106.67861955336566 66.3864078581287 C106.56618224144886 66.49884517004551, 106.45374492953206 66.6112824819623, 106.3864078581287 66.67861955336566 M106.3864078581287 66.67861955336566 C106.27740520320707 66.77094009278782, 106.16840254828544 66.86326063221, 106.07106356344833 66.94570254698196 M106.3864078581287 66.67861955336566 C106.2887913083406 66.76129655365934, 106.19117475855252 66.84397355395302, 106.07106356344833 66.94570254698196 M106.07106356344833 66.94570254698196 C105.99608947299504 66.99923301867011, 105.92111538254173 67.05276349035825, 105.73474079061214 67.18583239131264 M106.07106356344833 66.94570254698196 C105.95005495505718 67.03210103273003, 105.82904634666605 67.11849951847809, 105.73474079061214 67.18583239131264 M105.73474079061214 67.18583239131264 C105.63139212892023 67.24741482684466, 105.52804346722833 67.30899726237668, 105.37973696518537 67.39736875603245 M105.73474079061214 67.18583239131264 C105.62445677791453 67.25154739904453, 105.51417276521691 67.3172624067764, 105.37973696518537 67.39736875603245 M105.37973696518537 67.39736875603245 C105.2703867080999 67.450826839283, 105.16103645101444 67.50428492253354, 105.00847712326485 67.57886663327528 M105.37973696518537 67.39736875603245 C105.23941167569603 67.46596960990895, 105.09908638620668 67.53457046378546, 105.00847712326485 67.57886663327528 M105.00847712326485 67.57886663327528 C104.87845231510472 67.62960247085839, 104.74842750694461 67.68033830844149, 104.62349734602341 67.72908620850318 M105.00847712326485 67.57886663327528 C104.92907451076579 67.60984962881615, 104.8496718982667 67.64083262435702, 104.62349734602341 67.72908620850318 M104.62349734602341 67.72908620850318 C104.50669957952951 67.76385841015856, 104.38990181303562 67.79863061181393, 104.227427435704 67.84700132969665 M104.62349734602341 67.72908620850318 C104.50812684404471 67.76343349510215, 104.39275634206602 67.79778078170112, 104.227427435704 67.84700132969665 M104.227427435704 67.84700132969665 C104.12360111252518 67.86877142034318, 104.01977478934636 67.89054151098969, 103.82297295140367 67.93180651701361 M104.227427435704 67.84700132969665 C104.07956872979298 67.87800404010774, 103.93171002388196 67.90900675051883, 103.82297295140367 67.93180651701361 M103.82297295140367 67.93180651701361 C103.68782410813418 67.94865280275873, 103.55267526486469 67.96549908850385, 103.41289672736166 67.98292246503335 M103.82297295140367 67.93180651701361 C103.70416566314826 67.94661583005052, 103.58535837489285 67.96142514308742, 103.41289672736166 67.98292246503335 M103.41289672736166 67.98292246503335 C103.28143973151822 67.98835956659983, 103.14998273567478 67.99379666816628, 103 68 M103.41289672736166 67.98292246503335 C103.32047148700516 67.98674520125138, 103.22804624664867 67.99056793746941, 103 68 M103 68 C103 68, 103 68, 103 68 M103 68 C103 68, 103 68, 103 68 M103 68 C37.172831904451925 68, -28.65433619109615 68, -103 68 M103 68 C26.793549672963508 68, -49.412900654072985 68, -103 68 M-103 68 C-103 68, -103 68, -103 68 M-103 68 C-103 68, -103 68, -103 68 M-103 68 C-103.12480919996952 67.99483785330473, -103.24961839993902 67.98967570660946, -103.41289672736166 67.98292246503335 M-103 68 C-103.1455447298822 67.99398022544365, -103.29108945976441 67.98796045088729, -103.41289672736166 67.98292246503335 M-103.41289672736166 67.98292246503335 C-103.55163270449079 67.96562904351893, -103.69036868161992 67.9483356220045, -103.82297295140367 67.93180651701361 M-103.41289672736166 67.98292246503335 C-103.51387226487357 67.97033587740862, -103.61484780238547 67.95774928978389, -103.82297295140367 67.93180651701361 M-103.82297295140367 67.93180651701361 C-103.95538087070624 67.90404349587138, -104.08778879000882 67.87628047472913, -104.227427435704 67.84700132969665 M-103.82297295140367 67.93180651701361 C-103.94338227550112 67.90655933672222, -104.06379159959859 67.88131215643082, -104.227427435704 67.84700132969665 M-104.227427435704 67.84700132969665 C-104.37026781476226 67.80447590635815, -104.51310819382053 67.76195048301965, -104.62349734602341 67.72908620850318 M-104.227427435704 67.84700132969665 C-104.36970352967778 67.80464390130649, -104.51197962365156 67.76228647291633, -104.62349734602341 67.72908620850318 M-104.62349734602341 67.72908620850318 C-104.76306268367735 67.67462764475954, -104.90262802133128 67.62016908101592, -105.00847712326485 67.57886663327528 M-104.62349734602341 67.72908620850318 C-104.71073696636279 67.69504520301368, -104.79797658670215 67.66100419752418, -105.00847712326485 67.57886663327528 M-105.00847712326485 67.57886663327528 C-105.0862749472782 67.54083359463719, -105.16407277129156 67.5028005559991, -105.37973696518537 67.39736875603245 M-105.00847712326485 67.57886663327528 C-105.10597552054682 67.53120257122721, -105.20347391782877 67.48353850917916, -105.37973696518537 67.39736875603245 M-105.37973696518537 67.39736875603245 C-105.4577576988408 67.35087848976447, -105.53577843249622 67.3043882234965, -105.73474079061214 67.18583239131264 M-105.37973696518537 67.39736875603245 C-105.50048036951983 67.32542130367443, -105.6212237738543 67.25347385131641, -105.73474079061214 67.18583239131264 M-105.73474079061214 67.18583239131264 C-105.8576078261626 67.09810701407666, -105.98047486171306 67.01038163684069, -106.07106356344833 66.94570254698196 M-105.73474079061214 67.18583239131264 C-105.83448431815516 67.11461688146204, -105.93422784569819 67.04340137161142, -106.07106356344833 66.94570254698196 M-106.07106356344833 66.94570254698196 C-106.1634089081501 66.86749002966188, -106.25575425285187 66.7892775123418, -106.3864078581287 66.67861955336566 M-106.07106356344833 66.94570254698196 C-106.19486069043612 66.84085172889277, -106.3186578174239 66.73600091080358, -106.3864078581287 66.67861955336566 M-106.3864078581287 66.67861955336566 C-106.46163848019553 66.60338893129884, -106.53686910226236 66.52815830923201, -106.67861955336566 66.3864078581287 M-106.3864078581287 66.67861955336566 C-106.49989508264447 66.5651323288499, -106.61338230716024 66.45164510433413, -106.67861955336566 66.3864078581287 M-106.67861955336566 66.3864078581287 C-106.77978056931099 66.26696727229995, -106.88094158525631 66.1475266864712, -106.94570254698196 66.07106356344833 M-106.67861955336566 66.3864078581287 C-106.77950318305516 66.26729478163335, -106.88038681274463 66.148181705138, -106.94570254698196 66.07106356344833 M-106.94570254698196 66.07106356344833 C-107.03569143296812 65.94502628664226, -107.12568031895428 65.81898900983619, -107.18583239131264 65.73474079061214 M-106.94570254698196 66.07106356344833 C-107.03312879807399 65.94861548012949, -107.12055504916601 65.82616739681066, -107.18583239131264 65.73474079061214 M-107.18583239131264 65.73474079061214 C-107.23561903529114 65.65118802137108, -107.28540567926963 65.56763525213002, -107.39736875603245 65.37973696518537 M-107.18583239131264 65.73474079061214 C-107.25408001589962 65.6202064984267, -107.32232764048658 65.50567220624127, -107.39736875603245 65.37973696518537 M-107.39736875603245 65.37973696518537 C-107.46483662429257 65.24172923481696, -107.5323044925527 65.10372150444854, -107.57886663327528 65.00847712326485 M-107.39736875603245 65.37973696518537 C-107.45207382870008 65.26783595047729, -107.50677890136771 65.15593493576921, -107.57886663327528 65.00847712326485 M-107.57886663327528 65.00847712326485 C-107.61033729685056 64.92782472470448, -107.64180796042584 64.8471723261441, -107.72908620850318 64.62349734602341 M-107.57886663327528 65.00847712326485 C-107.62234560063101 64.89705007960626, -107.66582456798673 64.78562303594767, -107.72908620850318 64.62349734602341 M-107.72908620850318 64.62349734602341 C-107.76804087129709 64.49265094020926, -107.806995534091 64.3618045343951, -107.84700132969665 64.227427435704 M-107.72908620850318 64.62349734602341 C-107.76679883136799 64.49682287878976, -107.8045114542328 64.37014841155609, -107.84700132969665 64.227427435704 M-107.84700132969665 64.227427435704 C-107.87498741312044 64.09395568359945, -107.9029734965442 63.96048393149488, -107.93180651701361 63.82297295140367 M-107.84700132969665 64.227427435704 C-107.86529597517547 64.1401762705726, -107.88359062065429 64.05292510544118, -107.93180651701361 63.82297295140367 M-107.93180651701361 63.82297295140367 C-107.9521859111826 63.65947984733652, -107.9725653053516 63.49598674326937, -107.98292246503335 63.41289672736166 M-107.93180651701361 63.82297295140367 C-107.94409627652124 63.72437870893119, -107.95638603602885 63.62578446645871, -107.98292246503335 63.41289672736166 M-107.98292246503335 63.41289672736166 C-107.98644318596027 63.32777354351146, -107.98996390688717 63.24265035966127, -108 63 M-107.98292246503335 63.41289672736166 C-107.98819544596554 63.285407802607814, -107.99346842689775 63.15791887785397, -108 63 M-108 63 C-108 63, -108 63, -108 63 M-108 63 C-108 63, -108 63, -108 63 M-108 63 C-108 33.92431261134454, -108 4.84862522268908, -108 -63 M-108 63 C-108 18.136201054974713, -108 -26.727597890050575, -108 -63 M-108 -63 C-108 -63, -108 -63, -108 -63 M-108 -63 C-108 -63, -108 -63, -108 -63 M-108 -63 C-107.99349646736908 -63.157240921762835, -107.98699293473818 -63.31448184352567, -107.98292246503335 -63.41289672736166 M-108 -63 C-107.99461618551227 -63.13016863306371, -107.98923237102454 -63.26033726612743, -107.98292246503335 -63.41289672736166 M-107.98292246503335 -63.41289672736166 C-107.97035534926614 -63.51371605245613, -107.95778823349895 -63.61453537755061, -107.93180651701361 -63.82297295140367 M-107.98292246503335 -63.41289672736166 C-107.96541729411484 -63.553331457999896, -107.94791212319635 -63.69376618863813, -107.93180651701361 -63.82297295140367 M-107.93180651701361 -63.82297295140367 C-107.91232000590432 -63.915908384375065, -107.89283349479503 -64.00884381734646, -107.84700132969665 -64.22742743570399 M-107.93180651701361 -63.82297295140367 C-107.90936802219504 -63.9299870402518, -107.88692952737648 -64.03700112909993, -107.84700132969665 -64.22742743570399 M-107.84700132969665 -64.22742743570399 C-107.81122862646451 -64.3475858277544, -107.77545592323237 -64.46774421980481, -107.72908620850318 -64.62349734602341 M-107.84700132969665 -64.22742743570399 C-107.81706962180473 -64.32796627025267, -107.78713791391282 -64.42850510480136, -107.72908620850318 -64.62349734602341 M-107.72908620850318 -64.62349734602341 C-107.67660609993521 -64.75799233760789, -107.62412599136725 -64.89248732919236, -107.57886663327528 -65.00847712326484 M-107.72908620850318 -64.62349734602341 C-107.68838457602803 -64.72780669039398, -107.64768294355288 -64.83211603476452, -107.57886663327528 -65.00847712326484 M-107.57886663327528 -65.00847712326484 C-107.52947736734349 -65.109504481496, -107.48008810141171 -65.21053183972715, -107.39736875603245 -65.37973696518537 M-107.57886663327528 -65.00847712326484 C-107.52019308149508 -65.12849579174596, -107.46151952971488 -65.24851446022709, -107.39736875603245 -65.37973696518537 M-107.39736875603245 -65.37973696518537 C-107.31909468304417 -65.51109780888417, -107.2408206100559 -65.64245865258297, -107.18583239131264 -65.73474079061214 M-107.39736875603245 -65.37973696518537 C-107.32027427338788 -65.5091182008626, -107.24317979074333 -65.63849943653983, -107.18583239131264 -65.73474079061214 M-107.18583239131264 -65.73474079061214 C-107.11966925611952 -65.82740802716371, -107.0535061209264 -65.9200752637153, -106.94570254698196 -66.07106356344833 M-107.18583239131264 -65.73474079061214 C-107.13125251448064 -65.81118466441868, -107.07667263764864 -65.88762853822521, -106.94570254698196 -66.07106356344833 M-106.94570254698196 -66.07106356344833 C-106.84466106248344 -66.19036301876453, -106.74361957798492 -66.30966247408074, -106.67861955336566 -66.3864078581287 M-106.94570254698196 -66.07106356344833 C-106.88063265156092 -66.1478914437961, -106.81556275613987 -66.22471932414386, -106.67861955336566 -66.3864078581287 M-106.67861955336566 -66.3864078581287 C-106.57226440903733 -66.49276300245704, -106.46590926470901 -66.59911814678536, -106.3864078581287 -66.67861955336566 M-106.67861955336566 -66.3864078581287 C-106.57107076684429 -66.49395664465008, -106.4635219803229 -66.60150543117147, -106.3864078581287 -66.67861955336566 M-106.3864078581287 -66.67861955336566 C-106.31096576854715 -66.74251574387874, -106.23552367896559 -66.80641193439183, -106.07106356344833 -66.94570254698196 M-106.3864078581287 -66.67861955336566 C-106.31120387774581 -66.74231407567464, -106.2359998973629 -66.8060085979836, -106.07106356344833 -66.94570254698196 M-106.07106356344833 -66.94570254698196 C-105.98740568379716 -67.00543312498672, -105.903747804146 -67.06516370299148, -105.73474079061214 -67.18583239131264 M-106.07106356344833 -66.94570254698196 C-105.95656090928021 -67.02745587069826, -105.84205825511208 -67.10920919441456, -105.73474079061214 -67.18583239131264 M-105.73474079061214 -67.18583239131264 C-105.64756370642857 -67.23777865823779, -105.56038662224499 -67.28972492516293, -105.37973696518537 -67.39736875603245 M-105.73474079061214 -67.18583239131264 C-105.61399638997148 -67.2577804373403, -105.49325198933082 -67.32972848336794, -105.37973696518537 -67.39736875603245 M-105.37973696518537 -67.39736875603245 C-105.27648164566199 -67.4478472058712, -105.1732263261386 -67.49832565570993, -105.00847712326485 -67.57886663327528 M-105.37973696518537 -67.39736875603245 C-105.29836717464354 -67.43714802270088, -105.21699738410172 -67.47692728936931, -105.00847712326485 -67.57886663327528 M-105.00847712326485 -67.57886663327528 C-104.86509151611786 -67.63481587080084, -104.72170590897086 -67.69076510832639, -104.62349734602341 -67.72908620850318 M-105.00847712326485 -67.57886663327528 C-104.8550780311891 -67.63872314474474, -104.70167893911334 -67.69857965621422, -104.62349734602341 -67.72908620850318 M-104.62349734602341 -67.72908620850318 C-104.54409214779615 -67.7527261602602, -104.46468694956887 -67.77636611201723, -104.227427435704 -67.84700132969665 M-104.62349734602341 -67.72908620850318 C-104.53062275916443 -67.75673617099702, -104.43774817230545 -67.78438613349086, -104.227427435704 -67.84700132969665 M-104.227427435704 -67.84700132969665 C-104.12330900087383 -67.86883266971553, -104.01919056604366 -67.89066400973441, -103.82297295140367 -67.93180651701361 M-104.227427435704 -67.84700132969665 C-104.0735132558803 -67.87927373946673, -103.9195990760566 -67.91154614923681, -103.82297295140367 -67.93180651701361 M-103.82297295140367 -67.93180651701361 C-103.73031255983604 -67.9433566227773, -103.6376521682684 -67.95490672854099, -103.41289672736167 -67.98292246503335 M-103.82297295140367 -67.93180651701361 C-103.69819605123018 -67.9473599414001, -103.5734191510567 -67.96291336578658, -103.41289672736167 -67.98292246503335 M-103.41289672736167 -67.98292246503335 C-103.31859936387438 -67.98682263283683, -103.2243020003871 -67.99072280064031, -103 -68 M-103.41289672736167 -67.98292246503335 C-103.27031442208519 -67.98881971280169, -103.1277321168087 -67.99471696057002, -103 -68 M-103 -68 C-103 -68, -103 -68, -103 -68 M-103 -68 C-103 -68, -103 -68, -103 -68"></path></g><g transform="translate(-100, -60)" style="" class="label"><rect></rect><foreignObject height="120" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>root EnvironmentInjector<br>(configured by AppConfig)<br>has things for your app =&gt; bootstrapApplication(..., AppConfig)</p></span></div></foreignObject></g></g><g transform="translate(116, 64)" id="state-nullInjector-1" class="node  statediagram-state"><g class="basic label-container outer-path"><path style="" fill="#fff4dd" stroke-width="0" stroke="none" d="M-103 -56 C-37.87081149435417 -56, 27.258377011291657 -56, 103 -56 C103 -56, 103 -56, 103 -56 C103.10035886720416 -55.995849126548315, 103.20071773440833 -55.99169825309663, 103.41289672736166 -55.98292246503335 C103.54385552873558 -55.966598467465836, 103.67481433010951 -55.950274469898325, 103.82297295140367 -55.93180651701361 C103.96091136578087 -55.90288387299917, 104.09884978015809 -55.873961228984726, 104.227427435704 -55.84700132969665 C104.31607064722158 -55.8206111022223, 104.40471385873916 -55.79422087474796, 104.62349734602341 -55.729086208503176 C104.72277083166152 -55.69034957420304, 104.82204431729964 -55.651612939902904, 105.00847712326485 -55.57886663327529 C105.0925492413289 -55.53776627918098, 105.17662135939293 -55.49666592508666, 105.37973696518537 -55.39736875603244 C105.49119063129959 -55.330956786144085, 105.60264429741379 -55.26454481625573, 105.73474079061214 -55.185832391312644 C105.8279863035174 -55.11925637473888, 105.92123181642268 -55.05268035816512, 106.07106356344833 -54.94570254698197 C106.1934518159059 -54.84204498475155, 106.31584006836349 -54.738387422521136, 106.3864078581287 -54.67861955336566 C106.46241459841269 -54.60261281308166, 106.5384213386967 -54.52660607279768, 106.67861955336566 -54.386407858128706 C106.78513480506459 -54.26064553809138, 106.89165005676352 -54.13488321805406, 106.94570254698196 -54.07106356344834 C107.00867719764648 -53.98286207733604, 107.071651848311 -53.89466059122373, 107.18583239131264 -53.734740790612136 C107.25334134441833 -53.62144614912191, 107.32085029752402 -53.50815150763168, 107.39736875603245 -53.379736965185366 C107.446934080705 -53.27834947304378, 107.49649940537756 -53.1769619809022, 107.57886663327528 -53.008477123264846 C107.61224966864492 -52.922923735826835, 107.64563270401456 -52.83737034838883, 107.72908620850318 -52.62349734602342 C107.77100755643953 -52.4826860204736, 107.81292890437588 -52.34187469492378, 107.84700132969665 -52.227427435703994 C107.86909778704134 -52.12204459836873, 107.89119424438603 -52.01666176103347, 107.93180651701361 -51.82297295140367 C107.95121984402198 -51.66723009337025, 107.97063317103034 -51.51148723533683, 107.98292246503335 -51.41289672736166 C107.98861886992802 -51.27517035506469, 107.99431527482267 -51.137443982767714, 108 -51 C108 -51, 108 -51, 108 -51 C108 -26.108926826361266, 108 -1.2178536527225319, 108 51 C108 51, 108 51, 108 51 C107.99567976188806 51.10445372715246, 107.99135952377613 51.20890745430492, 107.98292246503335 51.41289672736166 C107.96765479977947 51.53538113310593, 107.95238713452557 51.6578655388502, 107.93180651701361 51.82297295140367 C107.91181153390714 51.91833339852698, 107.89181655080067 52.013693845650295, 107.84700132969665 52.227427435703994 C107.80641250113348 52.36376290757795, 107.7658236725703 52.5000983794519, 107.72908620850318 52.62349734602342 C107.68580640229555 52.73441398340295, 107.64252659608795 52.84533062078249, 107.57886663327528 53.008477123264846 C107.51159916700924 53.14607492480228, 107.4443317007432 53.28367272633971, 107.39736875603245 53.379736965185366 C107.32261854692523 53.50518400224523, 107.247868337818 53.630631039305094, 107.18583239131264 53.734740790612136 C107.10554780006935 53.84718635696074, 107.02526320882606 53.959631923309345, 106.94570254698196 54.07106356344834 C106.84198988568933 54.19351687124575, 106.7382772243967 54.315970179043155, 106.67861955336566 54.386407858128706 C106.5826426701321 54.48238474136227, 106.48666578689854 54.57836162459582, 106.3864078581287 54.67861955336566 C106.30694244911537 54.74592332161597, 106.22747704010203 54.81322708986628, 106.07106356344833 54.94570254698197 C105.98581352411611 55.006569905149235, 105.9005634847839 55.067437263316506, 105.73474079061214 55.185832391312644 C105.65877621779765 55.2310974516577, 105.58281164498317 55.276362512002756, 105.37973696518537 55.39736875603244 C105.28462958509387 55.44386392100219, 105.18952220500236 55.49035908597194, 105.00847712326485 55.57886663327529 C104.85990073051532 55.63684132162815, 104.7113243377658 55.69481600998101, 104.62349734602341 55.729086208503176 C104.47379300002072 55.7736551233391, 104.32408865401804 55.81822403817502, 104.227427435704 55.84700132969665 C104.06698507694959 55.880642554645064, 103.90654271819518 55.91428377959348, 103.82297295140367 55.93180651701361 C103.7182974165359 55.94485430882778, 103.61362188166814 55.95790210064194, 103.41289672736166 55.98292246503335 C103.30865779311091 55.987233819245155, 103.20441885886015 55.99154517345697, 103 56 C103 56, 103 56, 103 56 C50.048212261483904 56, -2.9035754770321915 56, -103 56 C-103 56, -103 56, -103 56 C-103.1553598414187 55.993574269427626, -103.3107196828374 55.98714853885525, -103.41289672736166 55.98292246503335 C-103.53810642172246 55.967315092907675, -103.66331611608328 55.951707720782004, -103.82297295140367 55.93180651701361 C-103.96630699102703 55.90175252935618, -104.1096410306504 55.87169854169875, -104.227427435704 55.84700132969665 C-104.31498123766735 55.82093543349885, -104.40253503963069 55.794869537301054, -104.62349734602341 55.729086208503176 C-104.74901223464116 55.680110146986294, -104.87452712325889 55.63113408546941, -105.00847712326485 55.57886663327529 C-105.09859484967922 55.53481076135134, -105.18871257609358 55.490754889427386, -105.37973696518537 55.39736875603245 C-105.4967299294294 55.32765608089655, -105.61372289367344 55.25794340576065, -105.73474079061214 55.185832391312644 C-105.85836177431827 55.09756870544022, -105.9819827580244 55.00930501956778, -106.07106356344833 54.94570254698197 C-106.13484086255906 54.89168593003787, -106.1986181616698 54.83766931309377, -106.3864078581287 54.67861955336566 C-106.46670489730455 54.59832251418981, -106.5470019364804 54.518025475013964, -106.67861955336566 54.386407858128706 C-106.75097104962663 54.30098260791506, -106.82332254588758 54.21555735770142, -106.94570254698196 54.07106356344834 C-107.01297477294091 53.976842948628715, -107.08024699889987 53.88262233380909, -107.18583239131264 53.734740790612136 C-107.23396591370827 53.65396231734893, -107.2820994361039 53.573183844085726, -107.39736875603245 53.379736965185366 C-107.44463215387964 53.28305813962591, -107.49189555172681 53.18637931406645, -107.57886663327528 53.008477123264846 C-107.63041669036483 52.876365649344024, -107.68196674745438 52.7442541754232, -107.72908620850318 52.62349734602342 C-107.76671754009207 52.49709593137228, -107.80434887168097 52.37069451672113, -107.84700132969665 52.227427435703994 C-107.87128035322186 52.111635462949955, -107.89555937674709 51.99584349019591, -107.93180651701361 51.82297295140367 C-107.94646397501616 51.70538391579745, -107.9611214330187 51.58779488019122, -107.98292246503335 51.41289672736166 C-107.98663213636404 51.32320514394423, -107.99034180769472 51.233513560526795, -108 51 C-108 51, -108 51, -108 51 C-108 15.993386647000058, -108 -19.013226705999884, -108 -51 C-108 -51, -108 -51, -108 -51 C-107.99542651975204 -51.11057655749036, -107.99085303950409 -51.22115311498072, -107.98292246503335 -51.41289672736166 C-107.96578591257939 -51.55037422696132, -107.94864936012543 -51.687851726560964, -107.93180651701361 -51.82297295140367 C-107.91374554147278 -51.90910969349971, -107.89568456593194 -51.99524643559575, -107.84700132969665 -52.227427435703994 C-107.80775272990724 -52.35926115848199, -107.76850413011783 -52.49109488125999, -107.72908620850318 -52.62349734602342 C-107.68375590881803 -52.73966894781765, -107.6384256091329 -52.85584054961188, -107.57886663327528 -53.008477123264846 C-107.51236540554756 -53.14450755882021, -107.44586417781983 -53.28053799437557, -107.39736875603245 -53.379736965185366 C-107.34032145499437 -53.47547468917253, -107.28327415395627 -53.5712124131597, -107.18583239131264 -53.734740790612136 C-107.11570727385903 -53.83295712858213, -107.04558215640542 -53.93117346655212, -106.94570254698196 -54.07106356344834 C-106.88758675067018 -54.13968075449292, -106.82947095435838 -54.2082979455375, -106.67861955336566 -54.386407858128706 C-106.5974946314913 -54.46753278000307, -106.51636970961694 -54.54865770187743, -106.3864078581287 -54.67861955336566 C-106.3219422143151 -54.733219168534184, -106.25747657050151 -54.78781878370271, -106.07106356344833 -54.94570254698197 C-105.96638106893133 -55.02044441147284, -105.86169857441432 -55.095186275963705, -105.73474079061214 -55.185832391312644 C-105.59556837000792 -55.26876115380831, -105.45639594940371 -55.35168991630399, -105.37973696518537 -55.39736875603245 C-105.23320291666498 -55.4690048872463, -105.08666886814457 -55.54064101846014, -105.00847712326485 -55.57886663327528 C-104.92790864086946 -55.610304552661376, -104.84734015847405 -55.64174247204747, -104.62349734602341 -55.729086208503176 C-104.51522999456742 -55.76131879556826, -104.40696264311143 -55.793551382633346, -104.227427435704 -55.84700132969665 C-104.1446817886676 -55.86435126737561, -104.0619361416312 -55.88170120505457, -103.82297295140367 -55.93180651701361 C-103.7094216242429 -55.94596067518331, -103.59587029708216 -55.960114833352996, -103.41289672736167 -55.98292246503335 C-103.2862253109379 -55.988161633570904, -103.1595538945141 -55.993400802108454, -103 -56 C-103 -56, -103 -56, -103 -56"></path><path style="" stroke-dasharray="0 0" fill="none" stroke-width="1.3" stroke="hsl(40.5882352941, 60%, 83.3333333333%)" d="M-103 -56 C-55.235554062655446 -56, -7.4711081253108915 -56, 103 -56 M-103 -56 C-32.88330726396704 -56, 37.23338547206592 -56, 103 -56 M103 -56 C103 -56, 103 -56, 103 -56 M103 -56 C103 -56, 103 -56, 103 -56 M103 -56 C103.16188425208361 -55.99330441780643, 103.32376850416722 -55.98660883561285, 103.41289672736166 -55.98292246503335 M103 -56 C103.08516653944356 -55.99647748587248, 103.17033307888711 -55.99295497174497, 103.41289672736166 -55.98292246503335 M103.41289672736166 -55.98292246503335 C103.4991521340795 -55.97217073979858, 103.58540754079735 -55.961419014563816, 103.82297295140367 -55.93180651701361 M103.41289672736166 -55.98292246503335 C103.51297771577201 -55.97044738283784, 103.61305870418235 -55.95797230064233, 103.82297295140367 -55.93180651701361 M103.82297295140367 -55.93180651701361 C103.92602973142951 -55.91019778259819, 104.02908651145535 -55.88858904818276, 104.227427435704 -55.84700132969665 M103.82297295140367 -55.93180651701361 C103.92542617739636 -55.910324334570845, 104.02787940338904 -55.88884215212807, 104.227427435704 -55.84700132969665 M104.227427435704 -55.84700132969665 C104.36032956976197 -55.80743465008779, 104.49323170381994 -55.76786797047894, 104.62349734602341 -55.729086208503176 M104.227427435704 -55.84700132969665 C104.31525551895392 -55.8208537764219, 104.40308360220384 -55.79470622314714, 104.62349734602341 -55.729086208503176 M104.62349734602341 -55.729086208503176 C104.7014626464066 -55.69866405389028, 104.77942794678978 -55.66824189927739, 105.00847712326485 -55.57886663327529 M104.62349734602341 -55.729086208503176 C104.76251724805962 -55.67484047439802, 104.90153715009583 -55.62059474029286, 105.00847712326485 -55.57886663327529 M105.00847712326485 -55.57886663327529 C105.09404658449702 -55.53703427271048, 105.17961604572919 -55.49520191214567, 105.37973696518537 -55.39736875603244 M105.00847712326485 -55.57886663327529 C105.11483862078342 -55.52686966554474, 105.221200118302 -55.474872697814185, 105.37973696518537 -55.39736875603244 M105.37973696518537 -55.39736875603244 C105.49077250001602 -55.33120593830912, 105.60180803484666 -55.2650431205858, 105.73474079061214 -55.185832391312644 M105.37973696518537 -55.39736875603244 C105.48852456876921 -55.332545414590875, 105.59731217235304 -55.2677220731493, 105.73474079061214 -55.185832391312644 M105.73474079061214 -55.185832391312644 C105.80726458649131 -55.13405139632419, 105.87978838237048 -55.08227040133573, 106.07106356344833 -54.94570254698197 M105.73474079061214 -55.185832391312644 C105.82335667950386 -55.12256186275061, 105.91197256839558 -55.05929133418858, 106.07106356344833 -54.94570254698197 M106.07106356344833 -54.94570254698197 C106.15243283272073 -54.87678629134566, 106.23380210199313 -54.80787003570935, 106.3864078581287 -54.67861955336566 M106.07106356344833 -54.94570254698197 C106.14721455633253 -54.88120594599866, 106.22336554921671 -54.81670934501535, 106.3864078581287 -54.67861955336566 M106.3864078581287 -54.67861955336566 C106.44540979771702 -54.61961761377735, 106.50441173730532 -54.560615674189044, 106.67861955336566 -54.386407858128706 M106.3864078581287 -54.67861955336566 C106.4643787235835 -54.60064868791087, 106.5423495890383 -54.522677822456075, 106.67861955336566 -54.386407858128706 M106.67861955336566 -54.386407858128706 C106.76464605859226 -54.28483655533931, 106.85067256381888 -54.18326525254991, 106.94570254698196 -54.07106356344834 M106.67861955336566 -54.386407858128706 C106.75125868784158 -54.30064299411641, 106.82389782231749 -54.21487813010411, 106.94570254698196 -54.07106356344834 M106.94570254698196 -54.07106356344834 C107.01775357064824 -53.97014982599654, 107.08980459431451 -53.869236088544746, 107.18583239131264 -53.734740790612136 M106.94570254698196 -54.07106356344834 C106.99987603940325 -53.99518886642295, 107.05404953182452 -53.91931416939755, 107.18583239131264 -53.734740790612136 M107.18583239131264 -53.734740790612136 C107.26509315278477 -53.60172406998296, 107.34435391425691 -53.468707349353785, 107.39736875603245 -53.379736965185366 M107.18583239131264 -53.734740790612136 C107.23470904612236 -53.6527151802425, 107.2835857009321 -53.57068956987287, 107.39736875603245 -53.379736965185366 M107.39736875603245 -53.379736965185366 C107.45126499124078 -53.269490453945, 107.5051612264491 -53.15924394270463, 107.57886663327528 -53.008477123264846 M107.39736875603245 -53.379736965185366 C107.45129235149315 -53.26943448765423, 107.50521594695385 -53.159132010123095, 107.57886663327528 -53.008477123264846 M107.57886663327528 -53.008477123264846 C107.636719477234 -52.86021299093574, 107.69457232119272 -52.71194885860664, 107.72908620850318 -52.62349734602342 M107.57886663327528 -53.008477123264846 C107.63123249584002 -52.87427491909376, 107.68359835840477 -52.74007271492266, 107.72908620850318 -52.62349734602342 M107.72908620850318 -52.62349734602342 C107.7681119365747 -52.49241223614956, 107.8071376646462 -52.361327126275704, 107.84700132969665 -52.227427435703994 M107.72908620850318 -52.62349734602342 C107.75559989244431 -52.53443945154379, 107.78211357638544 -52.44538155706417, 107.84700132969665 -52.227427435703994 M107.84700132969665 -52.227427435703994 C107.87207662625929 -52.10783786269815, 107.8971519228219 -51.9882482896923, 107.93180651701361 -51.82297295140367 M107.84700132969665 -52.227427435703994 C107.8727062007947 -52.10483528405754, 107.89841107189274 -51.98224313241109, 107.93180651701361 -51.82297295140367 M107.93180651701361 -51.82297295140367 C107.95179469048553 -51.66261840413603, 107.97178286395746 -51.502263856868396, 107.98292246503335 -51.41289672736166 M107.93180651701361 -51.82297295140367 C107.9466836419771 -51.70362164391601, 107.96156076694058 -51.58427033642834, 107.98292246503335 -51.41289672736166 M107.98292246503335 -51.41289672736166 C107.98765355742776 -51.29850945950889, 107.99238464982216 -51.18412219165612, 108 -51 M107.98292246503335 -51.41289672736166 C107.98854515509788 -51.27695261533693, 107.99416784516241 -51.1410085033122, 108 -51 M108 -51 C108 -51, 108 -51, 108 -51 M108 -51 C108 -51, 108 -51, 108 -51 M108 -51 C108 -20.115318097598163, 108 10.769363804803675, 108 51 M108 -51 C108 -17.124363791339825, 108 16.75127241732035, 108 51 M108 51 C108 51, 108 51, 108 51 M108 51 C108 51, 108 51, 108 51 M108 51 C107.99343239702151 51.15878999994596, 107.98686479404302 51.31757999989192, 107.98292246503335 51.41289672736166 M108 51 C107.99515493758537 51.11714280888736, 107.99030987517074 51.23428561777472, 107.98292246503335 51.41289672736166 M107.98292246503335 51.41289672736166 C107.97217897660019 51.499086054575336, 107.96143548816703 51.585275381789, 107.93180651701361 51.82297295140367 M107.98292246503335 51.41289672736166 C107.96960237725006 51.519756748816704, 107.95628228946676 51.62661677027175, 107.93180651701361 51.82297295140367 M107.93180651701361 51.82297295140367 C107.90019622604649 51.97372934185781, 107.86858593507937 52.12448573231196, 107.84700132969665 52.227427435703994 M107.93180651701361 51.82297295140367 C107.89935379710144 51.977747069726895, 107.86690107718928 52.13252118805013, 107.84700132969665 52.227427435703994 M107.84700132969665 52.227427435703994 C107.82289132557513 52.30841151199176, 107.7987813214536 52.38939558827951, 107.72908620850318 52.62349734602342 M107.84700132969665 52.227427435703994 C107.81863485188752 52.32270875508207, 107.7902683740784 52.41799007446014, 107.72908620850318 52.62349734602342 M107.72908620850318 52.62349734602342 C107.67824359879566 52.7537957876871, 107.62740098908813 52.88409422935079, 107.57886663327528 53.008477123264846 M107.72908620850318 52.62349734602342 C107.69359711829672 52.71444808943654, 107.65810802809028 52.80539883284966, 107.57886663327528 53.008477123264846 M107.57886663327528 53.008477123264846 C107.53904466123107 53.089934269049074, 107.49922268918687 53.171391414833295, 107.39736875603245 53.379736965185366 M107.57886663327528 53.008477123264846 C107.51003133852895 53.14928196921841, 107.44119604378263 53.29008681517196, 107.39736875603245 53.379736965185366 M107.39736875603245 53.379736965185366 C107.34785812003496 53.46282653326839, 107.29834748403746 53.54591610135142, 107.18583239131264 53.734740790612136 M107.39736875603245 53.379736965185366 C107.33328893388875 53.487276782388015, 107.26920911174504 53.594816599590665, 107.18583239131264 53.734740790612136 M107.18583239131264 53.734740790612136 C107.11181245729415 53.83841215859076, 107.03779252327566 53.94208352656937, 106.94570254698196 54.07106356344834 M107.18583239131264 53.734740790612136 C107.09977459093008 53.85527223946024, 107.01371679054753 53.97580368830834, 106.94570254698196 54.07106356344834 M106.94570254698196 54.07106356344834 C106.86665463091036 54.16439526159218, 106.78760671483877 54.257726959736026, 106.67861955336566 54.386407858128706 M106.94570254698196 54.07106356344834 C106.85203392221806 54.181657899725295, 106.75836529745413 54.29225223600224, 106.67861955336566 54.386407858128706 M106.67861955336566 54.386407858128706 C106.57594049297316 54.48908691852121, 106.47326143258066 54.59176597891371, 106.3864078581287 54.67861955336566 M106.67861955336566 54.386407858128706 C106.57476800979562 54.490259401698744, 106.47091646622559 54.59411094526878, 106.3864078581287 54.67861955336566 M106.3864078581287 54.67861955336566 C106.29514484784906 54.755915380190835, 106.20388183756943 54.83321120701602, 106.07106356344833 54.94570254698197 M106.3864078581287 54.67861955336566 C106.31982841028439 54.735009469224465, 106.25324896244007 54.791399385083274, 106.07106356344833 54.94570254698197 M106.07106356344833 54.94570254698197 C105.96049484240334 55.02464709643508, 105.84992612135835 55.1035916458882, 105.73474079061214 55.185832391312644 M106.07106356344833 54.94570254698197 C105.99494775790615 55.00004818757542, 105.91883195236396 55.05439382816888, 105.73474079061214 55.185832391312644 M105.73474079061214 55.185832391312644 C105.60216125220157 55.264832648726454, 105.46958171379099 55.343832906140264, 105.37973696518537 55.39736875603244 M105.73474079061214 55.185832391312644 C105.60221205671071 55.26480237580992, 105.46968332280929 55.3437723603072, 105.37973696518537 55.39736875603244 M105.37973696518537 55.39736875603244 C105.2769217966051 55.44763202918678, 105.1741066280248 55.497895302341114, 105.00847712326485 55.57886663327529 M105.37973696518537 55.39736875603244 C105.25881836760253 55.45648225634246, 105.1378997700197 55.51559575665249, 105.00847712326485 55.57886663327529 M105.00847712326485 55.57886663327529 C104.88385976826551 55.627492476087504, 104.75924241326616 55.676118318899725, 104.62349734602341 55.729086208503176 M105.00847712326485 55.57886663327529 C104.88616977831701 55.62659110736836, 104.76386243336916 55.674315581461435, 104.62349734602341 55.729086208503176 M104.62349734602341 55.729086208503176 C104.48951369508367 55.768974869638186, 104.35553004414395 55.80886353077319, 104.227427435704 55.84700132969665 M104.62349734602341 55.729086208503176 C104.4706818388672 55.77458135614526, 104.31786633171096 55.82007650378735, 104.227427435704 55.84700132969665 M104.227427435704 55.84700132969665 C104.12064846439219 55.86939052555209, 104.01386949308036 55.89177972140753, 103.82297295140367 55.93180651701361 M104.227427435704 55.84700132969665 C104.08180712458531 55.877534698075394, 103.93618681346662 55.90806806645413, 103.82297295140367 55.93180651701361 M103.82297295140367 55.93180651701361 C103.73275065771527 55.94305271419359, 103.64252836402686 55.95429891137357, 103.41289672736166 55.98292246503335 M103.82297295140367 55.93180651701361 C103.66877389429044 55.951027409437955, 103.51457483717721 55.9702483018623, 103.41289672736166 55.98292246503335 M103.41289672736166 55.98292246503335 C103.30244025479122 55.98749097853227, 103.1919837822208 55.9920594920312, 103 56 M103.41289672736166 55.98292246503335 C103.29097162477755 55.98796532457839, 103.16904652219345 55.99300818412343, 103 56 M103 56 C103 56, 103 56, 103 56 M103 56 C103 56, 103 56, 103 56 M103 56 C50.315233686233505 56, -2.3695326275329904 56, -103 56 M103 56 C51.679252451810086 56, 0.3585049036201724 56, -103 56 M-103 56 C-103 56, -103 56, -103 56 M-103 56 C-103 56, -103 56, -103 56 M-103 56 C-103.10877609737278 55.995500987333344, -103.21755219474558 55.991001974666695, -103.41289672736166 55.98292246503335 M-103 56 C-103.16207773962459 55.993296415102535, -103.32415547924919 55.98659283020507, -103.41289672736166 55.98292246503335 M-103.41289672736166 55.98292246503335 C-103.52556073469282 55.96887891116507, -103.63822474202397 55.95483535729679, -103.82297295140367 55.93180651701361 M-103.41289672736166 55.98292246503335 C-103.5631914551467 55.96418824675223, -103.71348618293172 55.94545402847111, -103.82297295140367 55.93180651701361 M-103.82297295140367 55.93180651701361 C-103.94622206203813 55.90596389610143, -104.06947117267259 55.88012127518925, -104.227427435704 55.84700132969665 M-103.82297295140367 55.93180651701361 C-103.91307652172897 55.9129137850599, -104.00318009205425 55.89402105310619, -104.227427435704 55.84700132969665 M-104.227427435704 55.84700132969665 C-104.31507304699024 55.82090810067918, -104.40271865827648 55.794814871661714, -104.62349734602341 55.729086208503176 M-104.227427435704 55.84700132969665 C-104.32814924001863 55.817015149345295, -104.42887104433326 55.78702896899393, -104.62349734602341 55.729086208503176 M-104.62349734602341 55.729086208503176 C-104.74335972954205 55.68231576132023, -104.8632221130607 55.63554531413729, -105.00847712326485 55.57886663327529 M-104.62349734602341 55.729086208503176 C-104.72853655535128 55.688099781837934, -104.83357576467917 55.6471133551727, -105.00847712326485 55.57886663327529 M-105.00847712326485 55.57886663327529 C-105.11553019635272 55.526531574850274, -105.22258326944059 55.474196516425266, -105.37973696518537 55.39736875603245 M-105.00847712326485 55.57886663327529 C-105.10708881282017 55.53065831579868, -105.20570050237548 55.48244999832208, -105.37973696518537 55.39736875603245 M-105.37973696518537 55.39736875603245 C-105.47667313803743 55.33960733447502, -105.57360931088948 55.281845912917596, -105.73474079061214 55.185832391312644 M-105.37973696518537 55.39736875603245 C-105.48582610430982 55.334153350396576, -105.59191524343426 55.2709379447607, -105.73474079061214 55.185832391312644 M-105.73474079061214 55.185832391312644 C-105.85615242816539 55.099146148273746, -105.97756406571864 55.012459905234856, -106.07106356344833 54.94570254698197 M-105.73474079061214 55.185832391312644 C-105.83493197909382 55.11429725769524, -105.93512316757551 55.04276212407784, -106.07106356344833 54.94570254698197 M-106.07106356344833 54.94570254698197 C-106.16801365754509 54.863590005865625, -106.26496375164186 54.78147746474929, -106.3864078581287 54.67861955336566 M-106.07106356344833 54.94570254698197 C-106.14840024291304 54.88020172069078, -106.22573692237773 54.814700894399586, -106.3864078581287 54.67861955336566 M-106.3864078581287 54.67861955336566 C-106.4945699066685 54.57045750482586, -106.60273195520831 54.46229545628606, -106.67861955336566 54.386407858128706 M-106.3864078581287 54.67861955336566 C-106.49672396125783 54.568303450236535, -106.60704006438695 54.45798734710741, -106.67861955336566 54.386407858128706 M-106.67861955336566 54.386407858128706 C-106.77816476506494 54.26887504876827, -106.87770997676424 54.15134223940783, -106.94570254698196 54.07106356344834 M-106.67861955336566 54.386407858128706 C-106.74778088988202 54.30474922240803, -106.81694222639838 54.22309058668735, -106.94570254698196 54.07106356344834 M-106.94570254698196 54.07106356344834 C-107.01575112760793 53.97295442197518, -107.08579970823389 53.87484528050203, -107.18583239131264 53.734740790612136 M-106.94570254698196 54.07106356344834 C-107.00745388367717 53.98457543515441, -107.06920522037237 53.898087306860475, -107.18583239131264 53.734740790612136 M-107.18583239131264 53.734740790612136 C-107.25809738510596 53.613464482989805, -107.33036237889928 53.492188175367474, -107.39736875603245 53.379736965185366 M-107.18583239131264 53.734740790612136 C-107.26334644262506 53.60465542785815, -107.34086049393748 53.47457006510416, -107.39736875603245 53.379736965185366 M-107.39736875603245 53.379736965185366 C-107.46300981731049 53.245466028225714, -107.52865087858855 53.11119509126606, -107.57886663327528 53.008477123264846 M-107.39736875603245 53.379736965185366 C-107.44957250848587 53.27295248275539, -107.5017762609393 53.16616800032542, -107.57886663327528 53.008477123264846 M-107.57886663327528 53.008477123264846 C-107.62704710180087 52.8850011647406, -107.67522757032647 52.761525206216355, -107.72908620850318 52.62349734602342 M-107.57886663327528 53.008477123264846 C-107.63773634319702 52.8576069868159, -107.69660605311874 52.70673685036695, -107.72908620850318 52.62349734602342 M-107.72908620850318 52.62349734602342 C-107.76255689277292 52.511071299364886, -107.79602757704265 52.39864525270635, -107.84700132969665 52.227427435703994 M-107.72908620850318 52.62349734602342 C-107.77580703393218 52.46656485975347, -107.82252785936119 52.309632373483524, -107.84700132969665 52.227427435703994 M-107.84700132969665 52.227427435703994 C-107.87840755275087 52.07764428975395, -107.9098137758051 51.9278611438039, -107.93180651701361 51.82297295140367 M-107.84700132969665 52.227427435703994 C-107.87327871884635 52.10210482026567, -107.89955610799603 51.97678220482736, -107.93180651701361 51.82297295140367 M-107.93180651701361 51.82297295140367 C-107.95092777001722 51.66957324867999, -107.9700490230208 51.516173545956306, -107.98292246503335 51.41289672736166 M-107.93180651701361 51.82297295140367 C-107.94212488100287 51.74019417282422, -107.95244324499212 51.65741539424477, -107.98292246503335 51.41289672736166 M-107.98292246503335 51.41289672736166 C-107.98794976363989 51.29134785358319, -107.99297706224642 51.169798979804725, -108 51 M-107.98292246503335 51.41289672736166 C-107.9880075808145 51.28994996318342, -107.99309269659564 51.167003199005165, -108 51 M-108 51 C-108 51, -108 51, -108 51 M-108 51 C-108 51, -108 51, -108 51 M-108 51 C-108 27.409609392382883, -108 3.8192187847657664, -108 -51 M-108 51 C-108 25.22406160732691, -108 -0.551876785346181, -108 -51 M-108 -51 C-108 -51, -108 -51, -108 -51 M-108 -51 C-108 -51, -108 -51, -108 -51 M-108 -51 C-107.99559615845257 -51.10647507185938, -107.99119231690513 -51.21295014371876, -107.98292246503335 -51.41289672736166 M-108 -51 C-107.99363698626071 -51.153843488199094, -107.98727397252142 -51.307686976398195, -107.98292246503335 -51.41289672736166 M-107.98292246503335 -51.41289672736166 C-107.97246366202636 -51.49680217392511, -107.96200485901934 -51.58070762048857, -107.93180651701361 -51.82297295140367 M-107.98292246503335 -51.41289672736166 C-107.96252370870515 -51.57654516379471, -107.94212495237694 -51.74019360022776, -107.93180651701361 -51.82297295140367 M-107.93180651701361 -51.82297295140367 C-107.89955815837925 -51.9767724261014, -107.8673097997449 -52.13057190079913, -107.84700132969665 -52.227427435703994 M-107.93180651701361 -51.82297295140367 C-107.90965908360484 -51.92859890473646, -107.88751165019607 -52.03422485806925, -107.84700132969665 -52.227427435703994 M-107.84700132969665 -52.227427435703994 C-107.81011069051627 -52.35134090841142, -107.77322005133588 -52.475254381118845, -107.72908620850318 -52.62349734602342 M-107.84700132969665 -52.227427435703994 C-107.80405326233148 -52.371687451023035, -107.7611051949663 -52.515947466342084, -107.72908620850318 -52.62349734602342 M-107.72908620850318 -52.62349734602342 C-107.68964037725137 -52.724588347681404, -107.65019454599955 -52.82567934933939, -107.57886663327528 -53.008477123264846 M-107.72908620850318 -52.62349734602342 C-107.6973225133401 -52.70490072018217, -107.66555881817703 -52.78630409434091, -107.57886663327528 -53.008477123264846 M-107.57886663327528 -53.008477123264846 C-107.52800310507033 -53.11252013317635, -107.47713957686537 -53.21656314308785, -107.39736875603245 -53.379736965185366 M-107.57886663327528 -53.008477123264846 C-107.52767136793268 -53.11319871233745, -107.47647610259008 -53.217920301410054, -107.39736875603245 -53.379736965185366 M-107.39736875603245 -53.379736965185366 C-107.33585646731123 -53.48296790533938, -107.27434417859001 -53.58619884549339, -107.18583239131264 -53.734740790612136 M-107.39736875603245 -53.379736965185366 C-107.33483177643434 -53.48468755851417, -107.27229479683625 -53.589638151842976, -107.18583239131264 -53.734740790612136 M-107.18583239131264 -53.734740790612136 C-107.10030490668024 -53.854529486038366, -107.01477742204783 -53.974318181464604, -106.94570254698196 -54.07106356344834 M-107.18583239131264 -53.734740790612136 C-107.10555088947821 -53.84718202997441, -107.02526938764377 -53.95962326933669, -106.94570254698196 -54.07106356344834 M-106.94570254698196 -54.07106356344834 C-106.86652479157583 -54.164548562604786, -106.7873470361697 -54.25803356176123, -106.67861955336566 -54.386407858128706 M-106.94570254698196 -54.07106356344834 C-106.84467575964322 -54.19034566586077, -106.7436489723045 -54.30962776827319, -106.67861955336566 -54.386407858128706 M-106.67861955336566 -54.386407858128706 C-106.59348200552694 -54.47154540596744, -106.5083444576882 -54.55668295380617, -106.3864078581287 -54.67861955336566 M-106.67861955336566 -54.386407858128706 C-106.56617433174613 -54.49885307974824, -106.4537291101266 -54.61129830136777, -106.3864078581287 -54.67861955336566 M-106.3864078581287 -54.67861955336566 C-106.27601182992296 -54.77212021976086, -106.16561580171722 -54.865620886156066, -106.07106356344833 -54.94570254698197 M-106.3864078581287 -54.67861955336566 C-106.26028999812034 -54.785435932059485, -106.13417213811198 -54.892252310753314, -106.07106356344833 -54.94570254698197 M-106.07106356344833 -54.94570254698197 C-105.99822601053269 -54.997707560188665, -105.92538845761706 -55.04971257339536, -105.73474079061214 -55.185832391312644 M-106.07106356344833 -54.94570254698197 C-105.9589075307377 -55.025780415181124, -105.84675149802706 -55.10585828338028, -105.73474079061214 -55.185832391312644 M-105.73474079061214 -55.185832391312644 C-105.60527384485765 -55.26297794607775, -105.47580689910315 -55.34012350084285, -105.37973696518537 -55.39736875603245 M-105.73474079061214 -55.185832391312644 C-105.63928830794872 -55.24270972541412, -105.54383582528529 -55.2995870595156, -105.37973696518537 -55.39736875603245 M-105.37973696518537 -55.39736875603245 C-105.29768894800723 -55.43747958749965, -105.2156409308291 -55.47759041896686, -105.00847712326485 -55.57886663327528 M-105.37973696518537 -55.39736875603245 C-105.28951639461907 -55.44147490539866, -105.19929582405278 -55.485581054764864, -105.00847712326485 -55.57886663327528 M-105.00847712326485 -55.57886663327528 C-104.87364637151633 -55.6314777558658, -104.7388156197678 -55.68408887845633, -104.62349734602341 -55.729086208503176 M-105.00847712326485 -55.57886663327528 C-104.92706426012236 -55.6106340310513, -104.84565139697989 -55.64240142882731, -104.62349734602341 -55.729086208503176 M-104.62349734602341 -55.729086208503176 C-104.50786351600225 -55.763511891257046, -104.39222968598109 -55.79793757401092, -104.227427435704 -55.84700132969665 M-104.62349734602341 -55.729086208503176 C-104.49808354789353 -55.76642351391447, -104.37266974976366 -55.80376081932576, -104.227427435704 -55.84700132969665 M-104.227427435704 -55.84700132969665 C-104.11222257184907 -55.871157249431214, -103.99701770799415 -55.895313169165775, -103.82297295140367 -55.93180651701361 M-104.227427435704 -55.84700132969665 C-104.12056286822943 -55.869408473180066, -104.01369830075485 -55.89181561666348, -103.82297295140367 -55.93180651701361 M-103.82297295140367 -55.93180651701361 C-103.71453290964423 -55.94532355412246, -103.60609286788481 -55.958840591231315, -103.41289672736167 -55.98292246503335 M-103.82297295140367 -55.93180651701361 C-103.73072248533437 -55.94330552561722, -103.63847201926507 -55.954804534220834, -103.41289672736167 -55.98292246503335 M-103.41289672736167 -55.98292246503335 C-103.27405604090771 -55.98866495830246, -103.13521535445373 -55.99440745157157, -103 -56 M-103.41289672736167 -55.98292246503335 C-103.31983208339103 -55.986771647180475, -103.2267674394204 -55.990620829327604, -103 -56 M-103 -56 C-103 -56, -103 -56, -103 -56 M-103 -56 C-103 -56, -103 -56, -103 -56"></path></g><g transform="translate(-100, -48)" style="" class="label"><rect></rect><foreignObject height="96" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>NullInjector<br>always throws an error unless<br>you use @Optional()</p></span></div></foreignObject></g></g></g></g></g></svg><p>虽然 <code>root</code> 这个名称是一个特殊的别名，但其他的 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 层级没有别名。
每当创建动态加载的组件时，例如使用 Router，你都可以选择创建 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 层级，它将创建子 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 层级。</p>
<p>所有请求都会向上转发到根注入器，无论你是通过传递给 <a href="/api/platform-browser/bootstrapApplication"><code>bootstrapApplication()</code></a> 方法的 <code>ApplicationConfig</code> 实例来配置它，还是在自己的服务中将所有提供者注册为 <code>root</code>。</p>

    <div class="docs-callout docs-callout-helpful">
      <h3>@Injectable() 与 ApplicationConfig</h3>
      <p>如果你在 <a href="/api/platform-browser/bootstrapApplication"><code>bootstrapApplication</code></a> 的 <code>ApplicationConfig</code> 中配置了一个应用范围的提供者，它将覆盖在 <a href="/api/core/Injectable"><code>@Injectable()</code></a> 元数据中为 <code>root</code> 配置的提供者。
你可以这样做来配置一个被多个应用共享的服务的非默认提供者。</p>
<p>这是一个示例，其中组件路由器配置通过在 <code>ApplicationConfig</code> 的 <code>providers</code> 列表中列出其提供者，包含了非默认的 <a href="guide/routing#location-strategy">位置策略</a>。</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">providers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: [</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  { provide: LocationStrategy, useClass: HashLocationStrategy }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span></span></code></pre>
  </div><p>对于基于 <a href="/api/core/NgModule"><code>NgModule</code></a> 的应用，请在 <code>AppModule</code> 的 <code>providers</code> 中配置应用范围的提供者。</p>

    </div>
    
  <h3 id="elementinjector">
    <a href="#elementinjector" class="docs-anchor" tabindex="-1" aria-label="Link to <code>ElementInjector</code>"><code>ElementInjector</code></a>
  </h3>
  <p>Angular 为每个 DOM 元素隐式地创建 <code>ElementInjector</code> 分层结构。</p>
<p>通过在 <a href="/api/core/Component"><code>@Component()</code></a> 装饰器的 <code>providers</code> 或 <code>viewProviders</code> 属性中提供服务，可以配置一个 <code>ElementInjector</code>。
例如，下面的 <code>TestComponent</code> 通过如下方式提供服务来配置 <code>ElementInjector</code>：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  …</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providers: [{ provide: ItemService, useValue: { name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'lamp'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> } }]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> TestComponent</span></span></code></pre>
  </div>
    <div class="docs-alert docs-alert-helpful">
    <p><strong>有帮助：</strong> 请参阅 <a href="#resolution-rules">解析规则</a> 部分，以了解 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 树、<code>ModuleInjector</code> 和 <code>ElementInjector</code> 树之间的关系。</p>

    </div>
    <p>当你在组件中提供服务时，该服务通过该组件实例的 <code>ElementInjector</code> 可用。根据<a href="#resolution-rules">解析规则</a>部分中描述的可见性规则，它也可能在子组件/指令中可见。</p>
<p>当组件实例被销毁时，该服务实例也会被销毁。</p>

  <h4 id="directive-and-component">
    <a href="#directive-and-component" class="docs-anchor" tabindex="-1" aria-label="Link to <code>@Directive()</code> and <code>@Component()</code>"><code>@Directive()</code> 和 <code>@Component()</code></a>
  </h4>
  <p>组件是一种特殊的指令，这意味着就像 <a href="/api/core/Directive"><code>@Directive()</code></a> 有一个 <code>providers</code> 属性一样，<a href="/api/core/Component"><code>@Component()</code></a> 也有。
这意味着指令和组件都可以使用 <code>providers</code> 属性来配置提供者。
当你使用 <code>providers</code> 属性为组件或指令配置提供者时，该提供者属于该组件或指令的 <code>ElementInjector</code>。
同一元素上的组件和指令共享一个注入器。</p>

  <h2 id="resolution-rules">
    <a href="#resolution-rules" class="docs-anchor" tabindex="-1" aria-label="Link to Resolution rules">解析规则</a>
  </h2>
  <p>当为组件/指令解析令牌时，Angular 分两个阶段解析它：</p>

    <ol class="docs-ordered-list">
      <li>相对于 <code>ElementInjector</code> 分层结构中的父注入器。</li>
<li>针对其在 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 层级中的父级。</li>

    </ol>
    <p>当组件声明依赖时，Angular 尝试使用自己的 <code>ElementInjector</code> 来满足该依赖。
如果组件的注入器缺少提供者，它会将请求传递给父组件的 <code>ElementInjector</code>。</p>
<p>请求会一直向上转发，直到 Angular 找到可以处理该请求的注入器，或者耗尽了祖先 <code>ElementInjector</code> 分层结构。</p>
<p>如果在任何 <code>ElementInjector</code> 层级中都找不到提供者，Angular 会回到请求发起的元素，并在 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 层级中查找。
如果 Angular 仍然找不到提供者，它将抛出错误。</p>
<p>如果你在不同的层级为同一个 DI 令牌注册了提供者，Angular 遇到的第一个提供者就是它用来求解依赖的提供者。
例如，如果在一个需要服务的组件中本地注册了一个提供者，
Angular 就不会再查找同一服务的另一个提供者。</p>

    <div class="docs-alert docs-alert-helpful">
    <p><strong>有帮助：</strong> 对于基于 <a href="/api/core/NgModule"><code>NgModule</code></a> 的应用程序，如果 Angular 在 <code>ElementInjector</code> 层级中找不到提供者，它将搜索 <code>ModuleInjector</code> 层级。</p>

    </div>
    
  <h2 id="resolution-modifiers">
    <a href="#resolution-modifiers" class="docs-anchor" tabindex="-1" aria-label="Link to Resolution modifiers">解析修饰符</a>
  </h2>
  <p>Angular 的解析行为可以使用 <code>optional</code>、<code>self</code>、<code>skipSelf</code> 和 <code>host</code> 进行修改。
从 <code>@angular/core</code> 导入它们中的每一个，并在注入服务时在 <code>inject</code> 配置中使用。</p>

  <h3 id="types-of-modifiers">
    <a href="#types-of-modifiers" class="docs-anchor" tabindex="-1" aria-label="Link to Types of modifiers">修饰符的类型</a>
  </h3>
  <p>解析修饰符分为三类：</p>

  <ul class="docs-list">
    <li>如果 Angular 找不到你要查找的内容，该怎么办？那就是 <code>optional</code></li>
<li>从哪里开始查找？那就是 <code>skipSelf</code></li>
<li>在哪里停止查找？<code>host</code> 和 <code>self</code></li>

  </ul>
  <p>默认情况下，Angular 始终从当前 <a href="/api/core/Injector"><code>Injector</code></a> 开始，并一直向上搜索。
修饰符允许你更改起始的（或<em>自身</em>的）位置和结束的位置。</p>
<p>此外，你可以组合除以下之外的所有修饰符：</p>

  <ul class="docs-list">
    <li><code>host</code> 和 <code>self</code></li>
<li><code>skipSelf</code> 和 <code>self</code>。</li>

  </ul>
  
  <h3 id="optional">
    <a href="#optional" class="docs-anchor" tabindex="-1" aria-label="Link to <code>optional</code>"><code>optional</code></a>
  </h3>
  <p><code>optional</code> 允许 Angular 将你注入的服务视为可选的。
这样，如果它在运行时无法解析，Angular 会将服务解析为 <code>null</code>，而不是抛出错误。
在下面的示例中，服务 <code>OptionalService</code> 未在服务 <code>ApplicationConfig</code>、<a href="/api/core/NgModule"><code>@NgModule()</code></a> 或组件类中提供，因此它在应用程序的任何地方都不可用。</p>
<div class="docs-code" header="src/app/optional/optional.component.ts">
    <div class="docs-code-header"><h3>src/app/optional/optional.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> OptionalComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  public</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> optional</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(OptionalService, {optional: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">});</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div>
  <h3 id="self">
    <a href="#self" class="docs-anchor" tabindex="-1" aria-label="Link to <code>self</code>"><code>self</code></a>
  </h3>
  <p>使用 <code>self</code>，以便 Angular 只查看当前组件或指令的 <code>ElementInjector</code>。</p>
<p><code>self</code> 的一个好的用例是注入一个服务，但前提是它在当前宿主元素上可用。
为了避免在这种情况下出错，请将 <code>self</code> 与 <code>optional</code> 结合使用。</p>
<p>例如，在下面的 <code>SelfNoDataComponent</code> 中，请注意作为属性注入的 <code>LeafService</code>。</p>
<div class="docs-code" header="src/app/self-no-data/self-no-data.component.ts">
    <div class="docs-code-header"><h3>src/app/self-no-data/self-no-data.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-self-no-data'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  templateUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./self-no-data.component.html'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  styleUrls: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./self-no-data.component.css'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> SelfNoDataComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  public</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> leaf</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(LeafService, {optional: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, self: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">});</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>在此示例中，有一个父提供者，注入服务将返回该值；但是，使用 <code>self</code> 和 <code>optional</code> 注入服务将返回 <code>null</code>，因为 <code>self</code> 告诉注入器停止在当前宿主元素中搜索。</p>
<p>另一个示例显示了带有 <code>FlowerService</code> 提供者的组件类。
在这种情况下，注入器不会在当前的 <code>ElementInjector</code> 之外查找，因为它找到了 <code>FlowerService</code> 并返回了郁金香 <code><span class="docs-emoji">🌷</span></code>。</p>
<div class="docs-code" path="adev/src/content/examples/resolution-modifiers/src/app/self/self.component.ts" visiblelines="3,4,5,6,7,8,9,10,11" header="src/app/self/self.component.ts">
    <div class="docs-code-header"><h3>src/app/self/self.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {<a href="/api/core/Component">Component</a>, Self} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/core'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {FlowerService} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '../flower.service'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-self'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  templateUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./self.component.html'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  styleUrls: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./self.component.css'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providers: [{provide: FlowerService, useValue: {emoji: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'🌷'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}}],</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> SelfComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Self">Self</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">public</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> flower</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> FlowerService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {}</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// This component provides the FlowerService so the injector</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// doesn't have to look further up the injector tree</span></span><span class="line"></span></code></pre>
  </div>
  <h3 id="skipself">
    <a href="#skipself" class="docs-anchor" tabindex="-1" aria-label="Link to <code>skipSelf</code>"><code>skipSelf</code></a>
  </h3>
  <p><code>skipSelf</code> 与 <code>self</code> 相反。
使用 <code>skipSelf</code>，Angular 会在其父 <code>ElementInjector</code> 中开始搜索服务，而不是在当前的 <code>ElementInjector</code> 中。
因此，如果父 <code>ElementInjector</code> 对 <code>emoji</code> 使用 fern <code><span class="docs-emoji">🌿</span></code> 值，但你在组件的 <code>providers</code> 数组中使用了 maple leaf <code><span class="docs-emoji">🍁</span></code>，则 Angular 将忽略 maple leaf <code><span class="docs-emoji">🍁</span></code> 并使用 fern <code><span class="docs-emoji">🌿</span></code>。</p>
<p>要在代码中看到这一点，假设以下 <code>emoji</code> 值是父组件正在使用的值，如下服务所示：</p>
<div class="docs-code" header="src/app/leaf.service.ts">
    <div class="docs-code-header"><h3>src/app/leaf.service.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> LeafService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  emoji</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '🌿'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>假设在子组件中，你有一个不同的值，枫叶 <code><span class="docs-emoji">🍁</span></code>，但你想使用父组件的值。
这时你就可以使用 <code>skipSelf</code>：</p>
<div class="docs-code" header="src/app/skipself/skipself.component.ts">
    <div class="docs-code-header"><h3>src/app/skipself/skipself.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-skipself'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  templateUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./skipself.component.html'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  styleUrls: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./skipself.component.css'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // Angular would ignore this LeafService instance</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providers: [{ provide: LeafService, useValue: { emoji: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'🍁'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> } }]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> SkipselfComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // Use skipSelf as inject option</span></span><span class="line highlighted"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  public</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> leaf</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(LeafService, {skipSelf: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">});</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>在这种情况下，你为 <code>emoji</code> 获取的值将是蕨类植物 <code><span class="docs-emoji">🌿</span></code>，而不是枫叶 <code><span class="docs-emoji">🍁</span></code>。</p>

  <h4 id="skipself-option-with-optional">
    <a href="#skipself-option-with-optional" class="docs-anchor" tabindex="-1" aria-label="Link to <code>skipSelf</code> option with <code>optional</code>">带有 <code>optional</code> 的 <code>skipSelf</code> 选项</a>
  </h4>
  <p>将 <code>skipSelf</code> 选项与 <code>optional</code> 结合使用，以防止值是 <code>null</code> 时出错。</p>
<p>在以下示例中，<code>Person</code> 服务在属性初始化期间被注入。
<code>skipSelf</code> 告诉 Angular 跳过当前的注入器，而 <code>optional</code> 将防止在 <code>Person</code> 服务为 <code>null</code> 时出错。</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Person</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  parent</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(Person, {optional: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, skipSelf: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div>
  <h3 id="host">
    <a href="#host" class="docs-anchor" tabindex="-1" aria-label="Link to <code>host</code>"><code>host</code></a>
  </h3>
  <!-- TODO: Remove ambiguity between host and self. -->

<p>在搜索提供者时，<code>host</code> 允许你将组件指定为注入器树中的最后一站。</p>
<p>即使树的更上方有服务实例，Angular 也不会继续查找。
按如下方式使用 <code>host</code>：</p>
<div class="docs-code" header="src/app/host/host.component.ts">
    <div class="docs-code-header"><h3>src/app/host/host.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-host'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  templateUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./host.component.html'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  styleUrls: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./host.component.css'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  //  provide the service</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providers: [{ provide: FlowerService, useValue: { emoji: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'🌷'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> } }]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> HostComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // use host when injecting the service</span></span><span class="line highlighted"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  flower</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(FlowerService, {host: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, optional: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">});</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>由于 <code>HostComponent</code> 具有 <code>host</code> 选项，无论 <code>HostComponent</code> 的父组件可能有什么样的 <code>flower.emoji</code> 值，<code>HostComponent</code> 都将使用郁金香 <code><span class="docs-emoji">🌷</span></code>。</p>

  <h3 id="modifiers-with-constructor-injection">
    <a href="#modifiers-with-constructor-injection" class="docs-anchor" tabindex="-1" aria-label="Link to Modifiers with constructor injection">带有构造函数注入的修饰符</a>
  </h3>
  <p>与前面介绍的类似，构造函数注入的行为可以通过 <a href="/api/core/Optional"><code>@Optional()</code></a>、<a href="/api/core/Self"><code>@Self()</code></a>、<a href="/api/core/SkipSelf"><code>@SkipSelf()</code></a> 和 <a href="/api/core/Host"><code>@Host()</code></a> 进行修改。</p>
<p>从 <code>@angular/core</code> 导入它们中的每一个，并在注入服务时在组件类构造函数中使用。</p>
<div class="docs-code" header="src/app/self-no-data/self-no-data.component.ts">
    <div class="docs-code-header"><h3>src/app/self-no-data/self-no-data.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> SelfNoDataComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Self">Self</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Optional">Optional</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">public</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> leaf</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> LeafService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) { }</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div>
  <h2 id="logical-structure-of-the-template">
    <a href="#logical-structure-of-the-template" class="docs-anchor" tabindex="-1" aria-label="Link to Logical structure of the template">模板的逻辑结构</a>
  </h2>
  <p>当你在组件类中提供服务时，服务在 <code>ElementInjector</code> 树中是可见的，这取决于你提供这些服务的位置和方式。</p>
<p>理解 Angular 模板的底层逻辑结构将为你配置服务奠定基础，进而控制它们的可视性。</p>
<p>组件在你的模板中使用，如下例所示：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div>
    <div class="docs-alert docs-alert-helpful">
    <p><strong>提示：</strong> 通常，你在单独的文件中声明组件及其模板。
为了理解注入系统的工作原理，从组合逻辑树的角度来看待它们很有用。
术语<em>逻辑</em>将其与渲染树（即应用的 DOM 树）区分开来。
为了标记组件模板所在的位置，本指南使用 <code>&lt;#VIEW&gt;</code> 伪元素，该伪元素实际上并不存在于渲染树中，仅出于心智模型目的而存在。</p>

    </div>
    <p>以下示例说明了 <code>&lt;app-root&gt;</code> 和 <code>&lt;app-child&gt;</code> 视图树如何组合成单个逻辑树：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">     &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">       …content goes here…</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">     &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>当你在组件类中配置服务时，理解 <code>&lt;#VIEW&gt;</code> 划界的概念尤为重要。</p>

  <h2 id="example-providing-services-in-component">
    <a href="#example-providing-services-in-component" class="docs-anchor" tabindex="-1" aria-label="Link to Example: Providing services in <code>@Component()</code>">范例：在 <code>@Component()</code> 中提供服务</a>
  </h2>
  <p>您如何使用 <a href="/api/core/Component"><code>@Component()</code></a>（或 <a href="/api/core/Directive"><code>@Directive()</code></a>）装饰器提供服务决定了它们的可见性。
以下各节将演示 <code>providers</code> 和 <code>viewProviders</code>，以及使用 <code>skipSelf</code> 和 <code>host</code> 修改服务可见性的方法。</p>
<p>组件类可以通过两种方式提供服务：</p>

  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th align="left">数组</th>
<th align="left">详情</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td align="left">使用 <code>providers</code> 数组</td>
<td align="left"><code>@Component({ providers: [SomeService] })</code></td>
</tr>
<tr>
<td align="left">使用 <code>viewProviders</code> 数组</td>
<td align="left"><code>@Component({ viewProviders: [SomeService] })</code></td>
</tr>

      </tbody>
    </table>
  </div>
  <p>在下面的示例中，你将看到 Angular 应用的逻辑树。
为了说明注入器如何在模板上下文中工作，逻辑树将表示应用的 HTML 结构。
例如，逻辑树将显示 <code>&lt;child-component&gt;</code> 是 <code>&lt;parent-component&gt;</code> 的直接子组件。</p>
<p>在逻辑树中，您将看到特殊属性：<code>@Provide</code>、<a href="/api/core/Inject"><code>@Inject</code></a> 和 <code>@ApplicationConfig</code>。
这些不是真实属性，而是用于演示幕后发生的事情。</p>

  <div class="docs-table docs-scroll-track-transparent">
    <table>
      <thead>
        <tr>
<th align="left">Angular 服务属性（Attribute）</th>
<th align="left">详情</th>
</tr>

      </thead>
      <tbody>
        <tr>
<td align="left"><code>@Inject(Token)=&gt;Value</code></td>
<td align="left">如果 <code>Token</code> 在逻辑树的这个位置被注入，它的值将是 <code>Value</code>。</td>
</tr>
<tr>
<td align="left"><code>@Provide(Token=Value)</code></td>
<td align="left">表明 <code>Token</code> 在逻辑树的这个位置通过 <code>Value</code> 提供。</td>
</tr>
<tr>
<td align="left"><code>@ApplicationConfig</code></td>
<td align="left">演示了在此位置应使用备用的 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a>。</td>
</tr>

      </tbody>
    </table>
  </div>
  
  <h3 id="example-app-structure">
    <a href="#example-app-structure" class="docs-anchor" tabindex="-1" aria-label="Link to Example app structure">范例应用结构</a>
  </h3>
  <p>此范例应用在 <code>root</code> 中提供了一个 <code>FlowerService</code>，其 <code>emoji</code> 值为红色芙蓉花 <code><span class="docs-emoji">🌺</span></code>。</p>
<div class="docs-code" header="src/app/flower.service.ts">
    <div class="docs-code-header"><h3>src/app/flower.service.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Injectable">Injectable</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providedIn: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'root'</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> FlowerService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  emoji</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '🌺'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>考虑一个仅包含 <code>AppComponent</code> 和 <code>ChildComponent</code> 的应用。
最基本的渲染视图看起来会像如下嵌套的 HTML 元素一样：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- AppComponent selector --&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- ChildComponent selector --&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>但是，在幕后，Angular 在求解注入请求时使用如下逻辑视图表示：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- AppComponent selector --&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- ChildComponent selector --&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>这里的 <code>&lt;#VIEW&gt;</code> 表示模板的一个实例。
请注意，每个组件都有自己的 <code>&lt;#VIEW&gt;</code>。</p>
<p>了解此结构可以帮助你了解如何提供和注入服务，并使你完全控制服务的可见性。</p>
<p>现在，假设 <code>&lt;app-root&gt;</code> 注入了 <code>FlowerService</code>：</p>
<div class="docs-code" header="src/app/app.component.ts">
    <div class="docs-code-header"><h3>src/app/app.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> AppComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  {</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  flower</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(FlowerService);</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>向 <code>&lt;app-root&gt;</code> 模板添加一个绑定以可视化结果：</p>
<div class="docs-code" header="src/app/app.component.html">
    <div class="docs-code-header"><h3>src/app/app.component.html</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from FlowerService: {{flower.emoji}}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>视图中的输出将是：</p>
<div class="docs-code shell">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Emoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> FlowerService:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 🌺</span></span></code></pre>
  </div><p>在逻辑树中，这将表示为如下形式：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @ApplicationConfig</span></span><span class="line highlighted"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">        @<a href="/api/core/Inject">Inject</a>(FlowerService)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> flower</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🌺"&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from FlowerService: {{flower.emoji}} (🌺)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>当 <code>&lt;app-root&gt;</code> 请求 <code>FlowerService</code> 时，注入器的任务是求解 <code>FlowerService</code> 令牌。
令牌的求解分两个阶段进行：</p>

    <ol class="docs-ordered-list">
      <li><p>注入器确定逻辑树中的起始位置和搜索的结束位置。
 注入器从起始位置开始，并在逻辑树中的每个视图级别查找令牌。
 如果找到令牌，则返回它。</p>
</li>
<li><p>如果找不到令牌，注入器会查找最近的父 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 来委托处理该请求。</p>
</li>

    </ol>
    <p>在此范例中，约束条件为：</p>

    <ol class="docs-ordered-list">
      <li><p>从属于 <code>&lt;app-root&gt;</code> 的 <code>&lt;#VIEW&gt;</code> 开始，到 <code>&lt;app-root&gt;</code> 结束。</p>

  <ul class="docs-list">
    <li>通常搜索的起点是注入点。
  然而，在本例中 <code>&lt;app-root&gt;</code> 是一个组件。<code><a href="/api/core/Component">@Component</a></code> 很特别，因为它们还包含自己的 <code>viewProviders</code>，这就是为什么搜索从属于 <code>&lt;app-root&gt;</code> 的 <code>&lt;#VIEW&gt;</code> 开始。
  对于匹配在同一位置的指令，情况则不是这样。</li>
<li>结束位置恰好与组件本身相同，因为它是此应用中最顶层的组件。</li>

  </ul>
  </li>
<li><p>由 <a href="/api/core/EnvironmentInjector"><code>EnvironmentInjector</code></a> 提供的 <code>ApplicationConfig</code> 在注入令牌在 <code>ElementInjector</code> 层级中找不到时，充当备用注入器。</p>
</li>

    </ol>
    
  <h3 id="using-the-providers-array">
    <a href="#using-the-providers-array" class="docs-anchor" tabindex="-1" aria-label="Link to Using the <code>providers</code> array">使用 <code>providers</code> 数组</a>
  </h3>
  <p>现在，在 <code>ChildComponent</code> 类中，为 <code>FlowerService</code> 添加一个提供者，以演示后续章节中更复杂的求解规则：</p>
<div class="docs-code" header="src/app/child.component.ts">
    <div class="docs-code-header"><h3>src/app/child.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-child'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  templateUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./child.component.html'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  styleUrls: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./child.component.css'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span><span class="line highlighted"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // use the providers array to provide a service</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providers: [{ provide: FlowerService, useValue: { emoji: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'🌻'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> } }]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ChildComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // inject the service</span></span><span class="line highlighted"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  flower</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(FlowerService);</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>现在 <code>FlowerService</code> 已在 <a href="/api/core/Component"><code>@Component()</code></a> 装饰器中提供，当 <code>&lt;app-child&gt;</code> 请求该服务时，注入器只需查找 <code>&lt;app-child&gt;</code> 中的 <code>ElementInjector</code>。
它无需继续在注入器树中进一步搜索。</p>
<p>下一步是将绑定添加到 <code>ChildComponent</code> 模板。</p>
<div class="docs-code" header="src/app/child.component.html">
    <div class="docs-code-header"><h3>src/app/child.component.html</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from FlowerService: {{flower.emoji}}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>要渲染新值，请将 <code>&lt;app-child&gt;</code> 添加到 <code>AppComponent</code> 模板的底部，以便视图也显示向日葵：</p>
<div class="docs-code shell">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Child</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> <a href="/api/core/Component">Component</a></span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Emoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> FlowerService:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 🌻</span></span></code></pre>
  </div><p>在逻辑树中，这表示为如下形式：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @ApplicationConfig</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">        @<a href="/api/core/Inject">Inject</a>(FlowerService)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> flower</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🌺"&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from FlowerService: {{flower.emoji}} (🌺)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @Provide(FlowerService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"🌻"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">)</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">               @<a href="/api/core/Inject">Inject</a>(FlowerService)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🌻"&gt; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- search ends here --&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- search starts here --&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Child Component&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from FlowerService: {{flower.emoji}} (🌻)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>当 <code>&lt;app-child&gt;</code> 请求 <code>FlowerService</code> 时，注入器从属于 <code>&lt;app-child&gt;</code> 的 <code>&lt;#VIEW&gt;</code>（因为 <code>&lt;#VIEW&gt;</code> 是从 <a href="/api/core/Component"><code>@Component()</code></a> 注入的，所以包含在内）开始搜索，并以 <code>&lt;app-child&gt;</code> 结束。
在这种情况下，<code>FlowerService</code> 在 <code>providers</code> 数组中被解析为 <code>&lt;app-child&gt;</code> 的向日葵 <code><span class="docs-emoji">🌻</span></code>。
注入器无需在注入器树中进一步查找。
它在找到 <code>FlowerService</code> 后立即停止，并且永远不会看到红色的芙蓉 <code><span class="docs-emoji">🌺</span></code>。</p>

  <h3 id="using-the-viewproviders-array">
    <a href="#using-the-viewproviders-array" class="docs-anchor" tabindex="-1" aria-label="Link to Using the <code>viewProviders</code> array">使用 <code>viewProviders</code> 数组</a>
  </h3>
  <p>使用 <code>viewProviders</code> 数组作为在 <a href="/api/core/Component"><code>@Component()</code></a> 装饰器中提供服务的另一种方式。
使用 <code>viewProviders</code> 可以使服务在 <code>&lt;#VIEW&gt;</code> 中可见。</p>

    <div class="docs-alert docs-alert-helpful">
    <p><strong>提示：</strong> 这些步骤与使用 <code>providers</code> 数组相同，唯一的区别是使用 <code>viewProviders</code> 数组。</p>

    </div>
    <p>有关分步说明，请继续阅读本节。
如果你可以自行建立，请跳至<a href="#visibility-of-provided-tokens">修改服务可用性</a>。</p>
<p>为了演示，我们正在构建一个 <code>AnimalService</code> 以演示 <code>viewProviders</code>。
首先，创建一个 <code>AnimalService</code>，其 <code>emoji</code> 属性为鲸鱼 <code><span class="docs-emoji">🐳</span></code>：</p>
<div class="docs-code" header="src/app/animal.service.ts">
    <div class="docs-code-header"><h3>src/app/animal.service.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { <a href="/api/core/Injectable">Injectable</a> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/core'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Injectable">Injectable</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providedIn: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'root'</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> AnimalService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  emoji</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '🐳'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>按照与 <code>FlowerService</code> 相同的模式，在 <code>AppComponent</code> 类中注入 <code>AnimalService</code>：</p>
<div class="docs-code" header="src/app/app.component.ts">
    <div class="docs-code-header"><h3>src/app/app.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> AppComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    public</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> flower</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(FlowerService);</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    public</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> animal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(AnimalService);</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div>
    <div class="docs-alert docs-alert-helpful">
    <p><strong>提示：</strong> 你可以保留所有与 <code>FlowerService</code> 相关的代码，因为它允许与 <code>AnimalService</code> 进行比较。</p>

    </div>
    <p>添加一个 <code>viewProviders</code> 数组，并在 <code>&lt;app-child&gt;</code> 类中也注入 <code>AnimalService</code>，但为 <code>emoji</code> 提供不同的值。
在这里，它的值为狗 <code><span class="docs-emoji">🐶</span></code>。</p>
<div class="docs-code" header="src/app/child.component.ts">
    <div class="docs-code-header"><h3>src/app/child.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-child'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  templateUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./child.component.html'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  styleUrls: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./child.component.css'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // provide services</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providers: [{ provide: FlowerService, useValue: { emoji: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'🌻'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> } }],</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  viewProviders: [{ provide: AnimalService, useValue: { emoji: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'🐶'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> } }]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ChildComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">  // inject services</span></span><span class="line highlighted"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  flower</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(FlowerService); </span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  animal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(AnimalService)</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">...</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>将绑定添加到 <code>ChildComponent</code> 和 <code>AppComponent</code> 模板。
在 <code>ChildComponent</code> 模板中，添加以下绑定：</p>
<div class="docs-code" header="src/app/child.component.html">
    <div class="docs-code-header"><h3>src/app/child.component.html</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from AnimalService: {{animal.emoji}}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>此外，将相同的绑定添加到 <code>AppComponent</code> 模板：</p>
<div class="docs-code" header="src/app/app.component.html">
    <div class="docs-code-header"><h3>src/app/app.component.html</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from AnimalService: {{animal.emoji}}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;s</span></span></code></pre>
  </div><p>现在你应该在浏览器中看到这两个值：</p>
<div class="docs-code shell">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">AppComponent</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Emoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> AnimalService:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 🐳</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Child</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> <a href="/api/core/Component">Component</a></span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Emoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> AnimalService:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 🐶</span></span></code></pre>
  </div><p>此 <code>viewProviders</code> 范例的逻辑树如下所示：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @ApplicationConfig</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">         @<a href="/api/core/Inject">Inject</a>(AnimalService)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> animal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🐳"&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW @Provide(AnimalService="🐶")</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            @<a href="/api/core/Inject">Inject</a>(AnimalService=&gt;"🐶")&gt;</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">       &lt;!-- ^^using viewProviders means AnimalService is available in &lt;#VIEW&gt;--&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">       &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from AnimalService: {{animal.emoji}} (🐶)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>与 <code>FlowerService</code> 示例一样，<code>AnimalService</code> 在 <code>&lt;app-child&gt;</code> 的 <a href="/api/core/Component"><code>@Component()</code></a> 装饰器中提供。
这意味着，由于注入器首先在组件的 <code>ElementInjector</code> 中查找，因此它会找到狗 <code><span class="docs-emoji">🐶</span></code> 的 <code>AnimalService</code> 值。
它不需要继续搜索 <code>ElementInjector</code> 树，也不需要搜索 <code>ModuleInjector</code>。</p>

  <h3 id="providers-vs-viewproviders">
    <a href="#providers-vs-viewproviders" class="docs-anchor" tabindex="-1" aria-label="Link to <code>providers</code> vs. <code>viewProviders</code>"><code>providers</code> 与 <code>viewProviders</code></a>
  </h3>
  <p><code>viewProviders</code> 字段在概念上类似于 <code>providers</code>，但有一个明显的区别。
<code>viewProviders</code> 中配置的提供者对于最终成为组件逻辑子项的投影内容不可见。</p>
<p>要查看使用 <code>providers</code> 和 <code>viewProviders</code> 之间的区别，请向范例添加另一个组件并将其命名为 <code>InspectorComponent</code>。
<code>InspectorComponent</code> 将是 <code>ChildComponent</code> 的子组件。
在 <code>inspector.component.ts</code> 中，在属性初始化期间注入 <code>FlowerService</code> 和 <code>AnimalService</code>：</p>
<div class="docs-code" header="src/app/inspector/inspector.component.ts">
    <div class="docs-code-header"><h3>src/app/inspector/inspector.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> InspectorComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  flower</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(FlowerService);</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  animal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(AnimalService);</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>你不需要 <code>providers</code> 或 <code>viewProviders</code> 数组。
接下来，在 <code>inspector.component.html</code> 中，添加与先前组件相同的标记：</p>
<div class="docs-code" header="src/app/inspector/inspector.component.html">
    <div class="docs-code-header"><h3>src/app/inspector/inspector.component.html</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from FlowerService: {{flower.emoji}}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from AnimalService: {{animal.emoji}}&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>请记住将 <code>InspectorComponent</code> 添加到 <code>ChildComponent</code> 的 <code>imports</code> 数组中。</p>
<div class="docs-code" header="src/app/child/child.component.ts">
    <div class="docs-code-header"><h3>src/app/child/child.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  ...</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  imports: [InspectorComponent]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span></code></pre>
  </div><p>接下来，将以下内容添加到 <code>child.component.html</code>：</p>
<div class="docs-code" header="src/app/child/child.component.html">
    <div class="docs-code-header"><h3>src/app/child/child.component.html</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">...</span></span><span class="line"></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"container"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Content projection&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">ng-content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">ng-content</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Inside the view&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line highlighted"></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-inspector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-inspector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p><code>&lt;ng-content&gt;</code> 允许你投影内容，而 <code>ChildComponent</code> 模板内的 <code>&lt;app-inspector&gt;</code> 使 <code>InspectorComponent</code> 成为 <code>ChildComponent</code> 的子组件。</p>
<p>接下来，将以下内容添加到 <code>app.component.html</code> 以利用内容投影。</p>
<div class="docs-code" header="src/app/app.component.html">
    <div class="docs-code-header"><h3>src/app/app.component.html</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-inspector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-inspector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>现在，浏览器渲染以下内容，为简洁起见，省略了之前的示例：</p>
<div class="docs-code shell">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">...</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Content</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> projection</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Emoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> FlowerService:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 🌻</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Emoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> AnimalService:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 🐳</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Emoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> FlowerService:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 🌻</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Emoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> AnimalService:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 🐶</span></span></code></pre>
  </div><p>这四个绑定演示了 <code>providers</code> 和 <code>viewProviders</code> 之间的区别。
请记住，小狗表情符号 <code><span class="docs-emoji">🐶</span></code> 在 <code>ChildComponent</code> 的 <code>&lt;#VIEW&gt;</code> 内部声明，并且对于投影内容是不可见的。
相反，投影内容看到的是鲸鱼 <code><span class="docs-emoji">🐳</span></code>。</p>
<p>然而，在接下来的输出部分中，尽管 <code>InspectorComponent</code> 是 <code>ChildComponent</code> 的实际子组件，但 <code>InspectorComponent</code> 位于 <code>&lt;#VIEW&gt;</code> 内部，因此当它请求 <code>AnimalService</code> 时，它会看到小狗 <code><span class="docs-emoji">🐶</span></code>。</p>
<p>逻辑树中的 <code>AnimalService</code> 看起来会像这样：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @ApplicationConfig</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">         @<a href="/api/core/Inject">Inject</a>(AnimalService)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> animal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🐳"&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW @Provide(AnimalService="🐶")</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            @<a href="/api/core/Inject">Inject</a>(AnimalService=&gt;"🐶")&gt;</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">        &lt;!-- ^^using viewProviders means AnimalService is available in &lt;#VIEW&gt;--&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from AnimalService: {{animal.emoji}} (🐶)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"container"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Content projection&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">h3</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-inspector</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @<a href="/api/core/Inject">Inject</a>(AnimalService)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> animal</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🐳"&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from AnimalService: {{animal.emoji}} (🐳)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-inspector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-inspector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">          &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW @Inject(AnimalService) animal=&gt;"🐶"&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">            &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;Emoji from AnimalService: {{animal.emoji}} (🐶)&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">p</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">          &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-inspector</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p><code>&lt;app-inspector&gt;</code> 的投影内容看到的是鲸鱼 <code><span class="docs-emoji">🐳</span></code>，而不是小狗 <code><span class="docs-emoji">🐶</span></code>，因为小狗 <code><span class="docs-emoji">🐶</span></code> 在 <code>&lt;app-child&gt;</code> 的 <code>&lt;#VIEW&gt;</code> 内部。
只有当 <code>&lt;app-inspector&gt;</code> 也位于 <code>&lt;#VIEW&gt;</code> 中时，它才能看到小狗 <code><span class="docs-emoji">🐶</span></code>。</p>

  <h3 id="visibility-of-provided-tokens">
    <a href="#visibility-of-provided-tokens" class="docs-anchor" tabindex="-1" aria-label="Link to Visibility of provided tokens">所提供令牌的可见性</a>
  </h3>
  <p>可见性装饰器会影响在逻辑树中，对注入令牌的搜索从哪里开始以及在哪里结束。
为此，请将可见性配置放在注入点，即调用 <code>inject()</code> 时，而不是在对象声明点。</p>
<p>要更改注入器开始查找 <code>FlowerService</code> 的位置，请将 <code>skipSelf</code> 添加到 <code>&lt;app-child&gt;</code> 的 <code>inject()</code> 调用中，在该调用中注入了 <code>FlowerService</code>。
此调用是 <code>&lt;app-child&gt;</code> 的属性初始化器，如 <code>child.component.ts</code> 中所示：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">flower </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(FlowerService, { skipSelf: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> })</span></span></code></pre>
  </div><p>使用 <code>skipSelf</code>，<code>&lt;app-child&gt;</code> 注入器不会在自身中查找 <code>FlowerService</code>。
相反，注入器开始在 <code>&lt;app-root&gt;</code> 的 <code>ElementInjector</code> 中查找 <code>FlowerService</code>，但一无所获。
然后，它返回到 <code>&lt;app-child&gt;</code> 的 <code>ModuleInjector</code> 并找到红色芙蓉花 <code><span class="docs-emoji">🌺</span></code> 值，该值可用，因为 <code>&lt;app-child&gt;</code> 和 <code>&lt;app-root&gt;</code> 共享同一个 <code>ModuleInjector</code>。
UI 渲染以下内容：</p>
<div class="docs-code shell">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Emoji</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> FlowerService:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> 🌺</span></span></code></pre>
  </div><p>在逻辑树中，相同的概念可能看起来像这样：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @ApplicationConfig</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">        @<a href="/api/core/Inject">Inject</a>(FlowerService)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> flower</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🌺"&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @Provide(FlowerService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"🌻"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW @Inject(FlowerService, SkipSelf)=&gt;"🌺"&gt;</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">        &lt;!-- With SkipSelf, the injector looks to the next injector up the tree (app-root) --&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>尽管 <code>&lt;app-child&gt;</code> 提供了向日葵 <code><span class="docs-emoji">🌻</span></code>，但应用渲染的是红色芙蓉花 <code><span class="docs-emoji">🌺</span></code>，因为 <code>skipSelf</code> 导致当前注入器 (<code>app-child</code>) 跳过自身并查找其父级。</p>
<p>如果现在添加 <code>host</code>（除了 <code>skipSelf</code> 之外），结果将为 <code>null</code>。
这是因为 <code>host</code> 将搜索的上限限制为 <code>app-child</code> 的 <code>&lt;#VIEW&gt;</code>。
以下是逻辑树中的概念：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @ApplicationConfig</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">        @<a href="/api/core/Inject">Inject</a>(FlowerService)</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> flower</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🌺"&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- end search here with null--&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @Provide(FlowerService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"🌻"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">)</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- start search here --&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW inject(FlowerService, {skipSelf: true, host: true, optional:true})=&gt;null&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-parent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>这里，服务及其值是相同的，但是 <code>host</code> 阻止注入器在 <code>&lt;#VIEW&gt;</code> 之外进一步查找 <code>FlowerService</code>，因此它找不到并返回 <code>null</code>。</p>

  <h3 id="skipself-and-viewproviders">
    <a href="#skipself-and-viewproviders" class="docs-anchor" tabindex="-1" aria-label="Link to <code>skipSelf</code> and <code>viewProviders</code>"><code>skipSelf</code> 和 <code>viewProviders</code></a>
  </h3>
  <p>请记住，<code>&lt;app-child&gt;</code> 在 <code>viewProviders</code> 数组中提供了 <code>AnimalService</code>，其值为小狗 <code><span class="docs-emoji">🐶</span></code>。
由于注入器只需要查看 <code>&lt;app-child&gt;</code> 的 <code>ElementInjector</code> 以查找 <code>AnimalService</code>，因此它永远不会看到鲸鱼 <code><span class="docs-emoji">🐳</span></code>。</p>
<p>与 <code>FlowerService</code> 示例中一样，如果将 <code>skipSelf</code> 添加到 <code>AnimalService</code> 的 <code>inject()</code> 中，则注入器将不会在当前 <code>&lt;app-child&gt;</code> 的 <code>ElementInjector</code> 中查找 <code>AnimalService</code>。
相反，注入器将从 <code>&lt;app-root&gt;</code> 的 <code>ElementInjector</code> 开始。</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-child'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  …</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  viewProviders: [</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    { provide: AnimalService, useValue: { emoji: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'🐶'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> } },</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  ],</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span></code></pre>
  </div><p>在 <code>&lt;app-child&gt;</code> 中使用 <code>skipSelf</code> 时，逻辑树看起来像这样：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @ApplicationConfig</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">          @<a href="/api/core/Inject">Inject</a>(AnimalService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🐳")&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- search begins here --&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW @Provide(AnimalService="🐶")</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">             @<a href="/api/core/Inject">Inject</a>(AnimalService, SkipSelf=&gt;"🐳")&gt;</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">        &lt;!--Add skipSelf --&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>在 <code>&lt;app-child&gt;</code> 中使用 <code>skipSelf</code> 时，注入器开始在 <code>&lt;app-root&gt;</code> 的 <code>ElementInjector</code> 中搜索 <code>AnimalService</code>，并找到鲸鱼 <code><span class="docs-emoji">🐳</span></code>。</p>

  <h3 id="host-and-viewproviders">
    <a href="#host-and-viewproviders" class="docs-anchor" tabindex="-1" aria-label="Link to <code>host</code> and <code>viewProviders</code>"><code>host</code> 和 <code>viewProviders</code></a>
  </h3>
  <p>如果你只使用 <code>host</code> 来注入 <code>AnimalService</code>，结果是小狗 <code><span class="docs-emoji">🐶</span></code>，因为注入器在 <code>&lt;app-child&gt;</code> 的 <code>&lt;#VIEW&gt;</code> 本身中找到了 <code>AnimalService</code>。
<code>ChildComponent</code> 配置了 <code>viewProviders</code>，以便将小狗表情符号作为 <code>AnimalService</code> 值提供。
你还可以看到 <code>host</code> 的 <code>inject()</code>：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-child'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  …</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  viewProviders: [</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    { provide: AnimalService, useValue: { emoji: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'🐶'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> } },</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  ]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ChildComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line highlighted"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  animal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(AnimalService, { host: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> })</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p><code>host: true</code> 导致注入器一直查找，直到遇到 <code>&lt;#VIEW&gt;</code> 的边缘。</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @ApplicationConfig</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">          @<a href="/api/core/Inject">Inject</a>(AnimalService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🐳")&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW @Provide(AnimalService="🐶")</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">             inject(AnimalService, {host: true}=&gt;"🐶")&gt; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">&lt;!-- host stops search here --&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>将第三种动物刺猬 <code><span class="docs-emoji">🦔</span></code> 添加到 <code>app.component.ts</code> 的 <a href="/api/core/Component"><code>@Component()</code></a> 元数据中的 <code>viewProviders</code> 数组：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-root'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  templateUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./app.component.html'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  styleUrls: [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./app.component.css'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ],</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  viewProviders: [</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    { provide: AnimalService, useValue: { emoji: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'🦔'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> } },</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  ],</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span></code></pre>
  </div><p>接下来，将 <code>skipSelf</code> 与 <code>host</code> 一起添加到 <code>child.component.ts</code> 中 <code>AnimalService</code> 注入的 <code>inject()</code> 中。
以下是 <code>animal</code> 属性初始化中的 <code>host</code> 和 <code>skipSelf</code>：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ChildComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  animal</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(AnimalService, { host: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, skipSelf: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> });</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><!-- TODO: This requires a rework. It seems not well explained what `viewProviders`/`injectors` is here
  and how `host` works.
 -->

<p>当 <code>host</code> 和 <code>skipSelf</code> 应用于 <code>providers</code> 数组中的 <code>FlowerService</code> 时，结果为 <code>null</code>，因为 <code>skipSelf</code> 在 <code>&lt;app-child&gt;</code> 注入器中开始搜索，但 <code>host</code> 在 <code>&lt;#VIEW&gt;</code> 处停止搜索——那里没有 <code>FlowerService</code>。
在逻辑树中，你可以看到 <code>FlowerService</code> 在 <code>&lt;app-child&gt;</code> 中是可见的，而不是在其 <code>&lt;#VIEW&gt;</code> 中。</p>
<p>但是，在 <code>AppComponent</code> 的 <code>viewProviders</code> 数组中提供的 <code>AnimalService</code> 是可见的。</p>
<p>逻辑树表示显示了原因：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> @ApplicationConfig</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">        @<a href="/api/core/Inject">Inject</a>(AnimalService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=&gt;"🐳")&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW @Provide(AnimalService="🦔")</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">         @<a href="/api/core/Inject">Inject</a>(AnimalService, @Optional)=&gt;"🦔"&gt;</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">    &lt;!-- ^^skipSelf starts here,  host stops here^^ --&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">#VIEW @Provide(AnimalService="🐶")</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">             inject(AnimalService, {skipSelf:true, host: true, optional: true})=&gt;"🦔"&gt;</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">               &lt;!-- Add skipSelf ^^--&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">      &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-child</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span><span class="line"><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic">  &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">/#VIEW&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">app-root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p><code>skipSelf</code> 导致注入器在 <code>&lt;app-root&gt;</code> 而不是请求发起的 <code>&lt;app-child&gt;</code> 处开始搜索 <code>AnimalService</code>，而 <code>host</code> 会在 <code>&lt;app-root&gt;</code> <code>&lt;#VIEW&gt;</code> 处停止搜索。
由于 <code>AnimalService</code> 是通过 <code>viewProviders</code> 数组提供的，因此注入器在 <code>&lt;#VIEW&gt;</code> 中找到了 hedgehog <code><span class="docs-emoji">🦔</span></code>。</p>

  <h2 id="example-elementinjector-use-cases">
    <a href="#example-elementinjector-use-cases" class="docs-anchor" tabindex="-1" aria-label="Link to Example: <code>ElementInjector</code> use cases">范例：<code>ElementInjector</code> 用例</a>
  </h2>
  <p>在不同级别配置一个或多个提供者的能力开辟了有用的可能性。</p>

  <h3 id="scenario-service-isolation">
    <a href="#scenario-service-isolation" class="docs-anchor" tabindex="-1" aria-label="Link to Scenario: service isolation">场景：服务隔离</a>
  </h3>
  <p>架构方面的原因可能会导致你限制对服务的访问，使其只能在它所属的应用域内访问。
例如，假设我们构建了一个 <code>VillainsListComponent</code>，用于显示恶棍列表。
它从 <code>VillainsService</code> 获取这些恶棍。</p>
<p>如果在根 <code>AppModule</code> 中提供 <code>VillainsService</code>，它将使 <code>VillainsService</code> 在应用的任何地方都可见。
如果你稍后修改 <code>VillainsService</code>，你可能会破坏其他组件中的某些内容，这些组件可能在不经意间开始依赖此服务。</p>
<p>相反，你应该像这样在 <code>VillainsListComponent</code> 的 <code>providers</code> 元数据中提供 <code>VillainsService</code>：</p>
<div class="docs-code" header="src/app/villains-list.component.ts (metadata)">
    <div class="docs-code-header"><h3>src/app/villains-list.component.ts (元数据)</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-villains-list'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  templateUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./villains-list.component.html'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line highlighted"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providers: [VillainsService]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> VillainsListComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {}</span></span></code></pre>
  </div><p>通过在 <code>VillainsListComponent</code> 元数据中提供 <code>VillainsService</code> 且不在其他任何地方提供，该服务仅在 <code>VillainsListComponent</code> 及其子组件树中可用。</p>
<p><code>VillainService</code> 相对于 <code>VillainsListComponent</code> 是单例的，因为正是在那里声明的。
只要 <code>VillainsListComponent</code> 没有被销毁，它将是 <code>VillainService</code> 的同一个实例，但是如果存在 <code>VillainsListComponent</code> 的多个实例，则 <code>VillainsListComponent</code> 的每个实例都将拥有自己的 <code>VillainService</code> 实例。</p>

  <h3 id="scenario-multiple-edit-sessions">
    <a href="#scenario-multiple-edit-sessions" class="docs-anchor" tabindex="-1" aria-label="Link to Scenario: multiple edit sessions">场景：多个编辑会话</a>
  </h3>
  <p>许多应用允许用户同时处理多个打开的任务。
例如，在税务准备应用中，准备人员可以处理多个纳税申报表，并在一天中在它们之间切换。</p>
<p>为了演示该场景，请想象一个 <code>HeroListComponent</code>，它显示超级英雄的列表。</p>
<p>要打开英雄的纳税申报表，准备人员单击英雄姓名，这将打开一个组件来编辑该申报表。
每个选定的英雄纳税申报表都在其自己的组件中打开，并且可以同时打开多个申报表。</p>
<p>每个纳税申报表组件都具有以下特征：</p>

  <ul class="docs-list">
    <li>是其自己的纳税申报表编辑会话</li>
<li>可以更改纳税申报表，而不会影响另一个组件中的申报表</li>
<li>能够保存对其纳税申报表的更改或取消它们</li>

  </ul>
  <p>假设 <code>HeroTaxReturnComponent</code> 具有管理和恢复更改的逻辑。
对于英雄纳税申报表来说，这将是一项简单的任务。
但在现实世界中，对于具有丰富纳税申报表数据模型的应用，变更管理将非常棘手。
你可以将该管理委托给辅助服务，如本例所示。</p>
<p><code>HeroTaxReturnService</code> 缓存单个 <code>HeroTaxReturn</code>，跟踪对该申报表的更改，并且可以保存或恢复它。
它还委托给应用范围内的单例 <code>HeroService</code>，它通过依赖注入获得该服务。</p>
<div class="docs-code" header="src/app/hero-tax-return.service.ts">
    <div class="docs-code-header"><h3>src/app/hero-tax-return.service.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { <a href="/api/core/Injectable">Injectable</a> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/core'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { HeroTaxReturn } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> './hero'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { HeroesService } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> './heroes.service'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Injectable">Injectable</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">()</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> HeroTaxReturnService</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  private</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> currentTaxReturn</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">!:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> HeroTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  private</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> originalTaxReturn</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">!:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> HeroTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  private</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> heroService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(HeroesService);</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  set</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> taxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">htr</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> HeroTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.originalTaxReturn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> htr;</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.currentTaxReturn  </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> htr.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">clone</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  get</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> taxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> HeroTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.currentTaxReturn;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  restoreTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() {</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.taxReturn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.originalTaxReturn;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  saveTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() {</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.taxReturn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.currentTaxReturn;</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.heroService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">saveTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.currentTaxReturn).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p>这是使用 <code>HeroTaxReturnService</code> 的 <code>HeroTaxReturnComponent</code>。</p>
<div class="docs-code" header="src/app/hero-tax-return.component.ts">
    <div class="docs-code-header"><h3>src/app/hero-tax-return.component.ts</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { <a href="/api/core/Component">Component</a>, EventEmitter, input, output } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/core'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { HeroTaxReturn } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> './hero'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { HeroTaxReturnService } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> './hero-tax-return.service'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Component">Component</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  selector: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'app-hero-tax-return'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  templateUrl: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./hero-tax-return.component.html'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  styleUrls: [ </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'./hero-tax-return.component.css'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ],</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  providers: [ HeroTaxReturnService ]</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">export</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> HeroTaxReturnComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  message</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ''</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  close</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/core/output">output</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;();</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  get</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> taxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> HeroTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.heroTaxReturnService.taxReturn;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  taxReturn</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> <a href="/api/core/input">input</a>.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">required</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">HeroTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;();</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() {</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">    <a href="/api/core/effect">effect</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">      this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.heroTaxReturnService.taxReturn </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">taxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    })</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  private</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> heroTaxReturnService</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> inject</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(HeroTaxReturnService);</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  onCanceled</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">()  {</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">flashMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'Canceled'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.heroTaxReturnService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">restoreTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  onClose</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() { </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.close.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">emit</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(); }</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  onSaved</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() {</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">flashMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'Saved'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.heroTaxReturnService.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">saveTaxReturn</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  flashMessage</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">msg</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">    this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.message </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> msg;</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">    setTimeout</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.message </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> ''</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">500</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">);</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div><p><em>待编辑的报税表</em>通过 <a href="/api/core/input"><code>input</code></a> 属性传入，该属性通过 getter 和 setter 实现。
setter 使用传入的报税表初始化组件自身的 <code>HeroTaxReturnService</code> 实例。
getter 始终返回该服务所说的英雄的当前状态。
组件还要求服务保存和恢复此报税表。</p>
<p>如果该服务是应用范围内的单例，这将不起作用。
每个组件都将共享同一个服务实例，并且每个组件都将覆盖属于另一个英雄的纳税申报表。</p>
<p>为了防止这种情况，请配置 <code>HeroTaxReturnComponent</code> 的组件级注入器以提供该服务，方法是在组件元数据中使用 <code>providers</code> 属性。</p>
<div class="docs-code" header="src/app/hero-tax-return.component.ts (providers)">
    <div class="docs-code-header"><h3>src/app/hero-tax-return.component.ts (提供者)</h3></div>
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">providers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: [HeroTaxReturnService]</span></span></code></pre>
  </div><p><code>HeroTaxReturnComponent</code> 组件有自己的 <code>HeroTaxReturnService</code> 提供者。
回想一下，每个组件<em>实例</em>都有自己的注入器。
在组件级别提供此服务可确保组件的<em>每个</em>实例都获得该服务的私有实例。这样可以确保不会覆盖任何纳税申报表。</p>

    <div class="docs-alert docs-alert-helpful">
    <p><strong>提示：</strong> 场景代码的其余部分依赖于其他 Angular 特性和技术，你可以在文档的其他地方了解它们。</p>

    </div>
    
  <h3 id="scenario-specialized-providers">
    <a href="#scenario-specialized-providers" class="docs-anchor" tabindex="-1" aria-label="Link to Scenario: specialized providers">场景：专用提供者</a>
  </h3>
  <p>在另一个级别再次提供服务的另一个原因是，为了在组件树的更深层替换该服务的<em>更专用</em>实现。</p>
<p>例如，考虑一个 <code>Car</code> 组件，它包含轮胎服务信息，并依赖于其他服务来提供关于汽车的更多详情。</p>
<p>根注入器（标记为 A）对关于 <code>CarService</code> 和 <code>EngineService</code> 的详情使用了<em>通用</em>提供者。</p>

    <ol class="docs-ordered-list">
      <li><p><code>Car</code> 组件 (A)。组件 (A) 显示关于汽车的轮胎服务数据，并指定通用服务以提供关于汽车的更多信息。</p>
</li>
<li><p>子组件 (B)。组件 (B) 为 <code>CarService</code> 和 <code>EngineService</code> 定义了自己的<em>专用</em>提供者，这些提供者具有适用于组件 (B) 中正在发生的事情的特殊功能。</p>
</li>
<li><p>子组件 (C) 作为组件 (B) 的子组件。组件 (C) 为 <code>CarService</code> 定义了它自己的，甚至<em>更专用</em>的提供者。</p>
</li>

    </ol>
    <svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 316.890625 240" style="max-width: 316.890625px;" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-generated-diagram .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:1px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram p{margin:0;}#mermaid-generated-diagram .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-generated-diagram .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span p{background-color:transparent;}#mermaid-generated-diagram .label text,#mermaid-generated-diagram span{fill:#333;color:#333;}#mermaid-generated-diagram .node rect,#mermaid-generated-diagram .node circle,#mermaid-generated-diagram .node ellipse,#mermaid-generated-diagram .node polygon,#mermaid-generated-diagram .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .rough-node .label text,#mermaid-generated-diagram .node .label text,#mermaid-generated-diagram .image-shape .label,#mermaid-generated-diagram .icon-shape .label{text-anchor:middle;}#mermaid-generated-diagram .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-generated-diagram .rough-node .label,#mermaid-generated-diagram .node .label,#mermaid-generated-diagram .image-shape .label,#mermaid-generated-diagram .icon-shape .label{text-align:center;}#mermaid-generated-diagram .node.clickable{cursor:pointer;}#mermaid-generated-diagram .root .anchor path{fill:#0b0b0b!important;stroke-width:0;stroke:#0b0b0b;}#mermaid-generated-diagram .arrowheadPath{fill:#0b0b0b;}#mermaid-generated-diagram .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#mermaid-generated-diagram .flowchart-link{stroke:#0b0b0b;fill:none;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#mermaid-generated-diagram .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster span{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-generated-diagram .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram rect.text{fill:none;stroke-width:0;}#mermaid-generated-diagram .icon-shape,#mermaid-generated-diagram .image-shape{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .icon-shape p,#mermaid-generated-diagram .image-shape p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);padding:2px;}#mermaid-generated-diagram .icon-shape rect,#mermaid-generated-diagram .image-shape rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-generated-diagram .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}#mermaid-generated-diagram .noShadow>*{filter:none!important;}#mermaid-generated-diagram .noShadow span{filter:none!important;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(0, 0)" class="root"><g class="clusters"><g data-look="classic" id="COMPONENT_A" class="cluster noShadow"><rect height="224" width="300.890625" y="8" x="8" style="filter:none !important;fill:#BDD7EE !important"></rect><g transform="translate(111.0078125, 8)" class="cluster-label"><foreignObject height="24" width="94.875"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Component A</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(37.5, 35)" class="root"><g class="clusters"><g data-look="classic" id="COMPONENT_B" class="cluster noShadow"><rect height="154" width="225.890625" y="8" x="8" style="filter:none !important;fill:#FFE699 !important"></rect><g transform="translate(73.2578125, 8)" class="cluster-label"><foreignObject height="24" width="95.375"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>Component B</p></span></div></foreignObject></g></g></g><g class="edgePaths"></g><g class="edgeLabels"></g><g class="nodes"><g transform="translate(120.9453125, 85)" id="flowchart-COMPONENT_C-0" class="node default noShadow"><rect height="54" width="155.890625" y="-27" x="-77.9453125" style="filter:none !important;fill:#A9D18E !important" class="basic label-container"></rect><g transform="translate(-47.9453125, -12)" style="color:#000 !important" class="label"><rect></rect><foreignObject height="24" width="95.890625"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel" style="color:#000 !important"><p>Component C</p></span></div></foreignObject></g></g></g></g></g></g></g></g></g></svg><p>在幕后，每个组件都建立了自己的注入器，其中包含为该组件自身定义的零个、一个或多个提供者。</p>
<p>当你在最深层的组件 (C) 中求解 <code>Car</code> 的实例时，它的注入器会产生：</p>

  <ul class="docs-list">
    <li>由注入器 (C) 求解的 <code>Car</code> 实例</li>
<li>由注入器 (B) 求解的 <code>Engine</code></li>
<li>它的 <code>Tires</code> 由根注入器 (A) 求解。</li>

  </ul>
  <svg aria-roledescription="flowchart-v2" role="graphics-document document" viewBox="0 0 585.09375 580" style="max-width: 585.09375px;" class="flowchart" xmlns="http://www.w3.org/2000/svg" width="100%" id="mermaid-generated-diagram"><style>#mermaid-generated-diagram{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;fill:#333;}@keyframes edge-animation-frame{from{stroke-dashoffset:0;}}@keyframes dash{to{stroke-dashoffset:0;}}#mermaid-generated-diagram .edge-animation-slow{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 50s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .edge-animation-fast{stroke-dasharray:9,5!important;stroke-dashoffset:900;animation:dash 20s linear infinite;stroke-linecap:round;}#mermaid-generated-diagram .error-icon{fill:hsl(220.5882352941, 100%, 98.3333333333%);}#mermaid-generated-diagram .error-text{fill:rgb(8.5000000002, 5.7500000001, 0);stroke:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .edge-thickness-normal{stroke-width:1px;}#mermaid-generated-diagram .edge-thickness-thick{stroke-width:3.5px;}#mermaid-generated-diagram .edge-pattern-solid{stroke-dasharray:0;}#mermaid-generated-diagram .edge-thickness-invisible{stroke-width:0;fill:none;}#mermaid-generated-diagram .edge-pattern-dashed{stroke-dasharray:3;}#mermaid-generated-diagram .edge-pattern-dotted{stroke-dasharray:2;}#mermaid-generated-diagram .marker{fill:#0b0b0b;stroke:#0b0b0b;}#mermaid-generated-diagram .marker.cross{stroke:#0b0b0b;}#mermaid-generated-diagram svg{font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:16px;}#mermaid-generated-diagram p{margin:0;}#mermaid-generated-diagram .label{font-family:"trebuchet ms",verdana,arial,sans-serif;color:#333;}#mermaid-generated-diagram .cluster-label text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster-label span p{background-color:transparent;}#mermaid-generated-diagram .label text,#mermaid-generated-diagram span{fill:#333;color:#333;}#mermaid-generated-diagram .node rect,#mermaid-generated-diagram .node circle,#mermaid-generated-diagram .node ellipse,#mermaid-generated-diagram .node polygon,#mermaid-generated-diagram .node path{fill:#fff4dd;stroke:hsl(40.5882352941, 60%, 83.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .rough-node .label text,#mermaid-generated-diagram .node .label text,#mermaid-generated-diagram .image-shape .label,#mermaid-generated-diagram .icon-shape .label{text-anchor:middle;}#mermaid-generated-diagram .node .katex path{fill:#000;stroke:#000;stroke-width:1px;}#mermaid-generated-diagram .rough-node .label,#mermaid-generated-diagram .node .label,#mermaid-generated-diagram .image-shape .label,#mermaid-generated-diagram .icon-shape .label{text-align:center;}#mermaid-generated-diagram .node.clickable{cursor:pointer;}#mermaid-generated-diagram .root .anchor path{fill:#0b0b0b!important;stroke-width:0;stroke:#0b0b0b;}#mermaid-generated-diagram .arrowheadPath{fill:#0b0b0b;}#mermaid-generated-diagram .edgePath .path{stroke:#0b0b0b;stroke-width:2.0px;}#mermaid-generated-diagram .flowchart-link{stroke:#0b0b0b;fill:none;}#mermaid-generated-diagram .edgeLabel{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .edgeLabel p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .edgeLabel rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .labelBkg{background-color:rgba(243.9999999999, 220.9999999998, 255, 0.5);}#mermaid-generated-diagram .cluster rect{fill:hsl(220.5882352941, 100%, 98.3333333333%);stroke:hsl(220.5882352941, 60%, 88.3333333333%);stroke-width:1px;}#mermaid-generated-diagram .cluster text{fill:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram .cluster span{color:rgb(8.5000000002, 5.7500000001, 0);}#mermaid-generated-diagram div.mermaidTooltip{position:absolute;text-align:center;max-width:200px;padding:2px;font-family:"trebuchet ms",verdana,arial,sans-serif;font-size:12px;background:hsl(220.5882352941, 100%, 98.3333333333%);border:1px solid hsl(220.5882352941, 60%, 88.3333333333%);border-radius:2px;pointer-events:none;z-index:100;}#mermaid-generated-diagram .flowchartTitleText{text-anchor:middle;font-size:18px;fill:#333;}#mermaid-generated-diagram rect.text{fill:none;stroke-width:0;}#mermaid-generated-diagram .icon-shape,#mermaid-generated-diagram .image-shape{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);text-align:center;}#mermaid-generated-diagram .icon-shape p,#mermaid-generated-diagram .image-shape p{background-color:hsl(-79.4117647059, 100%, 93.3333333333%);padding:2px;}#mermaid-generated-diagram .icon-shape rect,#mermaid-generated-diagram .image-shape rect{opacity:0.5;background-color:hsl(-79.4117647059, 100%, 93.3333333333%);fill:hsl(-79.4117647059, 100%, 93.3333333333%);}#mermaid-generated-diagram .label-icon{display:inline-block;height:1em;overflow:visible;vertical-align:-0.125em;}#mermaid-generated-diagram .node .label-icon path{fill:currentColor;stroke:revert;stroke-width:revert;}#mermaid-generated-diagram :root{--mermaid-font-family:"trebuchet ms",verdana,arial,sans-serif;}</style><g><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-pointEnd"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 0 L 10 5 L 0 10 z"></path></marker><marker orient="auto" markerHeight="8" markerWidth="8" markerUnits="userSpaceOnUse" refY="5" refX="4.5" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-pointStart"><path style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 0 5 L 10 10 L 10 0 z"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="11" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-circleEnd"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5" refX="-1" viewBox="0 0 10 10" class="marker flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-circleStart"><circle style="stroke-width: 1; stroke-dasharray: 1, 0;" class="arrowMarkerPath" r="5" cy="5" cx="5"></circle></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="12" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-crossEnd"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><marker orient="auto" markerHeight="11" markerWidth="11" markerUnits="userSpaceOnUse" refY="5.2" refX="-1" viewBox="0 0 11 11" class="marker cross flowchart-v2" id="mermaid-generated-diagram_flowchart-v2-crossStart"><path style="stroke-width: 2; stroke-dasharray: 1, 0;" class="arrowMarkerPath" d="M 1,1 l 9,9 M 10,1 l -9,9"></path></marker><g class="root"><g class="clusters"><g data-look="classic" id="C" class="cluster noShadow"><rect height="104" width="443.796875" y="364" x="12.7890625" style=""></rect><g transform="translate(234.6875, 364)" class="cluster-label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject></g></g><g data-look="classic" id="B" class="cluster noShadow"><rect height="128" width="569.09375" y="186" x="8" style=""></rect><g transform="translate(292.546875, 186)" class="cluster-label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject></g></g><g data-look="classic" id="A" class="cluster noShadow"><rect height="128" width="555.046875" y="8" x="15.0234375" style=""></rect><g transform="translate(292.546875, 8)" class="cluster-label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"></span></div></foreignObject></g></g></g><g class="edgePaths"><path marker-end="url(#mermaid-generated-diagram_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_car_ChildInjector_0" d="M137.547,518L137.547,513.833C137.547,509.667,137.547,501.333,137.547,493C137.547,484.667,137.547,476.333,137.547,468.667C137.547,461,137.547,454,137.547,450.5L137.547,447"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ChildInjector_ParentInjector_0" d="M137.547,389L137.547,384.833C137.547,380.667,137.547,372.333,137.547,364C137.547,355.667,137.547,347.333,137.547,339C137.547,330.667,137.547,322.333,137.547,312.667C137.547,303,137.547,292,137.547,286.5L137.547,281"></path><path marker-end="url(#mermaid-generated-diagram_flowchart-v2-pointEnd)" style="" class="edge-thickness-normal edge-pattern-solid edge-thickness-normal edge-pattern-solid flowchart-link" id="L_ParentInjector_RootInjector_0" d="M137.547,223L137.547,216.833C137.547,210.667,137.547,198.333,137.547,188C137.547,177.667,137.547,169.333,137.547,161C137.547,152.667,137.547,144.333,137.547,134.667C137.547,125,137.547,114,137.547,108.5L137.547,103"></path></g><g class="edgeLabels"><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g><g class="edgeLabel"><g transform="translate(0, 0)" class="label"><foreignObject height="0" width="0"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" class="labelBkg" xmlns="http://www.w3.org/1999/xhtml"><span class="edgeLabel"></span></div></foreignObject></g></g></g><g class="nodes"><g transform="translate(137.546875, 72)" id="flowchart-RootInjector-0" class="node default noShadow"><rect height="54" width="175.046875" y="-27" x="-87.5234375" style="fill:#BDD7EE !important" class="basic label-container"></rect><g transform="translate(-57.5234375, -12)" style="color:#000 !important" class="label"><rect></rect><foreignObject height="24" width="115.046875"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel" style="color:#000 !important"><p>(A) RootInjector</p></span></div></foreignObject></g></g><g transform="translate(405.0703125, 72)" id="flowchart-ServicesA-1" class="node default noShadow"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>CarService, EngineService, TiresService</p></span></div></foreignObject></g></g><g transform="translate(137.546875, 250)" id="flowchart-ParentInjector-2" class="node default noShadow"><rect height="54" width="189.09375" y="-27" x="-94.546875" style="fill:#FFE699 !important" class="basic label-container"></rect><g transform="translate(-64.546875, -12)" style="color:#000 !important" class="label"><rect></rect><foreignObject height="24" width="129.09375"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel" style="color:#000 !important"><p>(B) ParentInjector</p></span></div></foreignObject></g></g><g transform="translate(412.09375, 250)" id="flowchart-ServicesB-3" class="node default noShadow"><rect height="78" width="260" y="-39" x="-130" style="" class="basic label-container"></rect><g transform="translate(-100, -24)" style="" class="label"><rect></rect><foreignObject height="48" width="200"><div style="display: table; white-space: break-spaces; line-height: 1.5; max-width: 200px; text-align: center; width: 200px;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>CarService2, EngineService2</p></span></div></foreignObject></g></g><g transform="translate(137.546875, 416)" id="flowchart-ChildInjector-4" class="node default noShadow"><rect height="54" width="179.515625" y="-27" x="-89.7578125" style="fill:#A9D18E !important" class="basic label-container"></rect><g transform="translate(-59.7578125, -12)" style="color:#000 !important" class="label"><rect></rect><foreignObject height="24" width="119.515625"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel" style="color:#000 !important"><p>(C) ChildInjector</p></span></div></foreignObject></g></g><g transform="translate(349.4453125, 416)" id="flowchart-ServicesC-5" class="node default noShadow"><rect height="54" width="144.28125" y="-27" x="-72.140625" style="" class="basic label-container"></rect><g transform="translate(-42.140625, -12)" style="" class="label"><rect></rect><foreignObject height="24" width="84.28125"><div style="display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;" xmlns="http://www.w3.org/1999/xhtml"><span class="nodeLabel"><p>CarService3</p></span></div></foreignObject></g></g><g transform="translate(137.546875, 545)" id="flowchart-car-6" class="node default noShadow"><rect height="54" width="110.34375" y="-27" x="-55.171875" style="fill:#A9D18E !important" class="basic label-container"></rect><g transform="translate(-25.171875, -12)" style="color:#000 !important" class="label"><rect></rect><foreignObject height="24" width="50.34375"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel" style="color:#000 !important"><p>(C) Car</p></span></div></foreignObject></g></g><g transform="translate(309.21875, 545)" id="flowchart-engine-7" class="node default noShadow"><rect height="54" width="133" y="-27" x="-66.5" style="fill:#FFE699 !important" class="basic label-container"></rect><g transform="translate(-36.5, -12)" style="color:#000 !important" class="label"><rect></rect><foreignObject height="24" width="73"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel" style="color:#000 !important"><p>(B) Engine</p></span></div></foreignObject></g></g><g transform="translate(485.8828125, 545)" id="flowchart-tires-8" class="node default noShadow"><rect height="54" width="120.328125" y="-27" x="-60.1640625" style="fill:#BDD7EE !important" class="basic label-container"></rect><g transform="translate(-30.1640625, -12)" style="color:#000 !important" class="label"><rect></rect><foreignObject height="24" width="60.328125"><div xmlns="http://www.w3.org/1999/xhtml" style="color: rgb(0, 0, 0) !important; display: table-cell; white-space: nowrap; line-height: 1.5; max-width: 200px; text-align: center;"><span class="nodeLabel" style="color:#000 !important"><p>(A) Tires</p></span></div></foreignObject></g></g></g></g></g></svg>
  <h2 id="more-on-dependency-injection">
    <a href="#more-on-dependency-injection" class="docs-anchor" tabindex="-1" aria-label="Link to More on dependency injection">更多关于依赖注入的内容</a>
  </h2>
  
    <nav class="docs-pill-row">
      
    <a class="docs-pill" href="/guide/di/dependency-injection-providers">DI 提供者</a>
    

    </nav>
    