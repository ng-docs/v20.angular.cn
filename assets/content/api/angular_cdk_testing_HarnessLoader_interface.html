<div class="docs-api"><header class="docs-reference-header"><span class="docs-reference-category">@angular/cdk/testing</span><div class="docs-reference-title"><div><h1>HarnessLoader</h1><div class="docs-api-item-label type-interface full">interface</div></div><a class="docs-github-links" target="_blank" href="https://github.com/angular/components/blob/main/src/cdk/testing/component-harness.ts#L81-L156" title="View source" aria-label="View source"><i role="presentation" aria-hidden="true" class="material-symbols-outlined">code</i></a></div><section class="docs-reference-description"><p>Interface used to load ComponentHarness objects. This interface is used by test authors to
instantiate <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a>es.</p></section></header><div class="docs-reference-section docs-reference-api-section"><h2 id="api" class="docs-reference-section-heading"><a href="#api" aria-label="Link to API section" tabindex="-1">API</a></h2><div class="docs-code"><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0">
    <code>
      <span class="line "><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><button aria-describedby="jump-msg" type="button" class="line " member-id="getChildLoader"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  getChildLoader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">selector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="getAllChildLoaders"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  getAllChildLoaders</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">selector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[]>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="getHarness"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  getHarness</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/ComponentHarness">ComponentHarness</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="getHarnessOrNull"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  getHarnessOrNull</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/ComponentHarness">ComponentHarness</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="getHarnessAtIndex"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  getHarnessAtIndex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/ComponentHarness">ComponentHarness</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">index</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="getAllHarnesses"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  getAllHarnesses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/ComponentHarness">ComponentHarness</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[]>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="countHarnesses"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  countHarnesses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/ComponentHarness">ComponentHarness</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="hasHarness"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  hasHarness</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/ComponentHarness">ComponentHarness</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>;</span></button><span class="line "><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span>
    </code>
    </pre></div></div><div class="docs-reference-members"><div class="docs-reference-members"><div id="getChildLoader" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>getChildLoader</h3><code>Promise&lt;<a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a>></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Searches for an element with the given selector under the current instances's root element,
and returns a <a href="/api/cdk/testing/HarnessLoader"><code>HarnessLoader</code></a> rooted at the matching element. If multiple elements match the
selector, the first is used. If no elements match, an error is thrown.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">selector</span><code>string</code><div class="docs-parameter-description"><p>The selector for the root element of the new <a href="/api/cdk/testing/HarnessLoader"><code>HarnessLoader</code></a></p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;<a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a>></code></div></div></div></div><div id="getAllChildLoaders" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>getAllChildLoaders</h3><code>Promise&lt;<a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a>[]></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Searches for all elements with the given selector under the current instances's root element,
and returns an array of <a href="/api/cdk/testing/HarnessLoader"><code>HarnessLoader</code></a>s, one for each matching element, rooted at that
element.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">selector</span><code>string</code><div class="docs-parameter-description"><p>The selector for the root element of the new <a href="/api/cdk/testing/HarnessLoader"><code>HarnessLoader</code></a></p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;<a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a>[]></code></div></div></div></div><div id="getHarness" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>getHarness</h3><code>Promise&lt;T></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Searches for an instance of the component corresponding to the given harness type under the
<a href="/api/cdk/testing/HarnessLoader"><code>HarnessLoader</code></a>'s root element, and returns a <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a> for that instance. If multiple
matching components are found, a harness for the first one is returned. If no matching
component is found, an error is thrown.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">query</span><code><a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a>&lt;T></code><div class="docs-parameter-description"><p>A query for a harness to create</p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;T></code></div></div></div></div><div id="getHarnessOrNull" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>getHarnessOrNull</h3><code>Promise&lt;T | null></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Searches for an instance of the component corresponding to the given harness type under the
<a href="/api/cdk/testing/HarnessLoader"><code>HarnessLoader</code></a>'s root element, and returns a <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a> for that instance. If multiple
matching components are found, a harness for the first one is returned. If no matching
component is found, null is returned.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">query</span><code><a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a>&lt;T></code><div class="docs-parameter-description"><p>A query for a harness to create</p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;T | null></code></div></div></div></div><div id="getHarnessAtIndex" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>getHarnessAtIndex</h3><code>Promise&lt;T></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Searches for an instance of the component corresponding to the given harness type under the
<a href="/api/cdk/testing/HarnessLoader"><code>HarnessLoader</code></a>'s root element, and returns a <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a> for the instance on the page
at the given index. If no matching component exists at that index, an error is thrown.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">query</span><code><a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a>&lt;T></code><div class="docs-parameter-description"><p>A query for a harness to create</p></div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">index</span><code>number</code><div class="docs-parameter-description"><p>The zero-indexed offset of the matching component instance to return</p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;T></code></div></div></div></div><div id="getAllHarnesses" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>getAllHarnesses</h3><code>Promise&lt;T[]></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Searches for all instances of the component corresponding to the given harness type under the
<a href="/api/cdk/testing/HarnessLoader"><code>HarnessLoader</code></a>'s root element, and returns a list <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a> for each instance.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">query</span><code><a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a>&lt;T></code><div class="docs-parameter-description"><p>A query for a harness to create</p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;T[]></code></div></div></div></div><div id="countHarnesses" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>countHarnesses</h3><code>Promise&lt;number></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Searches for all instances of the component corresponding to the given harness type under the
<a href="/api/cdk/testing/HarnessLoader"><code>HarnessLoader</code></a>'s root element, and returns the total count of all matching components.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">query</span><code><a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a>&lt;T></code><div class="docs-parameter-description"><p>A query for a harness to create</p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;number></code></div></div></div></div><div id="hasHarness" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>hasHarness</h3><code>Promise&lt;boolean></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Searches for an instance of the component corresponding to the given harness type under the
<a href="/api/cdk/testing/HarnessLoader"><code>HarnessLoader</code></a>'s root element, and returns a boolean indicating if any were found.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">query</span><code><a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a>&lt;T></code><div class="docs-parameter-description"><p>A query for a harness to create</p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;boolean></code></div></div></div></div></div></div></div>