<div class="docs-api"><header class="docs-reference-header"><span class="docs-reference-category">@angular/router</span><div class="docs-reference-title"><div><h1>ExtraOptions</h1><div class="docs-api-item-label type-interface full">interface</div><div class="docs-api-item-label type-stable full">stable</div></div><a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/blob/main/packages/router/src/router_config.ts#L187-L254" title="View source" aria-label="View source"><i role="presentation" aria-hidden="true" class="material-symbols-outlined">代码</i></a></div><section class="docs-reference-description"><p>路由器模块的一组配置选项，在 <code>forRoot()</code> 方法中提供。</p></section><nav class="docs-pill-row"><a class="docs-pill" href="/api/router/routerModule#forRoot">forRoot</a></nav></header><div class="docs-reference-section docs-reference-api-section"><h2 id="api" class="docs-reference-section-heading"><a href="#api" aria-label="Link to API section" tabindex="-1">API</a></h2><div class="docs-code"><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0">    <code>
      <span class="line "><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/router/ExtraOptions">ExtraOptions</a></span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/router/InMemoryScrollingOptions">InMemoryScrollingOptions</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><button aria-describedby="jump-msg" type="button" class="line " member-id="enableTracing"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  enableTracing</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="useHash"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  useHash</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="initialNavigation"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  initialNavigation</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/router/InitialNavigation">InitialNavigation</a></span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="bindToComponentInputs"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  bindToComponentInputs</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="enableViewTransitions"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  enableViewTransitions</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="errorHandler"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  errorHandler</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">error</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="preloadingStrategy"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  preloadingStrategy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="scrollOffset"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  scrollOffset</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">] </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (() </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="anchorScrolling"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  override</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> anchorScrolling</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "disabled"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "enabled"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="scrollPositionRestoration"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  override</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> scrollPositionRestoration</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "disabled"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "enabled"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "top"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="canceledNavigationResolution"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  override</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> canceledNavigationResolution</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "replace"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "computed"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="onSameUrlNavigation"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  override</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> onSameUrlNavigation</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/router/OnSameUrlNavigation">OnSameUrlNavigation</a></span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="paramsInheritanceStrategy"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  override</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> paramsInheritanceStrategy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "emptyOnly"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "always"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="urlUpdateStrategy"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  override</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> urlUpdateStrategy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "deferred"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "eager"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="defaultQueryParamsHandling"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  override</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> defaultQueryParamsHandling</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/router/QueryParamsHandling">QueryParamsHandling</a></span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="resolveNavigationPromiseOnError"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  override</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> resolveNavigationPromiseOnError</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><span class="line "><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span>
    </code>
    </pre></div></div><div class="docs-reference-members"><div class="docs-reference-members"><div id="enableTracing" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>enableTracing</h3><code>boolean | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>为 true 时，将所有内部导航事件记录到控制台。
用于调试。</p></div></div></div></div><div id="useHash" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>useHash</h3><code>boolean | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>为 true 时，启用使用 URL 片段而不是 history API 的位置策略。</p></div></div></div></div><div id="initialNavigation" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>initialNavigation</h3><code><a href="/api/router/InitialNavigation">InitialNavigation</a> | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p><code>enabled</code>、<code>enabledBlocking</code>、<code>enabledNonBlocking</code> 或 <code>disabled</code> 之一。
当设置为 <code>enabled</code> 或 <code>enabledBlocking</code> 时，初始导航在根组件创建之前开始。引导程序会被阻塞，直到初始导航完成。如果你使用<a href="guide/ssr">服务器端渲染</a>，但没有为你的应用启用<a href="guide/hydration">水合</a>，则应设置此值。当设置为 <code>enabledNonBlocking</code> 时，初始导航在根组件创建之后开始。
引导程序不会因初始导航完成而被阻塞。当设置为 <code>disabled</code> 时，不执行初始导航。位置监听器在根组件创建之前设置。如果由于某些复杂的初始化逻辑而需要更好地控制路由器何时启动其初始导航，请使用此选项。</p></div></div></div></div><div id="bindToComponentInputs" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>bindToComponentInputs</h3><code>boolean | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>为 true 时，启用将信息从 <a href="/api/router/Router"><code>Router</code></a> 状态直接绑定到 <a href="/api/router/Route"><code>Route</code></a> 配置中的组件的输入。</p></div></div></div></div><div id="enableViewTransitions" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>enableViewTransitions</h3><code>boolean | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>为 true 时，通过在 <code>document.startViewTransition</code> 内部运行路由激活和停用，在路由器中启用视图过渡。</p></div></div></div></div><div id="errorHandler" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>errorHandler</h3><code>((error: any) =&gt; any) | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>用于失败导航的自定义错误处理程序。
如果处理程序返回值，则导航 Promise 将以此值求解。
如果处理程序抛出异常，则导航 Promise 将以该异常被拒绝。</p></div></div></div></div><div id="preloadingStrategy" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>preloadingStrategy</h3><code>any</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>配置预加载策略。
是 <a href="/api/router/PreloadAllModules"><code>PreloadAllModules</code></a> 或 <a href="/api/router/NoPreloading"><code>NoPreloading</code></a>（默认值）之一。</p></div></div></div></div><div id="scrollOffset" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>scrollOffset</h3><code>[number, number] | (() =&gt; [number, number]) | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>配置路由器在滚动到元素时将使用的滚动偏移量。</p>
<p>当给定一个带有 x 和 y 位置值的元组时，
路由器每次滚动时都会使用该偏移量。
当给定一个函数时，路由器每次都会调用该函数
它恢复滚动位置。</p></div></div></div></div><div id="anchorScrolling" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>anchorScrolling</h3><code>"disabled" | "enabled" | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>当设置为“enabled”时，当 URL 具有片段时，滚动到锚点元素。
默认情况下，锚点滚动处于禁用状态。</p>
<p>锚点滚动不会在“popstate”上发生。相反，我们会恢复我们存储的位置或滚动到顶部。</p></div></div></div></div><div id="scrollPositionRestoration" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>scrollPositionRestoration</h3><code>"disabled" | "enabled" | "top" | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>配置在后退导航时是否需要恢复滚动位置。</p>

  <ul class="docs-list">
    <li>“disabled” -（默认）不执行任何操作。滚动位置在导航时保持不变。</li>
<li>“top” - 在所有导航上将滚动位置设置为 x = 0，y = 0。</li>
<li>“enabled” - 在后退导航时恢复之前的滚动位置，否则，如果提供了锚点，则将位置设置为锚点，或者将滚动位置设置为 [0, 0]（前进导航）。此选项将在未来成为默认选项。</li>

  </ul>
  <p>你可以通过调整启用行为来实现自定义滚动恢复行为，如下例所示。</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> AppComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  movieData</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">private</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> router</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/router/Router">Router</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">private</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> viewportScroller</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/common/ViewportScroller">ViewportScroller</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">changeDetectorRef</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/core/ChangeDetectorRef">ChangeDetectorRef</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  router.events.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">pipe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">filter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">((</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">event</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/router/Event">Event</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> event</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> is</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/router/Scroll">Scroll</a></span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> event </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">instanceof</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/router/Scroll">Scroll</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    ).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">subscribe</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">      fetch</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'http://example.com/movies.json'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">).</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">then</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">response</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">        this</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">.movieData </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> response.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">json</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">        // update the template with the data before restoring scroll</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        changeDetectorRef.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">detectChanges</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">();</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">        if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (e.position) {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">          viewportScroller.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">scrollToPosition</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(e.position);</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">        }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">      });</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">    });</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span></code></pre>
  </div></div></div></div></div><div id="canceledNavigationResolution" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>canceledNavigationResolution</h3><code>"replace" | "computed" | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>配置当导航取消时，路由器尝试恢复状态的方式。</p>
<p>'replace' - 始终使用 <code>location.replaceState</code> 将浏览器状态设置为导航开始前路由器的状态。这意味着，如果浏览器的 URL 在导航<em>取消之前</em>更新，路由器将只替换历史记录中的条目，而不是尝试恢复到会话历史记录中的先前位置。这种情况最常发生在 <code>urlUpdateStrategy: 'eager'</code> 和使用浏览器后退/前进按钮的导航中。</p>
<p>'computed' - 将尝试返回到会话历史记录中与导航取消时 Angular 路由对应的相同索引。例如，如果单击浏览器后退按钮且导航被取消，路由器将触发前进导航，反之亦然。</p>
<p>注意：'computed' 选项与任何仅处理 URL 的一部分的 <a href="/api/router/UrlHandlingStrategy"><code>UrlHandlingStrategy</code></a> 不兼容，因为历史记录恢复会导航到浏览器历史记录中的上一个位置，而不是简单地重置 URL 的一部分。</p>
<p>如果未设置，则默认值为 <code>replace</code>。</p></div></div></div></div><div id="onSameUrlNavigation" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>onSameUrlNavigation</h3><code><a href="/api/router/OnSameUrlNavigation">OnSameUrlNavigation</a> | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>配置处理到当前 URL 的导航请求的默认行为。</p>
<p>如果未设置，<a href="/api/router/Router"><code>Router</code></a> 将使用 <code>'ignore'</code>。</p></div></div></div></div><div id="paramsInheritanceStrategy" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>paramsInheritanceStrategy</h3><code>"emptyOnly" | "always" | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>定义路由器如何将来自父路由的参数、数据和已求解数据合并到子路由。</p>
<p>默认情况下（'emptyOnly'），当路由本身具有空路径（意味着其配置为 path: ''）或当父路由没有任何组件设置时，路由会继承父路由的参数。</p>
<p>设置为 'always' 以启用父参数的无条件继承。</p>
<p>请注意，在处理矩阵参数时，“父级”指的是父级 <a href="/api/router/Route"><code>Route</code></a> 配置，这并不一定意味着“左侧的 URL 片段”。当 <a href="/api/router/Route"><code>Route</code></a> 的 <code>path</code> 包含多个片段时，矩阵参数必须出现在最后一个片段上。例如，<code>{path: 'a/b', component: MyComp}</code> 的矩阵参数应显示为 <code>a/b;foo=bar</code> 而不是 <code>a;foo=bar/b</code>。</p></div></div></div></div><div id="urlUpdateStrategy" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>urlUpdateStrategy</h3><code>"deferred" | "eager" | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>定义路由器何时更新浏览器 URL。默认情况下（'deferred'），在成功导航后更新。
如果希望在导航开始时更新 URL，请设置为 'eager'。
提前更新 URL 允许你通过显示包含失败 URL 的错误消息来处理导航失败。</p></div></div></div></div><div id="defaultQueryParamsHandling" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>defaultQueryParamsHandling</h3><code><a href="/api/router/QueryParamsHandling">QueryParamsHandling</a> | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>在未提供策略时，用于处理 <a href="/api/router/Router#createUrlTree"><code>Router.createUrlTree</code></a> 中查询参数的默认策略。</p>
<p><code>createUrlTree</code> 方法由 <a href="/api/router/Router#navigate"><code>Router.navigate</code></a> 和 <a href="/api/router/RouterLink"><code>RouterLink</code></a> 在内部使用。
请注意，<a href="/api/router/QueryParamsHandling"><code>QueryParamsHandling</code></a> 不适用于 <a href="/api/router/Router#navigateByUrl"><code>Router.navigateByUrl</code></a>。</p>
<p>当在调用 <code>createUrlTree</code> 时既未指定默认值也未指定 queryParamsHandling 选项时，当前参数将被新参数替换。</p></div></div></div></div><div id="resolveNavigationPromiseOnError" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>resolveNavigationPromiseOnError</h3><code>boolean | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>当为 <code>true</code> 时，<code>Promise</code> 将会求解为 <code>false</code>，就像其他失败的导航一样（例如，当守卫被拒绝时）。</p>
<p>否则，如果发生错误，路由器导航返回的 <code>Promise</code> 将被拒绝。</p></div></div></div></div></div></div></div>