<div class="docs-api"><header class="docs-reference-header"><span class="docs-reference-category">@angular/cdk/testing</span><div class="docs-reference-title"><div><h1>HarnessEnvironment</h1><div class="docs-api-item-label type-undecorated_class full">Class</div></div><a class="docs-github-links" target="_blank" href="https://github.com/angular/components/blob/main/src/cdk/testing/harness-environment.ts#L45-L435" title="View source" aria-label="View source"><i role="presentation" aria-hidden="true" class="material-symbols-outlined">code</i></a></div><section class="docs-reference-description"><p>Base harness environment class that can be extended to allow <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a>es to be used in
different test environments (e.g. testbed, protractor, etc.). This class implements the
functionality of both a <a href="/api/cdk/testing/HarnessLoader"><code>HarnessLoader</code></a> and <a href="/api/cdk/testing/LocatorFactory"><code>LocatorFactory</code></a>. This class is generic on the raw
element type, <code>E</code>, used by the particular test environment.</p></section></header><div class="docs-reference-section docs-reference-api-section"><h2 id="api" class="docs-reference-section-heading"><a href="#api" aria-label="Link to API section" tabindex="-1">API</a></h2><div class="docs-code"><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0">
    <code>
      <span class="line "><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">abstract</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/HarnessEnvironment">HarnessEnvironment</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">E</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">> </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/cdk/testing/LocatorFactory">LocatorFactory</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><button aria-describedby="jump-msg" type="button" class="line " member-id="constructor"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  protected</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> constructor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">rawRootElement</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> E</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/HarnessEnvironment">HarnessEnvironment</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">E</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="rootElement"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">   get</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> rootElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/TestElement">TestElement</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="documentRootLocatorFactory"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  documentRootLocatorFactory</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/LocatorFactory">LocatorFactory</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="locatorFor"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  locatorFor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> extends</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">> </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)[]>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">...</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">queries</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/cdk/testing/LocatorFnResult">LocatorFnResult</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="locatorForOptional"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  locatorForOptional</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> extends</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">> </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)[]>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">...</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">queries</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/cdk/testing/LocatorFnResult">LocatorFnResult</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">> </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="locatorForAll"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  locatorForAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> extends</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> (</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">> </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)[]>(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">...</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">queries</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> () </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=></span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/cdk/testing/LocatorFnResult">LocatorFnResult</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>[]>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="rootHarnessLoader"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  rootHarnessLoader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="harnessLoaderFor"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  harnessLoaderFor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">selector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="harnessLoaderForOptional"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  harnessLoaderForOptional</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">selector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a></span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="harnessLoaderForAll"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  harnessLoaderForAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">selector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[]>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="getHarness"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  getHarness</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/ComponentHarness">ComponentHarness</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="getHarnessOrNull"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  getHarnessOrNull</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/ComponentHarness">ComponentHarness</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="getHarnessAtIndex"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  getHarnessAtIndex</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/ComponentHarness">ComponentHarness</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">offset</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="getAllHarnesses"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  getAllHarnesses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/ComponentHarness">ComponentHarness</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[]>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="countHarnesses"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  countHarnesses</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/ComponentHarness">ComponentHarness</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">number</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="hasHarness"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  hasHarness</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/ComponentHarness">ComponentHarness</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">query</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="getChildLoader"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  getChildLoader</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">selector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="getAllChildLoaders"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  getAllChildLoaders</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">selector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[]>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="createComponentHarness"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  protected</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> createComponentHarness</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> extends</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/ComponentHarness">ComponentHarness</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">harnessType</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/ComponentHarnessConstructor">ComponentHarnessConstructor</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>, </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">element</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> E</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> T</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="forceStabilize"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  abstract</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> forceStabilize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="waitForTasksOutsideAngular"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  abstract</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> waitForTasksOutsideAngular</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF">void</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="getDocumentRoot"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  protected</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> abstract</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> getDocumentRoot</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> E</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="createTestElement"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  protected</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> abstract</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> createTestElement</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">element</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> E</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/TestElement">TestElement</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="createEnvironment"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  protected</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> abstract</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> createEnvironment</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">element</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> E</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/cdk/testing/HarnessEnvironment">HarnessEnvironment</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">E</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">>;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="getAllRawElements"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  protected</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> abstract</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> getAllRawElements</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">selector</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> Promise</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&#x3C;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">E</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">[]>;</span></button><span class="line "><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span>
    </code>
    </pre></div></div><div class="docs-reference-members"><div class="docs-reference-members"><div id="constructor" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>constructor</h3><code><a href="/api/cdk/testing/HarnessEnvironment">HarnessEnvironment</a>&lt;E></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">rawRootElement</span><code>E</code><div class="docs-parameter-description"><p>The native root element of this <a href="/api/cdk/testing/HarnessEnvironment"><code>HarnessEnvironment</code></a>.</p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code><a href="/api/cdk/testing/HarnessEnvironment">HarnessEnvironment</a>&lt;E></code></div></div></div></div><div id="rootElement" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>rootElement</h3><code><a href="/api/cdk/testing/TestElement">TestElement</a></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>The root element of this <a href="/api/cdk/testing/HarnessEnvironment"><code>HarnessEnvironment</code></a> as a <a href="/api/cdk/testing/TestElement"><code>TestElement</code></a>.</p></div></div></div></div><div id="rootElement" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>rootElement</h3><code><a href="/api/cdk/testing/TestElement">TestElement</a></code></header><div class="docs-reference-card-body"></div></div><div id="documentRootLocatorFactory" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>documentRootLocatorFactory</h3><code><a href="/api/cdk/testing/LocatorFactory">LocatorFactory</a></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Gets a locator factory rooted at the document root.</p></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code><a href="/api/cdk/testing/LocatorFactory">LocatorFactory</a></code></div></div></div></div><div id="locatorFor" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>locatorFor</h3><code>() => Promise&lt;<a href="/api/cdk/testing/LocatorFnResult">LocatorFnResult</a>&lt;T>></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Creates an asynchronous locator function that can be used to find a <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a> instance
or element under the root element of this <a href="/api/cdk/testing/HarnessEnvironment"><code>HarnessEnvironment</code></a>.</p>
<p>For example, given the following DOM and assuming <code>DivHarness.hostSelector</code> is <code>&#39;div&#39;</code></p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"d1"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"d2"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>then we expect:</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> lf.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">locatorFor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(DivHarness, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'div'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// Gets a `DivHarness` instance for #d1</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> lf.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">locatorFor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'div'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, DivHarness)() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// Gets a `TestElement` instance for #d1</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> lf.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">locatorFor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'span'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)()            </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// Throws because the `Promise` rejects</span></span></code></pre>
  </div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">queries</span><code>T</code><div class="docs-parameter-description"><p>A list of queries specifying which harnesses and elements to search for:</p>

  <ul class="docs-list">
    <li>A <code>string</code> searches for elements matching the CSS selector specified by the string.</li>
<li>A <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a> constructor searches for <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a> instances matching the
given class.</li>
<li>A <a href="/api/cdk/testing/HarnessPredicate"><code>HarnessPredicate</code></a> searches for <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a> instances matching the given
predicate.</li>

  </ul></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>() => Promise&lt;<a href="/api/cdk/testing/LocatorFnResult">LocatorFnResult</a>&lt;T>></code></div></div></div></div><div id="locatorForOptional" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>locatorForOptional</h3><code>() => Promise&lt;<a href="/api/cdk/testing/LocatorFnResult">LocatorFnResult</a>&lt;T> | null></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Creates an asynchronous locator function that can be used to find a <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a> instance
or element under the root element of this <code>HarnessEnvironmnet</code>.</p>
<p>For example, given the following DOM and assuming <code>DivHarness.hostSelector</code> is <code>&#39;div&#39;</code></p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"d1"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"d2"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>then we expect:</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> lf.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">locatorForOptional</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(DivHarness, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'div'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// Gets a `DivHarness` instance for #d1</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> lf.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">locatorForOptional</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'div'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, DivHarness)() </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// Gets a `TestElement` instance for #d1</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> lf.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">locatorForOptional</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'span'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)()            </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// Gets `null`</span></span></code></pre>
  </div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">queries</span><code>T</code><div class="docs-parameter-description"><p>A list of queries specifying which harnesses and elements to search for:</p>

  <ul class="docs-list">
    <li>A <code>string</code> searches for elements matching the CSS selector specified by the string.</li>
<li>A <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a> constructor searches for <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a> instances matching the
given class.</li>
<li>A <a href="/api/cdk/testing/HarnessPredicate"><code>HarnessPredicate</code></a> searches for <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a> instances matching the given
predicate.</li>

  </ul></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>() => Promise&lt;<a href="/api/cdk/testing/LocatorFnResult">LocatorFnResult</a>&lt;T> | null></code></div></div></div></div><div id="locatorForAll" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>locatorForAll</h3><code>() => Promise&lt;<a href="/api/cdk/testing/LocatorFnResult">LocatorFnResult</a>&lt;T>[]></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Creates an asynchronous locator function that can be used to find <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a> instances
or elements under the root element of this <a href="/api/cdk/testing/HarnessEnvironment"><code>HarnessEnvironment</code></a>.</p>
<p>For example, given the following DOM and assuming <code>DivHarness.hostSelector</code> is <code>&#39;div&#39;</code> and
<code>IdIsD1Harness.hostSelector</code> is <code>&#39;#d1&#39;</code></p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"d1"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> id</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"d2"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">div</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div><p>then we expect:</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// Gets [DivHarness for #d1, TestElement for #d1, DivHarness for #d2, TestElement for #d2]</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> lf.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">locatorForAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(DivHarness, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'div'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)()</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// Gets [TestElement for #d1, TestElement for #d2]</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> lf.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">locatorForAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'div'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'#d1'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)()</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// Gets [DivHarness for #d1, IdIsD1Harness for #d1, DivHarness for #d2]</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> lf.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">locatorForAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(DivHarness, IdIsD1Harness)()</span></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// Gets []</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">await</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> lf.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">locatorForAll</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">'span'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)()</span></span></code></pre>
  </div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">queries</span><code>T</code><div class="docs-parameter-description"><p>A list of queries specifying which harnesses and elements to search for:</p>

  <ul class="docs-list">
    <li>A <code>string</code> searches for elements matching the CSS selector specified by the string.</li>
<li>A <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a> constructor searches for <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a> instances matching the
given class.</li>
<li>A <a href="/api/cdk/testing/HarnessPredicate"><code>HarnessPredicate</code></a> searches for <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a> instances matching the given
predicate.</li>

  </ul></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>() => Promise&lt;<a href="/api/cdk/testing/LocatorFnResult">LocatorFnResult</a>&lt;T>[]></code></div></div></div></div><div id="rootHarnessLoader" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>rootHarnessLoader</h3><code>Promise&lt;<a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a>></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;<a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a>></code></div></div></div></div><div id="harnessLoaderFor" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>harnessLoaderFor</h3><code>Promise&lt;<a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a>></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Gets a <a href="/api/cdk/testing/HarnessLoader"><code>HarnessLoader</code></a> instance for an element under the root of this <a href="/api/cdk/testing/HarnessEnvironment"><code>HarnessEnvironment</code></a>.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">selector</span><code>string</code><div class="docs-parameter-description"><p>The selector for the root element.</p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;<a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a>></code></div></div></div></div><div id="harnessLoaderForOptional" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>harnessLoaderForOptional</h3><code>Promise&lt;<a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a> | null></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Gets a <a href="/api/cdk/testing/HarnessLoader"><code>HarnessLoader</code></a> instance for an element under the root of this <a href="/api/cdk/testing/HarnessEnvironment"><code>HarnessEnvironment</code></a>.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">selector</span><code>string</code><div class="docs-parameter-description"><p>The selector for the root element.</p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;<a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a> | null></code></div></div></div></div><div id="harnessLoaderForAll" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>harnessLoaderForAll</h3><code>Promise&lt;<a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a>[]></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Gets a list of <a href="/api/cdk/testing/HarnessLoader"><code>HarnessLoader</code></a> instances, one for each matching element.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">selector</span><code>string</code><div class="docs-parameter-description"><p>The selector for the root element.</p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;<a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a>[]></code></div></div></div></div><div id="getHarness" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>getHarness</h3><code>Promise&lt;T></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Searches for an instance of the component corresponding to the given harness type under the
<a href="/api/cdk/testing/HarnessEnvironment"><code>HarnessEnvironment</code></a>'s root element, and returns a <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a> for that instance. If
multiple matching components are found, a harness for the first one is returned. If no matching
component is found, an error is thrown.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">query</span><code><a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a>&lt;T></code><div class="docs-parameter-description"><p>A query for a harness to create</p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;T></code></div></div></div></div><div id="getHarnessOrNull" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>getHarnessOrNull</h3><code>Promise&lt;T | null></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Searches for an instance of the component corresponding to the given harness type under the
<a href="/api/cdk/testing/HarnessEnvironment"><code>HarnessEnvironment</code></a>'s root element, and returns a <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a> for that instance. If
multiple matching components are found, a harness for the first one is returned. If no matching
component is found, null is returned.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">query</span><code><a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a>&lt;T></code><div class="docs-parameter-description"><p>A query for a harness to create</p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;T | null></code></div></div></div></div><div id="getHarnessAtIndex" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>getHarnessAtIndex</h3><code>Promise&lt;T></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Searches for an instance of the component corresponding to the given harness type and index
under the <a href="/api/cdk/testing/HarnessEnvironment"><code>HarnessEnvironment</code></a>'s root element, and returns a <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a> for that
instance. The index specifies the offset of the component to find. If no matching
component is found at that index, an error is thrown.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">query</span><code><a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a>&lt;T></code><div class="docs-parameter-description"><p>A query for a harness to create</p></div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">offset</span><code>number</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;T></code></div></div></div></div><div id="getAllHarnesses" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>getAllHarnesses</h3><code>Promise&lt;T[]></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Searches for all instances of the component corresponding to the given harness type under the
<a href="/api/cdk/testing/HarnessEnvironment"><code>HarnessEnvironment</code></a>'s root element, and returns a list <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a> for each instance.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">query</span><code><a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a>&lt;T></code><div class="docs-parameter-description"><p>A query for a harness to create</p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;T[]></code></div></div></div></div><div id="countHarnesses" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>countHarnesses</h3><code>Promise&lt;number></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Searches for all instance of the component corresponding to the given harness type under the
<a href="/api/cdk/testing/HarnessEnvironment"><code>HarnessEnvironment</code></a>'s root element, and returns the number that were found.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">query</span><code><a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a>&lt;T></code><div class="docs-parameter-description"><p>A query for a harness to create</p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;number></code></div></div></div></div><div id="hasHarness" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>hasHarness</h3><code>Promise&lt;boolean></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Searches for an instance of the component corresponding to the given harness type under the
<a href="/api/cdk/testing/HarnessEnvironment"><code>HarnessEnvironment</code></a>'s root element, and returns a boolean indicating if any were found.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">query</span><code><a href="/api/cdk/testing/HarnessQuery">HarnessQuery</a>&lt;T></code><div class="docs-parameter-description"><p>A query for a harness to create</p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;boolean></code></div></div></div></div><div id="getChildLoader" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>getChildLoader</h3><code>Promise&lt;<a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a>></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Searches for an element with the given selector under the evironment's root element,
and returns a <a href="/api/cdk/testing/HarnessLoader"><code>HarnessLoader</code></a> rooted at the matching element. If multiple elements match the
selector, the first is used. If no elements match, an error is thrown.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">selector</span><code>string</code><div class="docs-parameter-description"><p>The selector for the root element of the new <a href="/api/cdk/testing/HarnessLoader"><code>HarnessLoader</code></a></p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;<a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a>></code></div></div></div></div><div id="getAllChildLoaders" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>getAllChildLoaders</h3><code>Promise&lt;<a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a>[]></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Searches for all elements with the given selector under the environment's root element,
and returns an array of <a href="/api/cdk/testing/HarnessLoader"><code>HarnessLoader</code></a>s, one for each matching element, rooted at that
element.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">selector</span><code>string</code><div class="docs-parameter-description"><p>The selector for the root element of the new <a href="/api/cdk/testing/HarnessLoader"><code>HarnessLoader</code></a></p></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;<a href="/api/cdk/testing/HarnessLoader">HarnessLoader</a>[]></code></div></div></div></div><div id="createComponentHarness" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>createComponentHarness</h3><code>T</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Creates a <a href="/api/cdk/testing/ComponentHarness"><code>ComponentHarness</code></a> for the given harness type with the given raw host element.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">harnessType</span><code><a href="/api/cdk/testing/ComponentHarnessConstructor">ComponentHarnessConstructor</a>&lt;T></code><div class="docs-parameter-description"></div></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">element</span><code>E</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>T</code></div></div></div></div><div id="forceStabilize" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>forceStabilize</h3><code>Promise&lt;void></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Flushes change detection and async tasks captured in the Angular zone.
In most cases it should not be necessary to call this manually. However, there may be some edge
cases where it is needed to fully flush animation events.
This is an abstrct method that must be implemented by subclasses.</p></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;void></code></div></div></div></div><div id="waitForTasksOutsideAngular" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>waitForTasksOutsideAngular</h3><code>Promise&lt;void></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Waits for all scheduled or running async tasks to complete. This allows harness
authors to wait for async tasks outside of the Angular zone.
This is an abstrct method that must be implemented by subclasses.</p></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;void></code></div></div></div></div><div id="getDocumentRoot" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>getDocumentRoot</h3><code>E</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Gets the root element for the document.</p></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>E</code></div></div></div></div><div id="createTestElement" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>createTestElement</h3><code><a href="/api/cdk/testing/TestElement">TestElement</a></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Creates a <a href="/api/cdk/testing/TestElement"><code>TestElement</code></a> from a raw element.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">element</span><code>E</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code><a href="/api/cdk/testing/TestElement">TestElement</a></code></div></div></div></div><div id="createEnvironment" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>createEnvironment</h3><code><a href="/api/cdk/testing/HarnessEnvironment">HarnessEnvironment</a>&lt;E></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Creates a <a href="/api/cdk/testing/HarnessEnvironment"><code>HarnessEnvironment</code></a> rooted at the given raw element.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">element</span><code>E</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code><a href="/api/cdk/testing/HarnessEnvironment">HarnessEnvironment</a>&lt;E></code></div></div></div></div><div id="getAllRawElements" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>getAllRawElements</h3><code>Promise&lt;E[]></code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>Gets a list of all elements matching the given selector under this environment's root element.</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">selector</span><code>string</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>Promise&lt;E[]></code></div></div></div></div></div></div></div>