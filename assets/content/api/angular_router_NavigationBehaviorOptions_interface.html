<div class="docs-api"><header class="docs-reference-header"><span class="docs-reference-category">@angular/router</span><div class="docs-reference-title"><div><h1>NavigationBehaviorOptions</h1><div class="docs-api-item-label type-interface full">interface</div><div class="docs-api-item-label type-stable full">stable</div></div><a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/blob/main/packages/router/src/models.ts#L1423-L1532" title="View source" aria-label="View source"><i role="presentation" aria-hidden="true" class="material-symbols-outlined">代码</i></a></div><section class="docs-reference-description"><p>用于修改 <a href="/api/router/Router"><code>Router</code></a> 导航策略的选项。
将包含任意这些属性的对象提供给 <a href="/api/router/Router"><code>Router</code></a> 的导航函数，以
控制导航应如何处理。</p></section><nav class="docs-pill-row"><a class="docs-pill" href="/api/router/Router#navigate">Router#navigate</a><a class="docs-pill" href="/api/router/Router#navigateByUrl">Router#navigateByUrl</a><a class="docs-pill" href="guide/routing/common-router-tasks">路由与导航指南</a></nav></header><div class="docs-reference-section docs-reference-api-section"><h2 id="api" class="docs-reference-section-heading"><a href="#api" aria-label="Link to API section" tabindex="-1">API</a></h2><div class="docs-code"><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0">    <code>
      <span class="line "><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/router/NavigationBehaviorOptions">NavigationBehaviorOptions</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><button aria-describedby="jump-msg" type="button" class="line " member-id="onSameUrlNavigation"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  onSameUrlNavigation</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/router/OnSameUrlNavigation">OnSameUrlNavigation</a></span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="skipLocationChange"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  skipLocationChange</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="replaceUrl"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  replaceUrl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="state"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  state</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { [</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">k</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="info"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> info</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> unknown</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="browserUrl"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  readonly</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70"> browserUrl</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/router/UrlTree">UrlTree</a></span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><span class="line "><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span>
    </code>
    </pre></div></div><div class="docs-reference-members"><div class="docs-reference-members"><div id="onSameUrlNavigation" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>onSameUrlNavigation</h3><code><a href="/api/router/OnSameUrlNavigation">OnSameUrlNavigation</a> | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>如何处理对当前 URL 的导航请求。</p>
<p>此值是 <a href="/api/router/OnSameUrlNavigation"><code>OnSameUrlNavigation</code></a> 中可用选项的一个子集，并且
将优先于为 <a href="/api/router/Router"><code>Router</code></a> 设置的默认值。</p></div></div></div></div><div id="skipLocationChange" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>skipLocationChange</h3><code>boolean | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>为 true 时，导航时不向历史记录推送新状态。</p>

      <div class="docs-code" role="group">
        <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span>// Navigate silently to /view</span></span><span class="line"><span>this.router.navigate(['/view'], { skipLocationChange: true });</span></span></code></pre>
      </div></div></div></div></div><div id="replaceUrl" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>replaceUrl</h3><code>boolean | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>为 true 时，导航时替换历史记录中的当前状态。</p>

      <div class="docs-code" role="group">
        <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span>// Navigate to /view</span></span><span class="line"><span>this.router.navigate(['/view'], { replaceUrl: true });</span></span></code></pre>
      </div></div></div></div></div><div id="state" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>state</h3><code>{ [k: string]: any; } | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>开发者定义的、可传递给任何导航的状态。
在导航执行期间，通过 <a href="/api/router/Router#getcurrentnavigation">Router.getCurrentNavigation()
方法</a>返回的 <a href="/api/router/Navigation#extras"><code>Navigation.extras</code></a> 对象访问此值。</p>
<p>导航完成后，路由器会将一个包含此值的对象以及 <code>navigationId</code> 写入 <code>history.state</code>。
当在激活此路由之前调用 <code>location.go()</code> 或 <code>location.replaceState()</code> 时，会写入该值。</p>
<p>请注意，<code>history.state</code> 未通过对象相等性测试，因为路由器在每次导航时都会添加 <code>navigationId</code>。</p></div></div></div></div><div id="info" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>info</h3><code>unknown</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>使用此项来传达关于此特定导航的瞬时信息，例如它是如何发生的。
从这个意义上说，它与将设置为 <code>history.state</code> 的持久值 <code>state</code> 不同。
此对象直接分配给 Router 的当前 <a href="/api/router/Navigation"><code>Navigation</code></a>
（它不会被复制或克隆），因此应谨慎修改。</p>
<p>一个关于如何使用它的范例是，根据到达特定路由的方式触发不同的单页导航动画。例如，考虑一个照片库应用，你可以通过各种路由访问相同的照片 URL 和状态：</p>

  <ul class="docs-list">
    <li>在画廊视图中单击它</li>
<li>单击</li>
<li>在相册中查看另一张照片时单击“下一张”或“上一张”</li>
<li>等等。</li>

  </ul>
  <p>它们中的每一个都希望在导航时使用不同的动画。此信息存储在持久 URL 或历史记录条目状态中没有意义，但从应用的其余部分传递到路由器仍然很重要。</p>
<p>此信息可以与 View Transitions 特性和 <code>onViewTransitionCreated</code> 回调结合使用。该信息可能在回调中用于在文档上设置类，以便控制过渡动画，并在过渡动画完成时删除这些类。</p></div></div></div></div><div id="browserUrl" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>browserUrl</h3><code>string | <a href="/api/router/UrlTree">UrlTree</a> | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>设置后，路由器将更新浏览器的地址栏以匹配给定的 <a href="/api/router/UrlTree"><code>UrlTree</code></a>，而不是
用于路由匹配的那个。</p></div></div></div></div></div></div></div>