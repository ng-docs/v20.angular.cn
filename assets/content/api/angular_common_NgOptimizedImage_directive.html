<div class="docs-api"><header class="docs-reference-header"><span class="docs-reference-category">@angular/common</span><div class="docs-reference-title"><div><h1>NgOptimizedImage</h1><div class="docs-api-item-label type-directive full">指令</div><div class="docs-api-item-label type-stable full">stable</div></div><a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/blob/main/packages/common/src/directives/ng_optimized_image/ng_optimized_image.ts#L266-L757" title="View source" aria-label="View source"><i role="presentation" aria-hidden="true" class="material-symbols-outlined">代码</i></a></div><section class="docs-reference-description"><p>该指令通过强制执行最佳实践来提高图片加载性能。</p></section></header><div class="docs-reference-section docs-reference-api-section"><h2 id="api" class="docs-reference-section-heading"><a href="#api" aria-label="Link to API section" tabindex="-1">API</a></h2><div class="docs-code"><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0">    <code>
      <span class="line "><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/common/NgOptimizedImage">NgOptimizedImage</a></span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> implements</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/core/OnInit">OnInit</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> ,</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/OnChanges">OnChanges</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><button aria-describedby="jump-msg" type="button" class="line " member-id="ngSrc"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Input">Input</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">ngSrc</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="ngSrcset"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Input">Input</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">ngSrcset</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="sizes"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Input">Input</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">sizes</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="width"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Input">Input</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">width</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> number</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="height"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Input">Input</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">height</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> number</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="decoding"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Input">Input</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">decoding</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "auto"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "sync"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "async"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="loading"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Input">Input</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">loading</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "auto"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "lazy"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "eager"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="priority"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Input">Input</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">priority</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="loaderParams"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Input">Input</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">loaderParams</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { [</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">key</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">]</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> any</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">; } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="disableOptimizedSrcset"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Input">Input</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">disableOptimizedSrcset</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="fill"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Input">Input</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">fill</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="placeholder"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Input">Input</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">placeholder</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="placeholderConfig"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/Input">Input</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">() </span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">placeholderConfig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/common/ImagePlaceholderConfig">ImagePlaceholderConfig</a></span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="generatePlaceholder"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  protected</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> generatePlaceholder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">placeholderInput</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> string</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="shouldBlurPlaceholder"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">  protected</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> shouldBlurPlaceholder</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">placeholderConfig</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/common/ImagePlaceholderConfig">ImagePlaceholderConfig</a></span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">)</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> boolean</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><span class="line "><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span>
    </code>
    </pre></div></div><div class="docs-reference-members"><div class="docs-reference-members"><div id="ngSrc" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>ngSrc</h3><code>string</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>源图片名称。
图片名称将由图片加载器处理，最终的 URL 将作为图片的 <code>src</code> 属性赋予。</p></div></div></div></div><div id="ngSrcset" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>ngSrcset</h3><code>string</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>以逗号分隔的宽度或密度描述符列表。
图片名称将取自 <code>ngSrc</code>，并与宽度或密度描述符列表组合，以生成图片的最终 <code>srcset</code> 属性。</p>
<p>范例：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">img</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ngSrc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"hello.jpg"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ngSrcset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"100w, 200w"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /&gt;  =&gt;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">img</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> src</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"path/hello.jpg"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> srcset</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"path/hello.jpg?w=100 100w, path/hello.jpg?w=200 200w"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> /&gt;</span></span></code></pre>
  </div></div></div></div></div><div id="sizes" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>sizes</h3><code>string | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>传递到 <code>&lt;img&gt;</code> 元素的基本 <code>sizes</code> 属性。
提供 sizes 会使图像创建自动响应式 srcset。</p></div></div></div></div><div id="width" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>width</h3><code>number | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>对于响应式图片：图片固有的宽度（以像素为单位）。
对于固定尺寸图片：图片期望的渲染宽度（以像素为单位）。</p></div></div></div></div><div id="height" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>height</h3><code>number | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>对于响应式图片：图片固有的高度（以像素为单位）。
对于固定尺寸图片：图片期望的渲染高度（以像素为单位）。</p></div></div></div></div><div id="decoding" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>decoding</h3><code>"auto" | "sync" | "async" | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>图像所需的解码行为。如果未显式设置，则默认为 <code>auto</code>，匹配原生浏览器行为。</p>
<p>使用 <code>async</code> 在主线程外解码图像（非阻塞），
使用 <code>sync</code> 进行即时解码（阻塞），或使用 <code>auto</code> 让浏览器决定最佳策略。</p>
<p><a href="https://html.spec.whatwg.org/multipage/images.html#image-decoding-hint" target="_blank">规范</a></p></div></div></div></div><div id="loading" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>loading</h3><code>"auto" | "lazy" | "eager" | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>期望的加载行为（惰性、急性或自动）。默认为 <code>lazy</code>，
建议大多数图片使用此设置。</p>
<p>警告：将图片设置为 loading="eager" 或 loading="auto" 会将其标记
为非优先图片，并可能损害加载性能。对于可能是 LCP 元素的图片，请使用 <code>priority</code> 属性而不是 <code>loading</code>。</p></div></div></div></div><div id="priority" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>priority</h3><code>boolean</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>指示此图片是否应具有高优先级。</p></div></div></div></div><div id="loaderParams" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>loaderParams</h3><code>{ [key: string]: any; } | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>要传递给自定义加载器的数据。</p></div></div></div></div><div id="disableOptimizedSrcset" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>disableOptimizedSrcset</h3><code>boolean</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>禁用此图片的自动 srcset 生成。</p></div></div></div></div><div id="fill" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>fill</h3><code>boolean</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>将图片设置为“填充模式”，这将消除高度/宽度要求并添加
样式，以便图片填充其包含元素。</p></div></div></div></div><div id="placeholder" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>placeholder</h3><code>string | boolean | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>用作占位符的图片的 URL 或数据 URL，在此图片加载时显示。</p></div></div></div></div><div id="placeholderConfig" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>placeholderConfig</h3><code><a href="/api/common/ImagePlaceholderConfig">ImagePlaceholderConfig</a> | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>占位符设置的配置对象。选项：</p>

  <ul class="docs-list">
    <li>blur：设置为 false 可禁用自动 CSS 模糊。</li>

  </ul></div></div></div></div><div id="generatePlaceholder" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>generatePlaceholder</h3><code>string | boolean | null</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>返回一个格式化为 CSS background-image 属性的图像 URL。期望以下之一：</p>

  <ul class="docs-list">
    <li>一个 base64 编码的图像，它将被包装并通过。</li>
<li>一个布尔值。如果为 true，则调用图像加载器生成一个小的占位符 URL。</li>

  </ul></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">placeholderInput</span><code>string | boolean</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>string | boolean | null</code></div></div></div></div><div id="shouldBlurPlaceholder" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>shouldBlurPlaceholder</h3><code>boolean</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item "><div class="docs-function-definition"><p>根据可选配置对象 <code>placeholderConfig</code> 中的可选布尔属性 <code>blur</code> 来确定是否应用模糊效果。</p></div><div class="docs-param-group"><span class="docs-param-keyword">@param</span><span class="docs-param-name">placeholderConfig</span><code><a href="/api/common/ImagePlaceholderConfig">ImagePlaceholderConfig</a> | undefined</code><div class="docs-parameter-description"></div></div><div class="docs-return-type"><span class="docs-param-keyword">@returns</span><code>boolean</code></div></div></div></div></div></div><div class="docs-reference-section"><h2 id="description" class="docs-reference-section-heading"><a href="#description" aria-label="Link to Description section" tabindex="-1">描述</a></h2><div><p>该指令通过强制执行最佳实践来提高图片加载性能。</p>
<p><a href="/api/common/NgOptimizedImage"><code>NgOptimizedImage</code></a> 通过以下方式确保最大内容绘制 (LCP) 图像的加载得到优先处理：</p>

  <ul class="docs-list">
    <li>自动在 <code>&lt;img&gt;</code> 标签上设置 <code>fetchpriority</code> 属性</li>
<li>默认情况下惰性加载非优先图片</li>
<li>在文档头部自动生成预连接 link 标签</li>

  </ul>
  <p>此外，该指令还具有以下功能：</p>

  <ul class="docs-list">
    <li>如果提供了相应的 <a href="/api/common/ImageLoader"><code>ImageLoader</code></a> 函数，则生成合适的资源 URL</li>
<li>自动生成 srcset</li>
<li>要求设置 <code>width</code> 和 <code>height</code></li>
<li>如果 <code>width</code> 或 <code>height</code> 设置不正确，则发出警告</li>
<li>如果图片在渲染时会出现视觉失真，则发出警告</li>

  </ul></div></div><div class="docs-reference-section"><h2 id="usage-notes" class="docs-reference-section-heading"><a href="#usage-notes" aria-label="Link to Usage Notes section" tabindex="-1">用法说明</a></h2><div><p>该 <a href="/api/common/NgOptimizedImage"><code>NgOptimizedImage</code></a> 指令被标记为<a href="guide/components/importing">独立</a>，可以直接导入。</p>
<p>请按照以下步骤启用和使用该指令：</p>

    <ol class="docs-ordered-list">
      <li>将其导入到必要的 NgModule 或独立的 Component 中。</li>
<li>如果使用图片托管服务，请选择性地提供一个 <a href="/api/common/ImageLoader"><code>ImageLoader</code></a>。</li>
<li>更新模板中必要的 <code>&lt;img&gt;</code> 标签，并将 <code>src</code> 属性替换为 <code>ngSrc</code>。使用 <code>ngSrc</code> 允许指令控制 <code>src</code> 何时设置，从而触发图片下载。</li>

    </ol>
    <p>步骤 1：导入 <a href="/api/common/NgOptimizedImage"><code>NgOptimizedImage</code></a> 指令。</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> { <a href="/api/common/NgOptimizedImage">NgOptimizedImage</a> } </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/common'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// Include it into the necessary NgModule</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"><a href="/api/core/NgModule">NgModule</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  imports: [NgOptimizedImage],</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> AppModule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {}</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// ... or a standalone Component</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">Component</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">({</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  imports: [NgOptimizedImage],</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">})</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">class</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> MyStandaloneComponent</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {}</span></span></code></pre>
  </div><p>步骤 2：配置加载器。</p>
<p>要使用<strong>默认加载器</strong>：无需进行额外的代码更改。通用加载器返回的 URL 将始终与 "src" 的值匹配。换句话说，此加载器不对资源 URL 应用任何转换，并且 <code>ngSrc</code> 属性的值将按原样使用。</p>
<p>要为<strong>第三方图片服务</strong>使用现有加载器：将您选择的服务的提供者工厂添加到 <code>providers</code> 数组。在下面的范例中，使用了 Imgix 加载器：</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {<a href="/api/common/provideImgixLoader">provideImgixLoader</a>} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/common'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// Call the function and add the result to the `providers` array:</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">providers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: [</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">  <a href="/api/common/provideImgixLoader">provideImgixLoader</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"https://my.base.url/"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">),</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span></code></pre>
  </div><p>该 <a href="/api/common/NgOptimizedImage"><code>NgOptimizedImage</code></a> 指令提供以下功能：</p>

  <ul class="docs-list">
    <li><a href="/api/common/provideCloudflareLoader"><code>provideCloudflareLoader</code></a></li>
<li><a href="/api/common/provideCloudinaryLoader"><code>provideCloudinaryLoader</code></a></li>
<li><a href="/api/common/provideImageKitLoader"><code>provideImageKitLoader</code></a></li>
<li><a href="/api/common/provideImgixLoader"><code>provideImgixLoader</code></a></li>

  </ul>
  <p>如果您使用其他图片提供商，则可以按照下述方式创建自定义加载器函数。</p>
<p>要使用<strong>自定义加载器</strong>：将您的加载器函数作为 <a href="/api/common/IMAGE_LOADER"><code>IMAGE_LOADER</code></a> DI 令牌的值提供。</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {<a href="/api/common/IMAGE_LOADER">IMAGE_LOADER</a>, ImageLoaderConfig} </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> '@angular/common'</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"></span><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D">// Configure the loader using the `IMAGE_LOADER` token.</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">providers</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: [</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  {</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">     provide: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"><a href="/api/common/IMAGE_LOADER">IMAGE_LOADER</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">,</span></span><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0">     useValue</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">: (</span><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">config</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/common/ImageLoaderConfig">ImageLoaderConfig</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">) </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">=&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">       return</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> `https://example.com/${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">src</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}-${</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">.</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">width</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">}.jpg`</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">     }</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">  },</span></span><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">],</span></span></code></pre>
  </div><p>步骤 3：更新模板中的 <code>&lt;img&gt;</code> 标签以使用 <code>ngSrc</code> 而不是 <code>src</code>。</p>
<div class="docs-code">
    
    <pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D">img</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> ngSrc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"logo.png"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> width</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"200"</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> height</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">=</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF">"100"</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">&gt;</span></span></code></pre>
  </div></div></div></div>