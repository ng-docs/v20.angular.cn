<div class="docs-api"><header class="docs-reference-header"><span class="docs-reference-category">@angular/router</span><div class="docs-reference-title"><div><h1>RouterConfigOptions</h1><div class="docs-api-item-label type-interface full">interface</div><div class="docs-api-item-label type-stable full">stable</div></div><a class="docs-github-links" target="_blank" href="https://github.com/angular/angular/blob/main/packages/router/src/router_config.ts#L40-L123" title="View source" aria-label="View source"><i role="presentation" aria-hidden="true" class="material-symbols-outlined">代码</i></a></div><section class="docs-reference-description"><p>可与 <a href="/api/router/withRouterConfig"><code>withRouterConfig</code></a> 函数一起使用的额外配置选项。</p></section></header><div class="docs-reference-section docs-reference-api-section"><h2 id="api" class="docs-reference-section-heading"><a href="#api" aria-label="Link to API section" tabindex="-1">API</a></h2><div class="docs-code"><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e" tabindex="0">    <code>
      <span class="line "><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">interface</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/router/RouterConfigOptions">RouterConfigOptions</a></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8"> {</span></span><button aria-describedby="jump-msg" type="button" class="line " member-id="canceledNavigationResolution"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  canceledNavigationResolution</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "replace"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "computed"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="onSameUrlNavigation"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  onSameUrlNavigation</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/router/OnSameUrlNavigation">OnSameUrlNavigation</a></span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="paramsInheritanceStrategy"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  paramsInheritanceStrategy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "emptyOnly"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "always"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="urlUpdateStrategy"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  urlUpdateStrategy</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "deferred"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF"> "eager"</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="defaultQueryParamsHandling"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  defaultQueryParamsHandling</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0"> <a href="/api/router/QueryParamsHandling">QueryParamsHandling</a></span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><button aria-describedby="jump-msg" type="button" class="line " member-id="resolveNavigationPromiseOnError"><span style="--shiki-light:#E36209;--shiki-dark:#FFAB70">  resolveNavigationPromiseOnError</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583">?:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> boolean</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583"> |</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF"> undefined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">;</span></button><span class="line "><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8">}</span></span>
    </code>
    </pre></div></div><div class="docs-reference-members"><div class="docs-reference-members"><div id="canceledNavigationResolution" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>canceledNavigationResolution</h3><code>"replace" | "computed" | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>配置当导航取消时，路由器尝试恢复状态的方式。</p>
<p>'replace' - 始终使用 <code>location.replaceState</code> 将浏览器状态设置为导航开始之前路由器的状态。这意味着，如果在导航<em>之前</em>更新了浏览器的 URL，路由器将只替换历史记录中的条目，而不是尝试恢复到会话历史记录中的先前位置。这种情况最常发生在 <code>urlUpdateStrategy: 'eager'</code> 和使用浏览器后退/前进按钮的导航中。</p>
<p>'computed' - 将尝试返回到会话历史记录中与导航取消时 Angular 路由对应的相同索引。例如，如果单击浏览器后退按钮并且导航被取消，路由器将触发前进导航，反之亦然。</p>
<p>注意：'computed' 选项与任何仅处理 URL 的一部分的 <a href="/api/router/UrlHandlingStrategy"><code>UrlHandlingStrategy</code></a> 不兼容，因为历史记录恢复会导航到浏览器历史记录中的前一个位置，而不是简单地重置 URL 的一部分。</p>
<p>如果未设置，则默认值为 <code>replace</code>。</p></div></div></div></div><div id="onSameUrlNavigation" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>onSameUrlNavigation</h3><code><a href="/api/router/OnSameUrlNavigation">OnSameUrlNavigation</a> | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>配置处理到当前 URL 的导航请求的默认行为。</p>
<p>如果未设置，<a href="/api/router/Router"><code>Router</code></a> 将使用 <code>'ignore'</code>。</p></div></div></div></div><div id="paramsInheritanceStrategy" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>paramsInheritanceStrategy</h3><code>"emptyOnly" | "always" | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>定义路由器如何将来自父路由的参数、数据和已求解数据合并到子路由。</p>
<p>默认情况下（'emptyOnly'），当路由本身具有空路径（意味着其配置了 path: ''）或当父路由没有任何组件集时，路由会继承父路由的参数。</p>
<p>设置为 'always' 以启用父参数的无条件继承。</p>
<p>请注意，在处理矩阵参数时，“父级”指的是父级 <a href="/api/router/Route"><code>Route</code></a> 配置，不一定意味着“左侧的 URL 段”。当 <a href="/api/router/Route"><code>Route</code></a> <code>path</code> 包含多个段时，矩阵参数必须出现在最后一个段上。例如，<code>{path: 'a/b', component: MyComp}</code> 的矩阵参数应显示为 <code>a/b;foo=bar</code> 而不是 <code>a;foo=bar/b</code>。</p></div></div></div></div><div id="urlUpdateStrategy" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>urlUpdateStrategy</h3><code>"deferred" | "eager" | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>定义路由器何时更新浏览器 URL。默认情况下（'deferred'），在成功导航后更新。
如果希望在导航开始时更新 URL，请设置为 'eager'。
提前更新 URL 允许您通过显示包含失败 URL 的错误消息来处理导航失败。</p></div></div></div></div><div id="defaultQueryParamsHandling" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>defaultQueryParamsHandling</h3><code><a href="/api/router/QueryParamsHandling">QueryParamsHandling</a> | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>在未提供策略时，用于处理 <a href="/api/router/Router#createUrlTree"><code>Router.createUrlTree</code></a> 中查询参数的默认策略。</p>
<p><code>createUrlTree</code> 方法由 <a href="/api/router/Router#navigate"><code>Router.navigate</code></a> 和 <a href="/api/router/RouterLink"><code>RouterLink</code></a> 在内部使用。
请注意，<a href="/api/router/QueryParamsHandling"><code>QueryParamsHandling</code></a> 不适用于 <a href="/api/router/Router#navigateByUrl"><code>Router.navigateByUrl</code></a>。</p>
<p>当在调用 <code>createUrlTree</code> 时，既未指定默认策略，也未指定 queryParamsHandling 选项时，当前参数将被新参数替换。</p></div></div></div></div><div id="resolveNavigationPromiseOnError" class="docs-reference-member-card"><header class="docs-reference-card-header"><h3>resolveNavigationPromiseOnError</h3><code>boolean | undefined</code></header><div class="docs-reference-card-body"><div class="docs-reference-card-item"><div><p>当为 <code>true</code> 时，<code>Promise</code> 将会求解为 <code>false</code>，就像其他失败的导航一样（例如，当守卫被拒绝时）。</p>
<p>否则，如果发生错误，路由器导航返回的 <code>Promise</code> 将被拒绝。</p></div></div></div></div></div></div></div>