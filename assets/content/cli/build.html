<div class="docs-cli"><div class="docs-reference-cli-content"><header class="docs-reference-header"><span class="docs-reference-category">CLI</span><div class="docs-reference-title"><div><h1> build</h1><div class="docs-api-item-label type-command full">命令</div></div></div></header><div class="docs-code docs-reference-cli-toc"><pre class="docs-mini-scroll-track"><code><div class="shiki line cli">ng build<button member-id="Arguments" class="shiki-ln-line-argument">ng [project]</button><button member-id="Options" class="shiki-ln-line-option">[options]</button></div></code></pre></div><div class="docs-code docs-reference-cli-toc"><pre class="docs-mini-scroll-track"><code><div class="shiki line cli">ng b<button member-id="Arguments" class="shiki-ln-line-argument">ng [project]</button><button member-id="Options" class="shiki-ln-line-option">[options]</button></div></code></pre></div><div><p>该命令可用于构建类型为“application”或“library”的项目。
当用于构建库时，将调用不同的构建器，并且仅应用 <code>ts-config</code>、<code>configuration</code>、<code>poll</code> 和 <code>watch</code> 选项。
所有其他选项仅适用于构建应用。</p>
<p>应用程序构建器使用 <a href="https://esbuild.github.io/" target="_blank">esbuild</a> 构建工具，并使用工作区配置文件（<code>angular.json</code>）中指定的默认配置选项或命名的备用配置。
当您使用 CLI 创建项目时，默认会创建一个“development”配置，您可以通过指定 <code>--configuration development</code> 来使用该配置。</p>
<p>配置选项通常与命令选项相对应。
您可以通过在命令行上指定相应的选项来重写各个配置默认值。
该命令可以接受以短划线命名法给出的选项名称。
请注意，在配置文件中，您必须以驼峰命名法指定名称。</p>
<p>某些其他选项只能通过配置文件设置，可以通过直接编辑或使用 <code>ng config</code> 命令。
这些选项包括 <code>assets</code>、<code>styles</code> 和 <code>scripts</code> 对象，它们提供运行时全局资源以包含在项目中。
CSS 中的资源（例如图像和字体）会自动写入输出文件夹的根目录并进行指纹标记。</p>
<p>有关更多详细信息，请参阅 <a href="reference/configs/workspace-config">工作区配置</a>。</p>
</div></div><div class="docs-reference-members"><h2 id="arguments" class="docs-reference-section-heading"><a href="#arguments" aria-label="Link to Arguments section" tabindex="-1">参数</a></h2><div class="docs-reference-member-card"><div class="docs-reference-card-body"><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>project</code></div><div><p>要构建的项目的名称。可以是应用或库。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>string</code></div></div></div></div><h2 id="options" class="docs-reference-section-heading"><a href="#options" aria-label="Link to Options section" tabindex="-1">选项</a></h2><div class="docs-reference-member-card"><div class="docs-reference-card-body"><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>allowed-common-js-dependencies</code></div><div><p>允许使用的 CommonJS 或 AMD 软件包的列表，而不会发出构建时警告。使用 <code>'*'</code> 允许所有软件包。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>array</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>aot</code></div><div><p>使用预先编译进行构建。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>boolean</code><span>默认值</span><code>true</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>app-shell</code></div><div><p>在构建时生成应用外壳。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>boolean</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>base-href</code></div><div><p>正在构建的应用的基本 URL。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>string</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>browser</code></div><div><p>浏览器应用入口点的完整路径，相对于当前工作区。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>string</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>clear-screen</code></div><div><p>在重新构建期间自动清除终端屏幕。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>boolean</code><span>默认值</span><code>false</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>conditions</code></div><div><p>用于解析条件导出/导入的自定义包解析条件。默认为 ['module', 'development'/'production']。如果满足要求，以下特殊条件始终存在：'default'、'import'、'require'、'browser'、'node'。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>array</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>configuration</code><div class="docs-reference-option-aliases"><span>别名</span><code>c</code></div></div><div><p>一个或多个命名的构建器配置，以逗号分隔的列表形式在 angular.json 的“configurations”部分中指定。
构建器使用命名的配置来运行给定的目标。
有关更多信息，请参阅 <a href="https://angular.dev/reference/configs/workspace-config#alternate-build-configurations">https://angular.dev/reference/configs/workspace-config#alternate-build-configurations</a>。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>string</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>cross-origin</code></div><div><p>定义提供 CORS 支持的元素的 crossorigin Attribute 设置。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>string</code><span>允许值</span><code>anonymous</code>、<code>none</code>、<code>use-credentials</code><span>默认值</span><code>none</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>define</code></div><div><p>定义全局标识符，当在任何 JavaScript 或 TypeScript 代码（包括库）中找到这些标识符时，它们将被替换为指定的常量值。该值将直接使用。字符串值必须用引号引起来。Angular 元数据（例如组件装饰器）中的标识符将不会被替换。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>array</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>delete-output-path</code></div><div><p>在构建之前删除输出路径。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>boolean</code><span>默认值</span><code>true</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>deploy-url</code></div><div><p>自定义 'index.html' 和组件样式表中资源 URL 的基本路径。此选项仅在特定部署场景中是必要的，例如使用 Angular Elements 或使用不同的 CDN 位置时。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>string</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>external-dependencies</code></div><div><p>从捆绑到捆绑包中排除列出的外部依赖项。相反，创建的捆绑包依赖于这些依赖项在运行时可用。注意：<code>@foo/bar</code> 将 <code>@foo/bar</code> 包中的所有路径（包括子路径，如 <code>@foo/bar/baz</code>）标记为外部路径。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>array</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>extract-licenses</code></div><div><p>将所有许可证提取到单独的文件中。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>boolean</code><span>默认值</span><code>true</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>help</code></div><div><p>在控制台中显示此命令的帮助消息。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>boolean</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>i18n-duplicate-translation</code></div><div><p>如何处理 i18n 的重复翻译。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>string</code><span>允许值</span><code>error</code>、<code>ignore</code>、<code>warning</code><span>默认值</span><code>warning</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>i18n-missing-translation</code></div><div><p>如何处理 i18n 的缺失翻译。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>string</code><span>允许值</span><code>error</code>、<code>ignore</code>、<code>warning</code><span>默认值</span><code>warning</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>index</code></div><div><p>配置应用 HTML 索引的生成。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>string</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>inline-style-language</code></div><div><p>用于应用内联组件样式的样式表语言。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>string</code><span>允许值</span><code>css</code>、<code>less</code>、<code>sass</code>、<code>scss</code><span>默认值</span><code>css</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>localize</code></div><div><p>翻译一个或多个语言环境中的捆绑包。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>boolean</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>named-chunks</code></div><div><p>对惰性加载的代码块使用文件名。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>boolean</code><span>默认值</span><code>false</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>optimization</code></div><div><p>启用构建输出的优化。包括脚本和样式的最小化、摇树优化、死代码消除、关键 CSS 内联和字体内联。有关更多信息，请参阅 <a href="https://angular.dev/reference/configs/workspace-config#optimization-configuration">https://angular.dev/reference/configs/workspace-config#optimization-configuration</a>。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>boolean</code><span>默认值</span><code>true</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>output-hashing</code></div><div><p>定义输出文件名缓存清除哈希模式。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>string</code><span>允许值</span><code>all</code>、<code>bundles</code>、<code>media</code>、<code>none</code><span>默认值</span><code>none</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>output-mode</code></div><div><p>定义构建输出目标。“static”：生成一个静态站点，用于部署在任何静态托管服务上。“server”：生成一个应用，旨在部署在支持服务器端渲染 (SSR) 的服务器上。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>string</code><span>允许值</span><code>server</code>、<code>static</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>output-path</code></div><div><p>指定相对于工作区根目录的输出路径。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>string</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>poll</code></div><div><p>启用并定义文件监视轮询时间段，以毫秒为单位。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>number</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>polyfills</code></div><div><p>要包含在构建中的腻子脚本列表。可以是文件的完整路径，相对于当前工作区或模块说明符。范例：'zone.js'。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>array</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>prerender</code></div><div><p>在构建时预渲染 (SSG) 应用页面。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>boolean</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>preserve-symlinks</code></div><div><p>在求解模块时，不要使用真实路径。如果未设置，则当设置 NodeJS 选项 --preserve-symlinks 时，将默认为 <code>true</code>。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>boolean</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>progress</code></div><div><p>在构建时将进度记录到控制台。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>boolean</code><span>默认值</span><code>true</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>server</code></div><div><p>服务器应用入口点的完整路径，相对于当前工作区。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>string</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>service-worker</code></div><div><p>生成 Service Worker 配置。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>string</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>source-map</code></div><div><p>为脚本和样式输出源码映射。有关更多信息，请参阅 <a href="https://angular.dev/reference/configs/workspace-config#source-map-configuration">https://angular.dev/reference/configs/workspace-config#source-map-configuration</a>。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>boolean</code><span>默认值</span><code>false</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>ssr</code></div><div><p>在运行时服务器端渲染 (SSR) 应用页面。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>boolean</code><span>默认值</span><code>false</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>stats-json</code></div><div><p>生成一个 'stats.json' 文件，该文件可以使用 <a href="https://esbuild.github.io/analyze/">https://esbuild.github.io/analyze/</a> 进行分析。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>boolean</code><span>默认值</span><code>false</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>subresource-integrity</code></div><div><p>启用子资源完整性验证的使用。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>boolean</code><span>默认值</span><code>false</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>ts-config</code></div><div><p>TypeScript 配置文件的完整路径，相对于当前工作区。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>string</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>verbose</code></div><div><p>向输出日志添加更多详细信息。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>boolean</code><span>默认值</span><code>false</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>watch</code></div><div><p>当文件变更时运行构建。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>boolean</code><span>默认值</span><code>false</code></div></div><div class="docs-ref-content"><div class="docs-ref-option-and-description"><div class="docs-reference-option"><code>web-worker-ts-config</code></div><div><p>用于 Web Worker 模块的 TypeScript 配置。</p>
</div></div><div class="docs-reference-type-and-default"><span>值类型</span><code>string</code></div></div></div></div></div></div>