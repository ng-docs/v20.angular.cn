{
  "version": 3,
  "sources": ["src/app/features/home/components/home-editor.component.ts"],
  "sourcesContent": ["/*!\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.dev/license\n */\n\nimport {\n  ChangeDetectionStrategy,\n  ChangeDetectorRef,\n  Component,\n  DestroyRef,\n  EnvironmentInjector,\n  inject,\n  input,\n} from '@angular/core';\nimport {takeUntilDestroyed} from '@angular/core/rxjs-interop';\nimport {forkJoin, switchMap} from 'rxjs';\n\nimport {\n  EmbeddedEditor,\n  injectEmbeddedTutorialManager,\n  injectNodeRuntimeSandbox,\n} from '../../../editor';\n\n@Component({\n  selector: 'adev-code-editor',\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  imports: [EmbeddedEditor],\n  template: `<embedded-editor />`,\n})\nexport class CodeEditorComponent {\n  private readonly cdRef = inject(ChangeDetectorRef);\n  private readonly environmentInjector = inject(EnvironmentInjector);\n  private readonly destroyRef = inject(DestroyRef);\n\n  readonly tutorialFiles = input.required<string>();\n\n  constructor() {\n    this.loadEmbeddedEditor();\n  }\n\n  private loadEmbeddedEditor() {\n    // If using `async-await`, `this` will be captured until the function is executed\n    // and completed, which can lead to a memory leak if the user navigates away from\n    // this component to another page.\n    forkJoin([\n      injectNodeRuntimeSandbox(this.environmentInjector),\n      injectEmbeddedTutorialManager(this.environmentInjector),\n    ])\n      .pipe(\n        switchMap(([nodeRuntimeSandbox, embeddedTutorialManager]) =>\n          embeddedTutorialManager\n            .fetchAndSetTutorialFiles(this.tutorialFiles())\n            .then(() => nodeRuntimeSandbox),\n        ),\n        takeUntilDestroyed(this.destroyRef),\n      )\n      .subscribe((nodeRuntimeSandbox) => {\n        this.cdRef.markForCheck();\n        nodeRuntimeSandbox.init();\n      });\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCM,IAAO,uBAAP,MAAO,qBAAmB;EACb,QAAQ,OAAO,iBAAiB;EAChC,sBAAsB,OAAO,mBAAmB;EAChD,aAAa,OAAO,UAAU;EAEtC,gBAAgB,MAAM,SAAQ,GAAA,YAAA,CAAA,EAAA,WAAA,gBAAA,CAAA,IAAA,CAAA,CAAA;EAEvC,cAAA;AACE,SAAK,mBAAkB;EACzB;EAEQ,qBAAkB;AAIxB,aAAS;MACP,yBAAyB,KAAK,mBAAmB;MACjD,8BAA8B,KAAK,mBAAmB;KACvD,EACE,KACC,UAAU,CAAC,CAAC,oBAAoB,uBAAuB,MACrD,wBACG,yBAAyB,KAAK,cAAa,CAAE,EAC7C,KAAK,MAAM,kBAAkB,CAAC,GAEnC,mBAAmB,KAAK,UAAU,CAAC,EAEpC,UAAU,CAAC,uBAAsB;AAChC,WAAK,MAAM,aAAY;AACvB,yBAAmB,KAAI;IACzB,CAAC;EACL;;AA/B8B;cAAnB;mCAAA,sBAAmB;AAAA;cAAnB,uFAAA,sBAAmB,WAAA,CAAA,CAAA,kBAAA,CAAA,GAAA,QAAA,EAAA,eAAA,CAAA,GAAA,eAAA,EAAA,GAAA,OAAA,GAAA,MAAA,GAAA,UAAA,gCAAA,6BAAA,IAAA,KAAA;AAAA,MAAA,KAAA,GAAA;AAFnB,IAAA,oBAAA,GAAA,iBAAA;;GAEmB,gDAHpB,cAAc,GAAA,eAAA,GAAA,iBAAA,EAAA,CAAA;AAGpB,IAAO,sBAAP;;sEAAO,qBAAmB,CAAA;UAN/B;WAAU;MACT,UAAU;MACV,iBAAiB,wBAAwB;MACzC,SAAS,CAAC,cAAc;MACxB,UAAU;KACX;;;;6EACY,qBAAmB,EAAA,WAAA,uBAAA,UAAA,6DAAA,YAAA,GAAA,CAAA;AAAA,GAAA;",
  "names": []
}
